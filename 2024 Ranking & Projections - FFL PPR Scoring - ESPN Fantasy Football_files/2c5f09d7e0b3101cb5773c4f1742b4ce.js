/*
 (C) 2024 Conviva, Inc. All rights reserved. Confidential and proprietary. */
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;__dataLayer.media=__dataLayer.media||{};function is_muted(player){if(player)if(typeof player.muted==="boolean")return player.muted;else if(typeof player.muted==="function")return player.muted();return"N/A"}function get_duration(mediaItem,player){if(mediaItem){if(mediaItem.duration){var duration=Number(mediaItem.duration);if(isNaN(duration))return 0;if(duration>
9999)return Math.floor(duration/1E3);return duration}if(mediaItem.streamType==="live"&&!/24x7_news/.test(mediaItem.externalId))return 86400}if(player&&player.cache_&&player.cache_.duration)return player.cache_.duration;return 0}function get_screen_orientation(){if(screen&&screen.orientation&&screen.orientation.type)return screen.orientation.type;var mql=window.matchMedia("(orientation: portrait)");if(mql.matches)return"portrait";else return"landscape"}function get_player_name(player){if(player.techOptions&&
player.techOptions.tech)return player.techOptions.tech;return"Unified_TMS"}function get_gma_asset_name(omn,vs){omn=omn||{};var asv="";vs.forEach(function(v){if(asv)return;if(omn[v]){var asf=omn[v]||"";if(asf.indexOf("|")>-1){var cv=asf.split("|");asv=cv[1]||""}}});return asv}function get_network(mediaItem){if(mediaItem.network&&mediaItem.network.brand)return mediaItem.network.brand;if(mediaItem.trackingName!==undefined)return mediaItem.trackingName;if(mediaItem.network&&mediaItem.network.name!==undefined)return mediaItem.network.name;
return"N/A"}function get_media_name(mediaItem,isTVE){var mediaTitle=mediaItem&&mediaItem.title,isESPN=__dataLayer&&__dataLayer.space==="espn";if(isESPN)return mediaItem&&mediaItem.tracking&&mediaItem.tracking.heartbeats&&mediaItem.tracking.heartbeats.CMSID||mediaItem.title||"N/A";return isTVE&&__dataLayer.media.episodeName!=="N/A"?__dataLayer.media.episodeName:mediaItem.title||"N/A"}var isTVE=false,isMarvel=false;if(window.location.hostname.indexOf("marvel.com")>-1)isMarvel=true;else if(window.location.hostname.match(/(abc|fftv|freeform|fxtv|ngtv|fxnetworks|watchdisney)(fe(sb|qa)?)?\.com$/)&&
window.location.hostname.indexOf("abc6")===-1)isTVE=true;else if(window.location.href.indexOf("nationalgeographic.com/tv")>-1)isTVE=true;__dataLayer.updateMedia=function(playerDLname,eventName,eventData,currentPlayer){if(typeof currentPlayer!=="object"){Bootstrapper.Logging.logMsg("Failed to locate proper media player data in passed parameters. Exiting updateMedia function.");return}if(playerDLname==="dtci.media"){var bundle=currentPlayer.bundle_||{},configs=bundle.configs_||{},rawMediaItem=configs.mediaItem||
{},player=bundle.player_||{},dcfConfigs=bundle.dcfConfigs||{},mediaItem=player.mediaItem||{},tracking=mediaItem.tracking||{},conviva=tracking.conviva||{},omniture=tracking.omniture||{},heartbeats=tracking.heartbeats||{},nielsen=tracking.nielsen||{},mediainfo=player.mediainfo||{},ima3=player.ima3||{},currentAdEventInfo=ima3.currentAdEventInfo||{},adPosition=window.adPosition&&window.adPosition.toString(),show=mediaItem.show||{},mediaType=mediaItem.mediaType||{},page=__dataLayer.page||{},site=__dataLayer.site||
{};if(isMarvel){var adInfo=configs.advertisingInfo||{};__dataLayer.media.kitchensink={"raw":rawMediaItem,"ads":adInfo}}__dataLayer.media.dcfConfigs=dcfConfigs;if(currentAdEventInfo.adId!==undefined){__dataLayer.media.ad_id=currentAdEventInfo.adId&&currentAdEventInfo.adId[adPosition-1]||"N/A";__dataLayer.media.ad_length=currentAdEventInfo.creativeLength&&currentAdEventInfo.creativeLength[adPosition-1]||"N/A";__dataLayer.media.ad_name=currentAdEventInfo.adTitle&&currentAdEventInfo.adTitle[adPosition-
1]||"N/A";__dataLayer.media.ad_type=currentAdEventInfo.adType||"N/A";__dataLayer.media.ad_player=currentAdEventInfo.adSystem&&currentAdEventInfo.adSystem[adPosition-1]||"";__dataLayer.media.ad_position=adPosition||"1";__dataLayer.media.ad_creativeId=currentAdEventInfo.creativeId&&currentAdEventInfo.creativeId[adPosition-1]||"";__dataLayer.media.ad_creativeUrl=currentAdEventInfo.creativeUrl&&currentAdEventInfo.creativeUrl[adPosition-1]||""}else{var ima=player.ima||{},adsManager=ima.getAdsManager&&
ima.getAdsManager()||{},currentAd=adsManager.getCurrentAd&&adsManager.getCurrentAd(),podIndex=0;if(currentAd!=null&&currentAd.getAdId){podIndex=currentAd.getAdPodInfo().data.podIndex||0;__dataLayer.media.ad_id=currentAd.getAdId()||"N/A";__dataLayer.media.ad_length=currentAd.getDuration()||0;__dataLayer.media.ad_name=currentAd.getTitle()||"N/A";__dataLayer.media.ad_type=podIndex>0?"midroll":"preroll";__dataLayer.media.ad_player=currentAd.getAdSystem()||"N/A";__dataLayer.media.ad_position=adPosition||
"1";__dataLayer.media.ad_creativeId=currentAd.getCreativeAdId()||currentAd.getCreativeId()||"N/A";__dataLayer.media.ad_creativeUrl=currentAd.getMediaUrl()||"N/A"}else currentAd={}}__dataLayer.media.player_id=player.id_||currentPlayer.guid;__dataLayer.media.adLoadType=nielsen.adloadtype||(mediaItem.entityType!=="shortform"?1:2);__dataLayer.media.air_date=heartbeats.PublishDate||heartbeats.AirDate||page.isoAirDate||mediaItem.isoAirDate||"N/A";__dataLayer.media.airing_id=mediaItem.id&&mediaItem.title?
`${mediaItem.id}:${mediaItem.title}`:"N/A";__dataLayer.media.affiliate_name=mediainfo.affiliate||"N/A";__dataLayer.media.app_version=mediaItem.playerVersion||"none";__dataLayer.media.authentication_status="";__dataLayer.media.channelCount=mediaItem.channelCount||"N/A";__dataLayer.media.collection_name=mediaItem.streamType==="live"?mediaItem.collection_name||"N/A":page.collection_name||"N/A";__dataLayer.media.content_language=mediaItem.language||"N/A";__dataLayer.media.content_lock_flag=mediaItem.gated||
"N/A";__dataLayer.media.daypart=show.dayPart||page.daypart||"N/A";__dataLayer.media.description=mediaItem.description||"N/A";__dataLayer.media.digital_date=page.isoAvailableDate||mediaItem.digital_date||mediaItem.firstPresented||"N/A";__dataLayer.media.episode=mediainfo.eventId||"N/A";__dataLayer.media.episodeName=mediaItem.episodeName||"N/A";__dataLayer.media.episodeNumber=mediaItem.episodeNumber||"N/A";__dataLayer.media.feed=mediaItem.network&&mediaItem.network.name||"none";__dataLayer.media.fName=
rawMediaItem.name||"N/A";__dataLayer.media.format=mediaItem.streamType||"N/A";__dataLayer.media.contentType=mediaItem.contentType||mediaItem.streamType;__dataLayer.media.full_episode=mediaItem.entityType&&mediaItem.entityType==="longform"?"y":"n";__dataLayer.media.genre=mediaItem.videoShowGenre||mediaItem.genre||conviva["ns_st_ge"]||show.genre||"";__dataLayer.media.is_mute=is_muted(player);__dataLayer.media.league=page.league||"N/A";__dataLayer.media.length=__dataLayer.media.duration=get_duration(mediaItem,
player);__dataLayer.media.media_id=mediaItem.id&&mediaItem.id.toString()||"";__dataLayer.media.media_name=get_media_name(mediaItem,isTVE);__dataLayer.media.module_position_number=mediaItem.module_position_number;__dataLayer.media.network=get_network(mediaItem);__dataLayer.media.orientation=get_screen_orientation()||"";__dataLayer.media.placement=mediaItem.placement||"";__dataLayer.media.play_location=heartbeats.PlayLocation||"";__dataLayer.media.player_name=currentPlayer.playerName?currentPlayer.playerName:
get_player_name(player);__dataLayer.media.prefix=show.showPrefix||"N/A";__dataLayer.media.program=mediaItem.program||mediaItem.title||"N/A";__dataLayer.media.rating=mediaItem.tvrating||"N/A";__dataLayer.media.season=mediaItem.seasonNumber||"N/A";__dataLayer.media.seekInSeconds=mediaItem.seekInSeconds||"N/A";__dataLayer.media.show_type=isTVE?mediaItem.showType||"N/A":mediaItem.entityType||"N/A";__dataLayer.media.sport=mediaItem.sportName||"N/A";__dataLayer.media.startingProgress=mediaItem.startingProgress||
"N/A";__dataLayer.media.start_type=page.start_type||bundle.startType||mediainfo.startType||"N/A";__dataLayer.media.streamtypedetail=mediaItem.streamType==="vod"&&heartbeats.VideoTypeDetail?heartbeats.VideoTypeDetail:mediaItem.streamType;__dataLayer.media.title=show.title||heartbeats["a.media.show"]||"N/A";__dataLayer.media.track_code=mediaItem.trackCode||"";__dataLayer.media.trackTitle=show.trackTitle||"N/A";__dataLayer.media.type=mediaItem.type||"N/A";__dataLayer.media.videoOrigin=page.originator||
"N/A";__dataLayer.media.video_binge_play_count="";__dataLayer.media.video_detail=mediaType.mediaType||"";__dataLayer.media.video_domain="";__dataLayer.media.video_episode_release_date=mediaItem.availableDate||"";__dataLayer.media.video_first_consumption="";__dataLayer.media.video_saved_list_content="";__dataLayer.media.video_start_source="";__dataLayer.media.date_modified=mediaItem.dateModified||"N/A";__dataLayer.media.first_published=mediaItem.firstPub||"N/A";__dataLayer.media.author=mediaItem.author||
"N/A";__dataLayer.media.external_id=mediaItem.externalId||"";__dataLayer.media.asset_title=mediaItem.title||"";__dataLayer.media.location=mediaItem.location||"N/A";__dataLayer.media.originator=mediaItem.originator||page.originator||"N/A";__dataLayer.media.originating_station=mediaItem.originating_station||"N/A";__dataLayer.media.hic_category=mediaItem.hicCategory||"N/A";__dataLayer.media.view_type=mediaItem.viewType||"N/A";__dataLayer.media.m3u8=mediaItem.source&&mediaItem.source.url||"N/A";__dataLayer.media.tags=
mediaItem.tags||conviva.tags||"N/A";__dataLayer.media.date_viewed=mediaItem.dateViewed;__dataLayer.media.keywords=mediaItem.keywords||player.tagAttributes&&player.tagAttributes.class;__dataLayer.media.topic=mediaItem.topic;__dataLayer.media.stationTitle=mediaItem.stationTitle||"";__dataLayer.media.tms_id=mediaItem.tmsid||"";__dataLayer.media.is_live=mediaItem.video_isLive?mediaItem.video_isLive:mediaItem.isLive||false;__dataLayer.media.is_breaking=mediaItem.video_isBreaking||false;__dataLayer.media.game_id=
heartbeats.GameID||"";__dataLayer.media.video_type=heartbeats.VideoType||"";__dataLayer.media.asset_name=conviva.assetName||"";if(site.site==="gma"){var altasn=get_gma_asset_name(omniture,["eVar2","prop3"]);if(altasn)__dataLayer.media.asset_name=altasn}if(__dataLayer.space==="abc-otv")if(__dataLayer.media.full_episode==="y"){__dataLayer.media.media_id=mediaItem.network&&mediaItem.network.resource||"";__dataLayer.media.friendlyName=mediaItem.title||"N/A";__dataLayer.media.show=mediaItem.show||"N/A";
__dataLayer.media.season=mediaItem.seasonNumber||"N/A";__dataLayer.media.episode=mediaItem.episodeNumber||"N/A";__dataLayer.media.type="4";__dataLayer.media.date_modified=heartbeats.dateModified||"N/A";__dataLayer.media.first_published=heartbeats.firstPub||"N/A";__dataLayer.media.externalId=heartbeats.externalId||"N/A";__dataLayer.media.originating_station=heartbeats.originating_station||"N/A";__dataLayer.media.tags=heartbeats.tags||"N/A";__dataLayer.media.topic=heartbeats.topic;__dataLayer.media.view_type=
heartbeats.viewType||"N/A"}__dataLayer.media.video_size=omniture.eVar29||""}else if(v2player);else if(hudsonPlayer);document.dispatchEvent(new Event("tms.media.ready"))};Bootstrapper.register("datalayer")},4044769,[4010591,4044017,4053064,4062932],667991,[645040,671423,683385,763742],-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;__dataLayer.updateQOEMedia=function(index,eventData,type){var type=type||"playback";function isEmpty(obj){return Object.keys(obj).length===0}var _dl=__dataLayer;if(!_dl.media)_dl.media={};if(!_dl.media.qoe)_dl.media.qoe=[];var qoe=_dl.media.qoe,qoeMedia=qoe[index];if(!qoeMedia)qoeMedia=qoe[index]={};qoeMedia.playback=qoeMedia.playback||{},qoeMedia.ads=qoeMedia.ads||
{};var qoeSection=type==="playback"?qoeMedia.playback:qoeMedia.ads;var qoeData=eventData.data||{};if(!isEmpty(qoeData))for(var meta in qoeData)if(qoeData.hasOwnProperty(meta))qoeSection[meta]=qoeData[meta]};Bootstrapper.Conviva=Bootstrapper.Conviva||{};Bootstrapper.Conviva.players=[];Bootstrapper.Conviva.analyticsTrackers=[];Bootstrapper.Conviva.adsTrackers=[];Bootstrapper.Conviva.stringify=function(input){try{return JSON.stringify(input)}catch(error){return input}};Bootstrapper.Conviva.handleQOEEvent=
function(curPlayer,eventData){var et=eventData.type||"";if(!et||!curPlayer)return;if(Bootstrapper.Conviva.players.indexOf(curPlayer)===-1){Bootstrapper.Conviva.players.push(curPlayer);Bootstrapper.Conviva.analyticsTrackers.push(null);Bootstrapper.Conviva.adsTrackers.push(null)}if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.conviva===true)return;var curTrackerIndex=Bootstrapper.Conviva.players.indexOf(curPlayer);
var curTrackerBundle=Bootstrapper.Conviva.analyticsTrackers[curTrackerIndex],curAdsTrackerBundle=Bootstrapper.Conviva.adsTrackers[curTrackerIndex],curTracker=curTrackerBundle?curTrackerBundle.tracker:null,curAdsTracker=curAdsTrackerBundle?curAdsTrackerBundle.tracker:null;switch(et){case "play":if(!curTracker){if(__dataLayer.video)__dataLayer.updateQOEMedia(curTrackerIndex,{data:__dataLayer.video});Bootstrapper.Conviva.sessionStartUp(curTrackerIndex);curTrackerBundle=Bootstrapper.Conviva.analyticsTrackers[curTrackerIndex];
curTracker=curTrackerBundle.tracker;Bootstrapper.Logging.logMsg("CVVA Log: Player Loaded; Play Event Sent")}if(eventData){__dataLayer.updateQOEMedia(curTrackerIndex,eventData);if(curPlayer&&curTracker&&curTrackerBundle){var contentInfo=Bootstrapper.Conviva.setContentInfo(curPlayer,curTrackerIndex,curTrackerBundle);Bootstrapper.Logging.logMsg(`CVVA Log: Setting Content Info on Play ${Bootstrapper.Conviva.stringify(contentInfo)}`);curTracker.setContentInfo(contentInfo)}}break;case "playback_requested":if(__dataLayer.video){__dataLayer.updateQOEMedia(curTrackerIndex,
eventData);__dataLayer.updateQOEMedia(curTrackerIndex,{data:__dataLayer.video})}else __dataLayer.updateQOEMedia(curTrackerIndex,eventData);if(!curTracker){Bootstrapper.Conviva.sessionStartUp(curTrackerIndex);curTrackerBundle=Bootstrapper.Conviva.analyticsTrackers[curTrackerIndex];curTracker=curTrackerBundle.tracker}if(!curTrackerBundle.playbackRequested){if(__dataLayer.site.site==="fxnetworks")var initialInfo=Bootstrapper.Conviva.setContentInfo(curPlayer,curTrackerIndex,curTrackerBundle);else var initialInfo=
Bootstrapper.Conviva.setInitialContentInfo(curPlayer,curTrackerIndex,curTrackerBundle);Bootstrapper.Logging.logMsg(`CVVA Log: Playback Requested ${Bootstrapper.Conviva.stringify(initialInfo)}`);curTracker.reportPlaybackRequested(initialInfo);curTrackerBundle.playbackRequested=1}break;case "playback_event":__dataLayer.updateQOEMedia(curTrackerIndex,eventData);let evtType=eventData.data.event,evtData=eventData.data.eventData;Bootstrapper.Logging.logMsg(`CVVA Log: Playback Event ${Bootstrapper.Conviva.stringify(eventData)}`);
curTracker.reportPlaybackEvent(Conviva.Constants.Events[evtType]?Conviva.Constants.Events[evtType]:evtType,evtData?evtData:"");break;case "content_info":__dataLayer.updateQOEMedia(curTrackerIndex,eventData);if(!curTracker){if(__dataLayer.video)__dataLayer.updateQOEMedia(curTrackerIndex,{data:__dataLayer.video});Bootstrapper.Conviva.sessionStartUp(curTrackerIndex);curTrackerBundle=Bootstrapper.Conviva.analyticsTrackers[curTrackerIndex];curTracker=curTrackerBundle.tracker}var contentInfo=Bootstrapper.Conviva.setContentInfo(curPlayer,
curTrackerIndex,curTrackerBundle);Bootstrapper.Logging.logMsg(`CVVA Log: Setting Content Info ${Bootstrapper.Conviva.stringify(contentInfo)}`);curTracker.setContentInfo(contentInfo);break;case "player_info":__dataLayer.updateQOEMedia(curTrackerIndex,eventData);if(!curTracker){if(__dataLayer.video)__dataLayer.updateQOEMedia(curTrackerIndex,{data:__dataLayer.video});Bootstrapper.Conviva.sessionStartUp(curTrackerIndex);curTrackerBundle=Bootstrapper.Conviva.analyticsTrackers[curTrackerIndex];curTracker=
curTrackerBundle.tracker}var playerInfo=Bootstrapper.Conviva.setPlayerInfo(curTrackerIndex);Bootstrapper.Logging.logMsg(`CVVA Log: Setting Player Info ${Bootstrapper.Conviva.stringify(playerInfo)}`);curTracker.setPlayerInfo(playerInfo);break;case "playback_ended":if(!curTrackerBundle.error){curTrackerBundle.error=false;Bootstrapper.Logging.logMsg("CVVA Log: Reporting Playback Ended");curTracker.reportPlaybackEnded();curTrackerBundle.playbackRequested=0;curTrackerBundle.videoPlaying=false;if(curAdsTrackerBundle)curAdsTrackerBundle.adsPlaying=
false;curTrackerBundle.curTitle="";curTrackerBundle.curLive=false;__dataLayer.media.qoe[curTrackerIndex]={};if(curTracker){Bootstrapper.Logging.logMsg("CVVA Log: Releasing Current Tracker");curTracker.release()}if(curAdsTracker){Bootstrapper.Logging.logMsg("CVVA Log: Reporting Ad Tracker Late");curAdsTracker.release()}Bootstrapper.Logging.logMsg("CVVA Log: Ending Playback")}break;case "playback_error":if(curTrackerBundle){curTrackerBundle.playbackRequested=0;curTrackerBundle.videoPlaying=false;curTrackerBundle.curTitle=
"";curTrackerBundle.curLive=false;curTrackerBundle.error=true}if(curAdsTrackerBundle)curAdsTrackerBundle.adsPlaying=false;if(__dataLayer.video)__dataLayer.updateQOEMedia(curTrackerIndex,{data:__dataLayer.video});if(curTracker){var errorMessage="Video Playback Failure",isRecoverable=eventData.isRecoverable||false;if(eventData.data&&eventData.data.errorSeverity&&typeof eventData.data.errorSeverity==="string")errorMessage=eventData.data.errorSeverity;if(isRecoverable){Bootstrapper.Logging.logMsg("CVVA Log: Calling Playback Error");
curTracker.reportPlaybackError(errorMessage,Conviva.Constants.ErrorSeverity.FATAL)}else{Bootstrapper.Logging.logMsg("CVVA Log: Calling Playback Failed");var contentInfo=Bootstrapper.Conviva.setContentInfo(curPlayer,curTrackerIndex,curTrackerBundle);curTracker.reportPlaybackFailed(errorMessage,contentInfo)}__dataLayer.media.qoe[curTrackerIndex]={};Bootstrapper.Logging.logMsg(`CVVA Log: Playback ${isRecoverable?"Error":"Failed"} With Error: `,errorMessage);curTracker.release();Bootstrapper.Conviva.players[curTrackerIndex]=
null}if(curAdsTracker)curAdsTracker.release();break;case "dispose":Bootstrapper.Logging.logMsg("CVVA Log: Ensuring that Conviva is Disposed of Before Next Session");if(curTrackerBundle){curTrackerBundle.playbackRequested=0;curTrackerBundle.videoPlaying=false;curTrackerBundle.curTitle="";curTrackerBundle.curLive=false}if(curAdsTrackerBundle)curAdsTrackerBundle.adsPlaying=false;__dataLayer.media.qoe[curTrackerIndex]={};if(curTracker){curTracker.reportPlaybackEnded&&curTracker.reportPlaybackEnded();
curTracker.reportAdBreakEnded&&curTracker.reportAdBreakEnded();if(curTracker.reportAdEnded){let adInfo=Bootstrapper.Conviva.setAdInfo(curPlayer,curTrackerIndex,curTrackerBundle);curTracker.reportAdEnded(adInfo)}curTracker.release();Bootstrapper.Conviva.players[curTrackerIndex]=null}if(curAdsTracker)curAdsTracker.release();break;case "bitrate_change":if(curTracker&&curTrackerBundle.videoPlaying);break;case "playback_metric":if(curTracker&&curTrackerBundle.videoPlaying){var metKeys=Object.keys(eventData.data);
metKeys.forEach(function(k){var constMetric=Conviva.Constants.Playback[k],metValue=eventData.data[k];if(!constMetric)return;if(constMetric==="BITRATE")metValue=isNaN(metValue)?0:parseFloat(metValue);if(constMetric==="RENDERED_FRAMERATE"){metValue=isNaN(metValue)?null:parseFloat(metValue);if(metValue===null)metValue=60}if(constMetric==="RESOLUTION"&&Array.isArray(metValue)){if(metValue.length!==2)return;metValue=metValue.join("x")}if(constMetric==="PLAYER_STATE"){var psMetric=metValue.toUpperCase(metValue);
metValue=Conviva.Constants.PlayerState[psMetric]?Conviva.Constants.PlayerState[psMetric]:"UNKNOWN"}curTracker&&metValue!==null&&curTracker.reportPlaybackMetric(constMetric,metValue);Bootstrapper.Logging.logMsg(`CVVA Log: Reporting Playback Metric ${constMetric}, ${metValue}`)})}break;case "ad_metric":if(curAdsTrackerBundle&&curAdsTrackerBundle.adsPlaying){var metKeys=Object.keys(eventData.data);metKeys.forEach(function(k){var constMetric=Conviva.Constants.Playback[k],metValue=eventData.data[k];if(!constMetric)return;
if(constMetric==="BITRATE")metValue=isNaN(metValue)?0:parseFloat(metValue);if(constMetric==="RENDERED_FRAMERATE"){metValue=isNaN(metValue)?null:parseFloat(metValue);if(metValue===null)metValue=60}if(constMetric==="PLAYER_STATE"){var psMetric=metValue.toUpperCase(metValue);metValue=Conviva.Constants.PlayerState[psMetric]?Conviva.Constants.PlayerState[psMetric]:"UNKNOWN"}curAdsTracker&&metValue!==null&&curAdsTracker.reportAdMetric(constMetric,metValue);Bootstrapper.Logging.logMsg(`CVVA Log: Reporting Ad Metric ${constMetric}, ${metValue}`)})}break;
case "ad_info":__dataLayer.updateQOEMedia(curTrackerIndex,eventData,"ads");if(!curAdsTracker){Bootstrapper.Conviva.adsStartUp(curTracker,curTrackerIndex);curAdsTrackerBundle=Bootstrapper.Conviva.adsTrackers[curTrackerIndex];curAdsTracker=curAdsTrackerBundle.tracker}if(!curAdsTrackerBundle.startedSession&&curTracker){curAdsTrackerBundle.startedSession=true;curTracker.reportAdBreakStarted(eventData.adSide&&eventData.adSide==="server"?Conviva.Constants.AdType.SERVER_SIDE:Conviva.Constants.AdType.CLIENT_SIDE,
Conviva.Constants.AdPlayer.CONTENT);Bootstrapper.Logging.logMsg("CVVA Log: Ad Break Started")}var adInfo=Bootstrapper.Conviva.setAdInfo(curPlayer,curTrackerIndex,curTrackerBundle);Bootstrapper.Logging.logMsg(`CVVA Log: Setting Ad Info ${Bootstrapper.Conviva.stringify(adInfo)}`);curAdsTracker.setAdInfo(adInfo);break;case "ad_player_info":__dataLayer.updateQOEMedia(curTrackerIndex,eventData,"ads");if(!curAdsTracker){Bootstrapper.Conviva.adsStartUp(curTracker,curTrackerIndex);curAdsTrackerBundle=Bootstrapper.Conviva.adsTrackers[curTrackerIndex];
curAdsTracker=curAdsTrackerBundle.tracker}if(!curAdsTrackerBundle.startedSession&&curTracker){curAdsTrackerBundle.startedSession=true;curTracker.reportAdBreakStarted(eventData.adSide&&eventData.adSide==="server"?Conviva.Constants.AdType.SERVER_SIDE:Conviva.Constants.AdType.CLIENT_SIDE,Conviva.Constants.AdPlayer.CONTENT);Bootstrapper.Logging.logMsg("CVVA Log: Ad Break Started")}var adPlayerInfo=Bootstrapper.Conviva.setAdPlayerInfo(curTrackerIndex);Bootstrapper.Logging.logMsg(`CVVA Log: Setting Ad Player Info ${Bootstrapper.Conviva.stringify(adPlayerInfo)}`);
curAdsTracker.setAdPlayerInfo(adPlayerInfo);break;case "ad_break_started":__dataLayer.updateQOEMedia(curTrackerIndex,eventData,"ads");if(!curAdsTracker){Bootstrapper.Conviva.adsStartUp(curTracker,curTrackerIndex);curAdsTrackerBundle=Bootstrapper.Conviva.adsTrackers[curTrackerIndex];curAdsTracker=curAdsTrackerBundle.tracker}if(!curAdsTrackerBundle.startedSession&&curTracker){curAdsTrackerBundle.startedSession=true;curTracker.reportAdBreakStarted(eventData.adSide&&eventData.adSide==="server"?Conviva.Constants.AdType.SERVER_SIDE:
Conviva.Constants.AdType.CLIENT_SIDE,Conviva.Constants.AdPlayer.CONTENT);Bootstrapper.Logging.logMsg("CVVA Log: Ad Break Started")}break;case "ad_started":__dataLayer.updateQOEMedia(curTrackerIndex,eventData,"ads");if(!curAdsTrackerBundle.startedSession&&curTracker){curAdsTrackerBundle.startedSession=true;curTracker.reportAdBreakStarted(eventData.adSide&&eventData.adSide==="server"?Conviva.Constants.AdType.SERVER_SIDE:Conviva.Constants.AdType.CLIENT_SIDE,Conviva.Constants.AdPlayer.CONTENT);Bootstrapper.Logging.logMsg("CVVA Log: Ad Break Started")}var adInfo=
Bootstrapper.Conviva.setAdInfo(curPlayer,curTrackerIndex,curTrackerBundle);Bootstrapper.Logging.logMsg(`CVVA Log: Ad Started ${Bootstrapper.Conviva.stringify(adInfo)}`);curAdsTracker.reportAdStarted(adInfo);curAdsTracker.reportAdMetric("PLAYER_STATE",Conviva.Constants.PlayerState.PLAYING);break;case "ad_failed":if(curAdsTrackerBundle)curAdsTrackerBundle.adsPlaying=false;var message="unknown",adInfo={};if(eventData.data){var evd=eventData.data;message=evd.message||"unknown",adInfo=evd.info||Bootstrapper.Conviva.setAdInfo(curPlayer,
curTrackerIndex,curTrackerBundle);if(evd["c3.ad.id"])adInfo["c3.ad.id"]=evd["c3.ad.id"]||evd.adId||"NA"}if(curAdsTracker){curAdsTracker.reportAdFailed(message,adInfo);Bootstrapper.Logging.logMsg(`CVVA Log: Ad Failed ${message}, ${Bootstrapper.Conviva.stringify(adInfo)}`);curAdsTracker.reportPlaybackEnded&&curAdsTracker.reportPlaybackEnded();curAdsTracker.reportAdBreakEnded&&curAdsTracker.reportAdBreakEnded()}break;case "ad_ended":var adInfo=Bootstrapper.Conviva.setAdInfo(curPlayer,curTrackerIndex,
curTrackerBundle);curAdsTracker.reportAdEnded(adInfo);Bootstrapper.Logging.logMsg("CVVA Log: Ad Ended");break;case "ad_break_ended":if(curAdsTrackerBundle){curAdsTrackerBundle.adsPlaying=false;curAdsTrackerBundle.startedSession=false}curTracker.reportAdBreakEnded();Bootstrapper.Logging.logMsg("CVVA Log: Ad Break Ended");break;case "ad_loaded":__dataLayer.updateQOEMedia(curTrackerIndex,eventData,"ads");if(!curAdsTrackerBundle.startedSession&&curTracker){curAdsTrackerBundle.startedSession=true;curTracker.reportAdBreakStarted(eventData.adSide&&
eventData.adSide==="server"?Conviva.Constants.AdType.SERVER_SIDE:Conviva.Constants.AdType.CLIENT_SIDE,Conviva.Constants.AdPlayer.CONTENT);Bootstrapper.Logging.logMsg("CVVA Log: Ad Break Started")}var adInfo=Bootstrapper.Conviva.setAdInfo(curPlayer,curTrackerIndex,curTrackerBundle);Bootstrapper.Logging.logMsg(`CVVA Log: Ad Loaded ${Bootstrapper.Conviva.stringify(adInfo)}`);curAdsTracker.reportAdLoaded(adInfo);break;default:break}};Bootstrapper.Conviva.cleanSessionsUnload=function(){if(Bootstrapper.Conviva.analyticsTrackers.length)Bootstrapper.Conviva.analyticsTrackers.forEach(function(tracker){if(tracker&&
tracker.videoPlaying&&typeof tracker.tracker==="object"){var curTracker=tracker.tracker;if(typeof curTracker.reportPlaybackEnded==="function")curTracker.reportPlaybackEnded();if(typeof curTracker.release==="function")curTracker.release()}});if(Bootstrapper.Conviva.adsTrackers.length)Bootstrapper.Conviva.adsTrackers.forEach(function(tracker){if(tracker&&tracker.adsPlaying&&typeof tracker.tracker==="object"){var curTracker=tracker.tracker;if(typeof curTracker.release==="function")curTracker.release()}})};
Bootstrapper.Conviva.configureConviva=function(options){var dflt={"debugGatewayURL":"https://dmed-test.testonly.conviva.com"};var settings=Object.assign(dflt,options);var baseDebugKey="6f4780f3f1c410159773174fc103819d3763406e",baseKey="27f19c7c68e3eadf7756fb7efdb661dd8909acf9",keyToUse=settings.debug?settings.debugKey||baseDebugKey:settings.baseKey||baseKey;if(settings.devKey&&settings.prodKey)keyToUse=Bootstrapper.ensightenOptions.publishPath==="prod"?settings.prodKey:settings.devKey;if(settings.test_gateway_url)settings.debugGatewayURL=
settings.test_gateway_url;settings.customerKey=keyToUse;if(settings.appBrand)Bootstrapper.Conviva.appBrand=settings.appBrand;if(settings.debug){var debugSettings={};Bootstrapper.Logging.logMsg("CONVIVA: plugin loaded");debugSettings[Conviva.Constants.GATEWAY_URL]=settings.debugGatewayURL;debugSettings[Conviva.Constants.LOG_LEVEL]=Conviva.Constants.LogLevel.DEBUG;Conviva.Analytics.init(settings.customerKey,null,debugSettings)}else Conviva.Analytics.init(settings.customerKey,null);var deviceMetadata=
{};deviceMetadata[Conviva.Constants.DeviceMetadata.CATEGORY]=Conviva.Constants.DeviceCategory.WEB;deviceMetadata[Conviva.Constants.DeviceMetadata.BRAND]="";if(navigator.userAgentData){var isMobile=navigator.userAgentData.mobile;deviceMetadata[Conviva.Constants.DeviceMetadata.TYPE]=isMobile?Conviva.Constants.DeviceType.MOBILE:Conviva.Constants.DeviceType.DESKTOP;var os=navigator.userAgentData.platform;deviceMetadata[Conviva.Constants.DeviceMetadata.OS_NAME]=os||""}Conviva.Analytics.setDeviceMetadata(deviceMetadata);
Bootstrapper.Conviva.config=settings;Bootstrapper.Conviva.ready=1};Bootstrapper.Conviva.init=function(options){var waitForConviva=setInterval(function(){if(typeof window.Conviva==="object"){clearInterval(waitForConviva);Bootstrapper.Conviva.configureConviva(options)}},1E3)}},4033481,[4010591,4044017,4053064,4032039,4062932],709338,[645040,671423,683385,710428,763742],24);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):window.ADB=t()}(this,function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?
"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}function a(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=
Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function o(e){return(o=
Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function u(e,t){return!t||"object"!=typeof t&&"function"!=
typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){var e=0;return{getUniqueId:function(){return e+=1}}}var h=Object.freeze({AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",
BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"}),f=Object.freeze({MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"}),p=Object.freeze({Video:"video",Audio:"audio"}),m=Object.freeze({FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"}),_=Object.freeze({Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",
Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"}),v=Object.freeze({Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"}),
k=Object.freeze({Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"}),y=Object.freeze({VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"}),g=Object.freeze({OptOut:"optout",OptIn:"optin",OptUnknown:"optunknown"}),S=function(e){return null==e},P=Object.freeze({Log:"log",Info:"info",Warn:"warn",Error:"error"}),I=function(e){return"boolean"==
typeof e},A=function(e){return"string"==typeof e},b=function(e){return A(e)&&e.length>0};function E(){return(new Date).getTime()}function C(e,t){if(window.console){var a;switch(e){case P.Log:a=window.console.log;break;case P.Info:a=window.console.info;break;case P.Warn:a=window.console.warn;break;case P.Error:a=window.console.error}if(a)a("MediaSDK: ["+function(){var e=new Date,t=function(e){return e<10?"00"+e:e<100?"0"+e:""+e}(e.getMilliseconds());return e.toTimeString()+"."+t}()+"] "+t)}}function M(e,
t){return setInterval(e,t)}var w=!1;function T(e){var t=e.debugLogging;I(t)&&(w=t)}function O(e,t,a){(w||e===P.Error)&&C(e,t+" "+a)}function R(e){var t=b(e)?"["+e+"]":"";return{log:function(e){!function(e,t){O(P.Log,e,t)}(t,e)},info:function(e){!function(e,t){O(P.Info,e,t)}(t,e)},warn:function(e){!function(e,t){O(P.Warn,e,t)}(t,e)},error:function(e){!function(e,t){O(P.Error,e,t)}(t,e)}}}var B=Object.freeze({AnalyticsTrackingServer:"analyticstrackingserver",AnalyticsSsl:"analyticsssl",Rsid:"rsid",
Vid:"vid",Aid:"aid",Mcid:"mid",McOrgId:"orgid",AamLocHint:"aamlochint",CustomerIds:"customerids",MediaTrackingServer:"mediatrackingserver",MediaChannel:"mediachannel",MediaPlayerName:"mediaplayername",MediaAppVersion:"mediaappversion",MediaSsl:"mediassl"}),z=Object.freeze({Get:"GET",Post:"POST"}),j=Object.freeze({SessionStart:"sessionStart",SessionComplete:"sessionComplete",SessionEnd:"sessionEnd",AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",
AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",Play:"play",Ping:"ping",BufferStart:"bufferStart",PauseStart:"pauseStart",BitrateChange:"bitrateChange",Error:"error",StateStart:"stateStart",StateEnd:"stateEnd"}),D=Object.freeze({Show:"media.show",Season:"media.season",Episode:"media.episode",AssetId:"media.assetId",Genre:"media.genre",FirstAirDate:"media.firstAirDate",FirstDigitalDate:"media.firstDigitalDate",Rating:"media.rating",Originator:"media.originator",
Network:"media.network",ShowType:"media.showType",AdLoad:"media.adLoad",MVPD:"media.pass.mvpd",Auth:"media.pass.auth",DayPart:"media.dayPart",Feed:"media.feed",StreamFormat:"media.streamFormat",Artist:"media.artist",Album:"media.album",Label:"media.label",Author:"media.author",Station:"media.station",Publisher:"media.publisher"}),V=Object.freeze({Advertiser:"media.ad.advertiser",CampaignId:"media.ad.campaignId",CreativeId:"media.ad.creativeId",SiteId:"media.ad.siteId",CreativeUrl:"media.ad.creativeURL",
PlacementId:"media.ad.placementId"}),q=Object.freeze({Id:"media.id",Name:"media.name",Length:"media.length",ContentType:"media.contentType",StreamType:"media.streamType",PlayerName:"media.playerName",Resume:"media.resume",Channel:"media.channel",Publisher:"media.publisher",SdkVersion:"media.sdkVersion"}),x=Object.freeze({AppInstallationId:"appInstallationId",AnalyticsTrackingServer:"analytics.trackingServer",AnalyticsRsid:"analytics.reportSuite",AnalyticsSsl:"analytics.enableSSL",AnalyticsVisitorId:"analytics.visitorId",
AnalyticsAid:"analytics.aid",VisitorMcOrgId:"visitor.marketingCloudOrgId",VisitorMcuserId:"visitor.marketingCloudUserId",VisitorAamLocHint:"visitor.aamLocationHint",VisitorCustomerIds:"visitor.customerIDs",VisitorCustomerKeyId:"id",VisitorCustomerKeyAuthState:"authState",MediaVersion:"media.libraryVersion"}),N=Object.freeze({Channel:"media.channel"}),F=Object.freeze({PodFriendlyName:"media.ad.podFriendlyName",PodIndex:"media.ad.podIndex",PodSecond:"media.ad.podSecond"}),L=Object.freeze({Name:"media.ad.name",
Id:"media.ad.id",Length:"media.ad.length",PodPosition:"media.ad.podPosition",PlayerName:"media.ad.playerName"}),G=Object.freeze({FriendlyName:"media.chapter.friendlyName",Length:"media.chapter.length",Offset:"media.chapter.offset",Index:"media.chapter.index"}),H=Object.freeze({StateName:"media.state.name"}),Q=Object.freeze({Bitrate:"media.qoe.bitrate",DroppedFrames:"media.qoe.droppedFrames",Fps:"media.qoe.framesPerSecond",StartupTime:"media.qoe.timeToStart",ErrorId:"media.qoe.errorID",ErrorSource:"media.qoe.errorSource",
ErrorSourcePlayer:"player",ErrorSourceExternal:"external"}),U=Object.freeze({EventType:"eventType",Params:"params",QoE:"qoeData",CustomMetadata:"customMetadata",PlayerTime:"playerTime"}),K=Object.freeze({Playhead:"playhead",Ts:"ts"}),W=function(e){return 0===Object.keys(e).length},Z=function(e){return"number"==typeof e&&!isNaN(e)},$=function(e){var t=parseInt(e,10);return Z(t)&&e===t},J=function(t){return!S(t)&&!Array.isArray(t)&&"object"===e(t)},X=function(e){return"function"==typeof e},Y=function(e,
t){if(!X(e))return t;try{return e()}catch(e){return t}};function ee(e){var t={};return J(e)&&Object.keys(e).forEach(function(a){var i=e[a],r=i.id,n=i.authState,s=void 0===n?0:n;b(r)&&(t[a]={id:r,authState:s})}),t}function te(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r({},U.EventType,e.eventType);i[U.PlayerTime]=(r(t={},K.Playhead,e.playhead),r(t,K.Ts,e.ts),t),W(e.customMetadata)||(i[U.CustomMetadata]=e.customMetadata),W(e.qoeData)||(i[U.QoE]=e.qoeData);var n=s({},e.params);
if(e.eventType===j.SessionStart){b(a[B.AnalyticsTrackingServer])&&(n[x.AnalyticsTrackingServer]=a[B.AnalyticsTrackingServer]),b(a[B.Rsid])&&(n[x.AnalyticsRsid]=a[B.Rsid]),I(a[B.AnalyticsSsl])&&(n[x.AnalyticsSsl]=a[B.AnalyticsSsl]),b(a[B.Vid])&&(n[x.AnalyticsVisitorId]=a[B.Vid]),b(a[B.Aid])&&(n[x.AnalyticsAid]=a[B.Aid]),b(a[B.McOrgId])&&(n[x.VisitorMcOrgId]=a[B.McOrgId]),b(a[B.Mcid])&&(n[x.VisitorMcuserId]=a[B.Mcid]),$(a[B.AamLocHint])&&(n[x.VisitorAamLocHint]=a[B.AamLocHint]);var o=ee(a[B.CustomerIds]);
if(J(o)&&!W(o)&&(n[x.VisitorCustomerIds]=o),!b(n[q.Channel])){var d=a[B.MediaChannel];n[q.Channel]=b(d)?d:"unknown"}var c=a[B.MediaPlayerName];n[q.PlayerName]=b(c)?c:"unknown",b(a[B.MediaAppVersion])&&(n[q.SdkVersion]=a[B.MediaAppVersion]),n[x.MediaVersion]="js-3.0.1"}else if(e.eventType===j.AdStart){var u=a[B.MediaPlayerName];n[L.PlayerName]=b(u)?u:"unknown"}W(n)||(i[U.Params]=n);var l=Y(function(){return JSON.stringify(i)},"");return l}function ae(e){try{var t=e.split("/");return t[4]?t[4]:""}catch(e){return""}}
var ie=[B.AnalyticsTrackingServer,B.AnalyticsSsl,B.Rsid,B.Vid,B.Aid,B.Mcid,B.McOrgId,B.AamLocHint,B.CustomerIds,B.MediaChannel,B.MediaAppVersion,B.MediaPlayerName,B.MediaTrackingServer,B.MediaSsl],re=function(){function e(a){t(this,e),this._logger=R("MediaSession("+a+")"),this._hits=[],this._ecParams=null,this._sessionId=null,this._creatingMCSession=!1,this._createSessionFailureCount=0,this._internalError=!1,this._doneQueuing=!1}return i(e,[{key:"queue",value:function(e){this._internalError||this._doneQueuing||
this._hits.push(e)}},{key:"process",value:function(e){this._internalError||0!==this._hits.length&&e.isReady()&&(this._ecParams||(this._ecParams=e.resolveKeys(ie)),S(this._sessionId)?this._startMCSession():this._flushPendingHits())}},{key:"end",value:function(){this._logger.log("end"),this._doneQueuing=!0}},{key:"abort",value:function(){this._logger.log("abort"),this._doneQueuing=!0,this._hits=[]}},{key:"doneProcessing",value:function(){return this._internalError||this._doneQueuing&&0===this._hits.length}},
{key:"_startMCSession",value:function(){var e=this;if(!this._creatingMCSession){var t=this._hits[0];if(t.eventType!==j.SessionStart)return this._logger.log("Dropping hit("+t.eventType+") as we expected sessionStart"),void this._hits.shift();var a,i=((a=this._ecParams)[B.MediaSsl]?"https":"http")+"://"+a[B.MediaTrackingServer]+"/api/v1/sessions",r=te(t,this._ecParams);this._creatingMCSession=!0,this._sendRequest(i,z.Post,r,function(t,a){var i,r=!1;do{if(201!==t)break;var n=a.location;if(!b(n))break;
if(!(i=ae(n)))break;r=!0}while(0);r?(e._logger.log("Media collection session created with session id :  "+i),e._sessionId=i,e._hits.shift()):(e._logger.log("Creating Media collection session failed"),e._createSessionFailureCount+=1,e._createSessionFailureCount>=3&&(e._logger.log("Internal error: Creating Media collection session failed 3 times"),e._internalError=!0)),e._creatingMCSession=!1})}}},{key:"_flushPendingHits",value:function(){var e=this;this._hits.splice(0,3).forEach(function(t){var a,
i,r=(a=e._ecParams,i=e._sessionId,(a[B.MediaSsl]?"https":"http")+"://"+a[B.MediaTrackingServer]+"/api/v1/sessions/"+i+"/events"),n=te(t,e._ecParams);e._sendRequest(r,z.Post,n,function(){})})}},{key:"_sendRequest",value:function(e,t,a,i){!function(e,t,a,i){if(void 0!==window.XMLHttpRequest){var r=new window.XMLHttpRequest;if("withCredentials"in r){var n=r;return n.open(t,e,!0),n.timeout=5E3,n.onload=function(){var e=n.status&&parseInt(n.status,10),t=n.responseText,a=function(e){var t={};try{e.trim().split(/[\r\n]+/).forEach(function(e){var a=
e.split(":",1)[0],i=e.substring(a.length+2);a.length>0&&(t[a.toLowerCase()]=i)})}catch(e){}return t}(n.getAllResponseHeaders());i(e,a,t)},n.onerror=function(){i(0)},void n.send(a)}i(0)}}(e,t,a,i)}}]),e}(),ne=function(){function e(){t(this,e),this._logger=R("MediaProcessor"),this._isConfigured=!1,this._privacyStatus=g.OptUnknown,this._sessionIdGenerator=l(),this._sessionMap={}}return i(e,[{key:"configure",value:function(e){var t=this;this._isConfigured||(this._ecResolver=e,this._privacyStatus=this._ecResolver.getPrivacyStatus(),
this._ecResolver.notifyPrivacyChange(this._onPrivacyChange.bind(this)),this._isConfigured=!0,this._processSessionTimer=M(function(){t._tick()},500),this._logger.log("Configured with resolver"))}},{key:"startSession",value:function(){if(this._privacyStatus===g.OptOut)return this._logger.log("Privacy is opted out. Not starting a session"),-1;var t=this._sessionIdGenerator.getUniqueId();return this._sessionMap[t]=e._createMediaSession(t),t}},{key:"processHit",value:function(e,t){if(-1!==e){var a=this._sessionMap[e];
S(a)||(this._logger.log("Process hit for session("+e+") \x3d\x3e "+t),a.queue(t))}}},{key:"endSession",value:function(e){if(-1!==e){var t=this._sessionMap[e];S(t)||t.end()}}},{key:"_tick",value:function(){var e=this;Object.keys(this._sessionMap).forEach(function(t){var a=e._sessionMap[t];a.process(e._ecResolver),a.doneProcessing()&&(e._logger.log("Removing session "+t+" from store as it has finished processing"),delete e._sessionMap[t])})}},{key:"_onPrivacyChange",value:function(e){var t=this;this._logger.log("Privacy switched to "+
e),this._privacyStatus=e,e===g.OptOut&&(this._logger.log("Aborting all active sessions"),Object.keys(this._sessionMap).forEach(function(e){t._sessionMap[e].abort()}))}}],[{key:"_createMediaSession",value:function(e){return new re(e)}}]),e}(),se=function(){function e(a){var i=a.id,r=a.name,n=a.position,s=a.length;if(t(this,e),!b(i))throw new TypeError("id is not a valid string");if(!b(r))throw new TypeError("name is not a valid string");if(!$(n)||n<1)throw new TypeError("position should be a valid integer greater than zero");
if(!Z(s)||s<0)throw new TypeError("length cannot be less than zero");this.id=i,this.name=r,this.position=n,this.length=s}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&(this.id===t.id&&this.name===t.name&&this.position===t.position&&this.length===t.length)}},{key:"serialize",value:function(){var e;return r(e={},"ad.id",this.id),r(e,"ad.name",this.name),r(e,"ad.position",this.position),r(e,"ad.length",this.length),e}}],[{key:"deserialize",value:function(t){return J(t)?Y(function(){return new e({id:t["ad.id"],
name:t["ad.name"],position:t["ad.position"],length:t["ad.length"]})},null):null}}]),e}(),oe=function(){function e(a){var i=a.name,r=a.position,n=a.startTime;if(t(this,e),!b(i))throw new TypeError("name is not a valid string");if(!$(r)||r<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(n)||n<0)throw new TypeError("startTime cannot be less than zero");this.name=i,this.position=r,this.startTime=n}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof
e&&(this.name===t.name&&this.position===t.position&&this.startTime===t.startTime)}},{key:"serialize",value:function(){var e;return r(e={},"adbreak.name",this.name),r(e,"adbreak.position",this.position),r(e,"adbreak.starttime",this.startTime),e}}],[{key:"deserialize",value:function(t){return J(t)?Y(function(){return new e({name:t["adbreak.name"],position:t["adbreak.position"],startTime:t["adbreak.starttime"]})},null):null}}]),e}(),de=function(){function e(a){var i=a.name,r=a.position,n=a.startTime,
s=a.length;if(t(this,e),!b(i))throw new TypeError("name is not a valid string");if(!$(r)||r<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(n)||n<0)throw new TypeError("startTime cannot be less than zero");if(!Z(s)||s<0)throw new TypeError("length cannot be less than zero");this.name=i,this.position=r,this.startTime=n,this.length=s}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&(this.name===t.name&&this.position===t.position&&this.startTime===
t.startTime&&this.length===t.length)}},{key:"serialize",value:function(){var e;return r(e={},"chapter.name",this.name),r(e,"chapter.position",this.position),r(e,"chapter.starttime",this.startTime),r(e,"chapter.length",this.length),e}}],[{key:"deserialize",value:function(t){return J(t)?Y(function(){return new e({name:t["chapter.name"],position:t["chapter.position"],startTime:t["chapter.starttime"],length:t["chapter.length"]})},null):null}}]),e}(),ce=new RegExp("^[a-zA-Z0-9_\\.]{1,64}$"),ue=function(){function e(a){var i=
a.name;if(t(this,e),!b(i))throw new TypeError("name is not a valid string");if(!ce.test(i))throw new TypeError("name should match '^[a-zA-Z0-9_\\.]{1,64}$' pattern");this.name=i}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&this.name===t.name}},{key:"serialize",value:function(){return r({},"customstate.name",this.name)}}],[{key:"deserialize",value:function(t){return J(t)?Y(function(){return new e({name:t["customstate.name"]})},null):null}}]),e}(),le=function(){function e(a){var i=
a.id,r=a.name,n=a.streamType,s=a.mediaType,o=a.length,d=a.resumed,c=a.prerollWaitTime,u=a.granularAdTracking;if(t(this,e),!b(i))throw new TypeError("id is not a valid string");if(!b(r))throw new TypeError("name is not a valid string");if(!b(n))throw new TypeError("streamType is not a valid string");if(!Z(o)||o<0)throw new TypeError("length cannot be less than zero");this.id=i,this.name=r,this.streamType=n,this.mediaType=s!==p.Audio?p.Video:s,this.length=o,this.resumed=!!I(d)&&d,this.prerollWaitTime=
!$(c)||c<0?250:c,this.granularAdTracking=!!I(u)&&u}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&(this.id===t.id&&this.name===t.name&&this.streamType===t.streamType&&this.mediaType===t.mediaType&&this.length===t.length&&this.resumed===t.resumed&&this.prerollWaitTime===t.prerollWaitTime&&this.granularAdTracking===t.granularAdTracking)}},{key:"serialize",value:function(){var e;return r(e={},"media.id",this.id),r(e,"media.name",this.name),r(e,"media.streamtype",this.streamType),
r(e,"media.type",this.mediaType),r(e,"media.length",this.length),r(e,"media.resumed",this.resumed),r(e,"media.prerollwaittime",this.prerollWaitTime),r(e,"media.granularadtracking",this.granularAdTracking),e}}],[{key:"deserialize",value:function(t){return J(t)?Y(function(){return new e({id:t["media.id"],name:t["media.name"],streamType:t["media.streamtype"],mediaType:t["media.type"],length:t["media.length"],resumed:t["media.resumed"],prerollWaitTime:t["media.prerollwaittime"],granularAdTracking:t["media.granularadtracking"]})},
null):null}}]),e}(),he=function(){function e(a){var i=a.bitrate,r=a.droppedFrames,n=a.fps,s=a.startupTime;if(t(this,e),!Z(i)||i<0)throw new TypeError("bitrate must not be less than zero");if(!Z(r)||r<0)throw new TypeError("dropped frames must not be less than zero");if(!Z(n)||n<0)throw new TypeError("fps must not be less than zero");if(!Z(s)||s<0)throw new TypeError("startupTime must not be less than zero");this.bitrate=i,this.droppedFrames=r,this.fps=n,this.startupTime=s}return i(e,[{key:"equal",
value:function(t){return!S(t)&&t instanceof e&&(this.bitrate===t.bitrate&&this.droppedFrames===t.droppedFrames&&this.fps===t.fps&&this.startupTime===t.startupTime)}},{key:"serialize",value:function(){var e;return r(e={},"qoe.bitrate",this.bitrate),r(e,"qoe.droppedframes",this.droppedFrames),r(e,"qoe.fps",this.fps),r(e,"qoe.startuptime",this.startupTime),e}}],[{key:"deserialize",value:function(t){return J(t)?Y(function(){return new e({bitrate:t["qoe.bitrate"],droppedFrames:t["qoe.droppedframes"],fps:t["qoe.fps"],
startupTime:t["qoe.startuptime"]})},null):null}}]),e}(),fe=R("Media");var pe=function(e){try{return JSON.stringify(e,null,4)}catch(e){return"[Error formatting object]"}},me=Object.freeze({Name:"event.name",Params:"event.params",Metadata:"event.metadata",TimeStamp:"event.ts",InternalEvent:"event.internal",Playhead:"event.playhead",ErrorId:"error.id"}),_e=Object.freeze(s({SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pause",Error:"error",QoEUpdate:"qoeUpdate",
PlayheadUpdate:"playheadUpdate"},h)),ve=function(){function e(a,i){if(t(this,e),S(a))throw new Error("id is not valid");this.id=a,this.description=i,this.predicates=[],this.actions=[]}return i(e,[{key:"addPredicate",value:function(e,t,a){if(!X(e))throw new Error("predicate is not a function");return this.predicates.push({predicate:e,val:t,message:a}),this}},{key:"addAction",value:function(e){if(!X(e))throw new Error("action is not a function");return this.actions.push(e),this}},{key:"runPredicates",
value:function(e){for(var t=0;t<this.predicates.length;++t){var a=this.predicates[t];if(a.predicate(e)!==a.val)return{success:!1,message:a.message}}return{success:!0,message:""}}},{key:"runActions",value:function(e){for(var t=0;t<this.actions.length;++t)if(!(0,this.actions[t])(e))return!1;return!0}}]),e}(),ke=function(){function e(a){if(t(this,e),!a)throw new Error("RuleEngine needs a logger");this.logger=a,this.rules={}}return i(e,[{key:"setEnterAction",value:function(e){if(!X(e))throw new Error("enterAction is not a function");
this.enterAction=e}},{key:"setExitAction",value:function(e){if(!X(e))throw new Error("exitAction is not a function");this.exitAction=e}},{key:"addRule",value:function(e){if(!(e instanceof ve))throw new Error("rule is not valid");this.rules[e.id]=e}},{key:"processRule",value:function(e,t){var a=this.rules[e];if(!a)return{success:!1,message:"Matching rule is not found"};var i=a.runPredicates(t);do{if(!i.success){this.logger.log("RuleEngine: Predicates failed for rule "+a.description+" : "+i.message);
break}if(this.enterAction&&!this.enterAction(a,t)){this.logger.log("RuleEngine: Enter action prevents further processing for rule "+a.description);break}if(!a.runActions(t)){this.logger.log("RuleEngine: Rule action prevents further processing for rule "+a.description);break}this.exitAction&&this.exitAction(a,t)}while(0);return i}}]),e}(),ye=Object.freeze({Init:0,Play:1,Pause:2,Buffer:3,Seek:4,Stall:5}),ge=function(){function e(a,i){t(this,e),this._mediaInfo=a,this._mediaMetadata=i,this._adBreakInfo=
null,this._adInfo=null,this._adMetadata=null,this._chapterInfo=null,this._chapterMetadata=null,this._qoeInfo=null,this._playhead=0,this._playstate=ye.Init,this._buffering=!1,this._seeking=!1,this._customStates=new Map}return i(e,[{key:"setAdBreakInfo",value:function(e){this._adBreakInfo=e}},{key:"clearAdBreakInfo",value:function(){this._adBreakInfo=null}},{key:"setAdInfo",value:function(e,t){this._adInfo=e,this._adMetadata=t}},{key:"clearAdInfo",value:function(){this._adInfo=null,this._adMetadata=
null}},{key:"setChapterInfo",value:function(e,t){this._chapterInfo=e,this._chapterMetadata=t}},{key:"clearChapterInfo",value:function(){this._chapterInfo=null,this._chapterMetadata=null}},{key:"enterPlaybackState",value:function(e){switch(e){case ye.Play:case ye.Pause:case ye.Stall:this._playstate=e;break;case ye.Buffer:this._buffering=!0;break;case ye.Seek:this._seeking=!0}}},{key:"exitPlaybackState",value:function(e){switch(e){case ye.Buffer:this._buffering=!1;break;case ye.Seek:this._seeking=!1}}},
{key:"isInPlaybackState",value:function(e){var t=!1;switch(e){case ye.Init:case ye.Play:case ye.Pause:case ye.Stall:t=this._playstate===e;break;case ye.Buffer:t=this._buffering;break;case ye.Seek:t=this._seeking}return t}},{key:"isIdle",value:function(){return!this.isInPlaybackState(ye.Play)||this.isInPlaybackState(ye.Seek)||this.isInPlaybackState(ye.Buffer)}},{key:"startCustomState",value:function(e){this._customStates.set(e.name,e)}},{key:"endCustomState",value:function(e){this._customStates.set(e.name,
null)}},{key:"isCustomStateActive",value:function(e){return!!this._customStates.get(e.name)}},{key:"getActiveCustomStates",value:function(){var e=[];return this._customStates.forEach(function(t){t&&e.push(t)}),e}},{key:"hasTrackedCustomState",value:function(e){return this._customStates.has(e.name)}},{key:"numTrackedCustomStates",value:function(){return this._customStates.size}},{key:"mediaInfo",get:function(){return this._mediaInfo}},{key:"mediaMetadata",get:function(){return this._mediaMetadata}},
{key:"isInAdBreak",get:function(){return!!this._adBreakInfo}},{key:"adBreakInfo",get:function(){return this._adBreakInfo}},{key:"isInAd",get:function(){return!!this._adInfo}},{key:"adInfo",get:function(){return this._adInfo}},{key:"adMetadata",get:function(){return this._adMetadata}},{key:"isInChapter",get:function(){return!!this._chapterInfo}},{key:"chapterInfo",get:function(){return this._chapterInfo}},{key:"chapterMetadata",get:function(){return this._chapterMetadata}},{key:"qoeInfo",get:function(){return this._qoeInfo},
set:function(e){this._qoeInfo=e}},{key:"playhead",get:function(){return this._playhead},set:function(e){this._playhead=e}}]),e}(),Se=function(){function e(a){var i=a.eventType,r=a.params,n=a.customMetadata,s=a.qoeData,o=a.playhead,d=a.ts;if(t(this,e),!A(i))throw new Error("eventType should be a valid string");if(!Z(o))throw new Error("playhead should be a valid number");if(!$(d)||d<0)throw new Error("ts should be a valid positive integer");this.eventType=i,this.params=J(r)?r:{},this.customMetadata=
J(n)?n:{},this.qoeData=J(s)?s:{},this.playhead=o,this.ts=d}return i(e,[{key:"toString",value:function(){return pe(this)}}]),e}(),Pe=function(){function e(a,i,r,n,s){t(this,e),this._logger=a,this._hitProcessor=i,this._config=r,this._media=n,this._refTs=s,this._previousState=ye.Init,this._previousStateTs=s,this._interval=1E4,this._lastQoeInfo=null,this._startSession()}return i(e,[{key:"setRefTS",value:function(e){this._refTs=e}},{key:"processMediaStart",value:function(){this._processMediaStart(!1)}},
{key:"processMediaComplete",value:function(){this._generateHit(j.SessionComplete),this._endSession()}},{key:"processMediaSkip",value:function(){this._generateHit(j.SessionEnd),this._endSession()}},{key:"processAdBreakStart",value:function(){var t=e._extractAdBreakParams(this._media);this._generateHit(j.AdBreakStart,t,{})}},{key:"processAdBreakComplete",value:function(){this._generateHit(j.AdBreakComplete)}},{key:"processAdBreakSkip",value:function(){this._generateHit(j.AdBreakComplete)}},{key:"processAdStart",
value:function(){e._isGranularAdTrackingEnabled(this._media)&&(this._interval=1E3);var t=e._extractAdParams(this._media),a=e._extractAdMetadata(this._media);this._generateHit(j.AdStart,t,a)}},{key:"processAdComplete",value:function(){this._interval=1E4,this._generateHit(j.AdComplete)}},{key:"processAdSkip",value:function(){this._interval=1E4,this._generateHit(j.AdSkip)}},{key:"processChapterStart",value:function(){var t=e._extractChapterParams(this._media),a=e._extractChapterMetadata(this._media);
this._generateHit(j.ChapterStart,t,a)}},{key:"processChapterComplete",value:function(){this._generateHit(j.ChapterComplete)}},{key:"processChapterSkip",value:function(){this._generateHit(j.ChapterSkip)}},{key:"processCustomStateStart",value:function(e){var t={};t[H.StateName]=e.name,this._generateHit(j.StateStart,t,{},{})}},{key:"processCustomStateEnd",value:function(e){var t={};t[H.StateName]=e.name,this._generateHit(j.StateEnd,t,{},{})}},{key:"processSessionAbort",value:function(){this.processMediaSkip()}},
{key:"processSessionRestart",value:function(){this._previousState=ye.Init,this._previousStateTs=this._refTs,this._lastQoeInfo=null,this._startSession(),this.processMediaStart(!0),this._media.isInChapter&&this.processChapterStart(),this._media.isInAdBreak&&this.processAdBreakStart(),this._media.isInAd&&this.processAdStart();var e,t=this._media.getActiveCustomStates();for(e=0;e<t.length;e++)this.processCustomStateStart(t[e]);this.processPlayback(!0)}},{key:"processBitrateChange",value:function(){var t=
e._extractQoeData(this._media);this._generateHit(j.BitrateChange,{},{},t)}},{key:"processError",value:function(t){var a=e._extractQoeData(this._media);a[Q.ErrorId]=t,a[Q.ErrorSource]=Q.ErrorSourcePlayer,this._generateHit(j.Error,{},{},a)}},{key:"processPlayback",value:function(t){if(this._isTracking){var a=this._getPlaybackState();if(this._previousState!==a||t){var i=e._playbackStateToMediaCollectionEvent(a);this._generateHit(i),this._previousState=a,this._previousStateTs=this._refTs}else a===this._previousState&&
this._refTs-this._previousStateTs>=this._interval&&(this._generateHit(j.Ping),this._previousStateTs=this._refTs)}}},{key:"_processMediaStart",value:function(t){var a={};a=e._extractMediaParams(this._media),t&&(a[q.Resume]=!0);var i=this._config[N.Channel];b(i)&&(a[N.Channel]=i);var r=e._extractMediaMetadata(this._media);this._generateHit(j.SessionStart,a,r)}},{key:"_generateHit",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?
arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=r;if(S(n)){var s=this._media.qoeInfo,o=!(S(s)||!S(this._lastQoeInfo)&&this._lastQoeInfo.equal(s));o&&(n=e._extractQoeData(this._media),this._lastQoeInfo=s)}if(this._isTracking){var d=this._media.playhead,c=this._refTs,u=new Se({eventType:t,params:a,customMetadata:i,qoeData:n,playhead:d,ts:c});this._hitProcessor.processHit(this._sessionId,u)}else this._logger.log("#_generateHit - Dropping hit as we have internally stopped tracking the session")}},
{key:"_getPlaybackState",value:function(){return this._media.isInPlaybackState(ye.Buffer)?ye.Buffer:this._media.isInPlaybackState(ye.Seek)?ye.Seek:this._media.isInPlaybackState(ye.Play)?ye.Play:this._media.isInPlaybackState(ye.Pause)?ye.Pause:this._media.isInPlaybackState(ye.Stall)?ye.Stall:ye.Init}},{key:"_startSession",value:function(){this._sessionId=this._hitProcessor.startSession(),this._isTracking=!0,this._logger.log("Start internal session("+this._sessionId+")")}},{key:"_endSession",value:function(){this._hitProcessor.endSession(this._sessionId),
this._isTracking=!1,this._logger.log("End internal session("+this._sessionId+")")}}],[{key:"_isGranularAdTrackingEnabled",value:function(e){var t=e.mediaInfo;return!S(t)&&t.granularAdTracking}},{key:"_extractMediaParams",value:function(t){var a={},i=t.mediaInfo;S(i)||(a[q.Id]=i.id,a[q.Name]=i.name,a[q.Length]=i.length,a[q.ContentType]=i.streamType,a[q.StreamType]=i.mediaType,a[q.Resume]=i.resumed);var r=t.mediaMetadata;return J(r)&&Object.keys(r).forEach(function(t){if(e._standardMediaMetadataMap.has(t)){var i=
e._standardMediaMetadataMap.get(t);a[i]=r[t]}}),a}},{key:"_extractMediaMetadata",value:function(t){var a={},i=t.mediaMetadata;return J(i)&&Object.keys(i).forEach(function(t){e._standardMediaMetadataMap.has(t)||(a[t]=i[t])}),a}},{key:"_extractAdBreakParams",value:function(e){var t={},a=e.adBreakInfo;return S(a)||(t[F.PodFriendlyName]=a.name,t[F.PodIndex]=a.position,t[F.PodSecond]=a.startTime),t}},{key:"_extractAdParams",value:function(t){var a={},i=t.adInfo;S(i)||(a[L.Name]=i.name,a[L.Id]=i.id,a[L.Length]=
i.length,a[L.PodPosition]=i.position);var r=t.adMetadata;return J(r)&&Object.keys(r).forEach(function(t){if(e._standardAdMetadataMap.has(t)){var i=e._standardAdMetadataMap.get(t);a[i]=r[t]}}),a}},{key:"_extractAdMetadata",value:function(t){var a={},i=t.adMetadata;return J(i)&&Object.keys(i).forEach(function(t){e._standardAdMetadataMap.has(t)||(a[t]=i[t])}),a}},{key:"_extractChapterParams",value:function(e){var t={},a=e.chapterInfo;return S(a)||(t[G.FriendlyName]=a.name,t[G.Index]=a.position,t[G.Length]=
a.length,t[G.Offset]=a.startTime),t}},{key:"_extractChapterMetadata",value:function(e){var t={},a=e.chapterMetadata;return J(a)&&Object.keys(a).forEach(function(e){t[e]=a[e]}),t}},{key:"_extractQoeData",value:function(e){var t={},a=e.qoeInfo;return J(a)&&(t[Q.Bitrate]=parseInt(a.bitrate,10),t[Q.Fps]=parseInt(a.fps,10),t[Q.DroppedFrames]=parseInt(a.droppedFrames,10),t[Q.StartupTime]=parseInt(a.startupTime,10)),t}},{key:"_playbackStateToMediaCollectionEvent",value:function(e){switch(e){case ye.Buffer:return j.BufferStart;
case ye.Seek:return j.PauseStart;case ye.Play:return j.Play;case ye.Pause:return j.PauseStart;case ye.Stall:return j.Play;case ye.Init:return j.Ping;default:return""}}}]),e}(),Ie=new Map;Ie.set(_.Show,D.Show),Ie.set(_.Season,D.Season),Ie.set(_.Episode,D.Episode),Ie.set(_.AssetId,D.AssetId),Ie.set(_.Genre,D.Genre),Ie.set(_.FirstAirDate,D.FirstAirDate),Ie.set(_.FirstDigitalDate,D.FirstDigitalDate),Ie.set(_.Rating,D.Rating),Ie.set(_.Originator,D.Originator),Ie.set(_.Network,D.Network),Ie.set(_.ShowType,
D.ShowType),Ie.set(_.AdLoad,D.AdLoad),Ie.set(_.MVPD,D.MVPD),Ie.set(_.Authorized,D.Auth),Ie.set(_.DayPart,D.DayPart),Ie.set(_.Feed,D.Feed),Ie.set(_.StreamFormat,D.StreamFormat),Ie.set(v.Artist,D.Artist),Ie.set(v.Album,D.Album),Ie.set(v.Label,D.Label),Ie.set(v.Author,D.Author),Ie.set(v.Station,D.Station),Ie.set(v.Publisher,D.Publisher),Pe._standardMediaMetadataMap=Ie;var Ae=new Map;Ae.set(k.Advertiser,V.Advertiser),Ae.set(k.CampaignId,V.CampaignId),Ae.set(k.CreativeId,V.CreativeId),Ae.set(k.PlacementId,
V.PlacementId),Ae.set(k.SiteId,V.SiteId),Ae.set(k.CreativeUrl,V.CreativeUrl),Pe._standardAdMetadataMap=Ae;var be="Media tracker is not in active tracking session, call 'API:trackSessionStart' to begin a new tracking session.",Ee="Media tracker is in active tracking session, call 'API:trackSessionEnd' or 'API:trackComplete' to end current tracking session.",Ce="Media tracker is tracking buffer events, call 'API:trackEvent(BufferComplete)' first to stop tracking buffer events.",Me="Media tracker is not tracking buffer events, call 'API:trackEvent(BufferStart)' before 'API:trackEvent(BufferComplete)'.",
we="Media tracker is tracking seek events, call 'API:trackEvent(SeekComplete)' first to stop tracking seek events.",Te="Media tracker is not tracking seek events, call 'API:trackEvent(SeekStart)' before 'API:trackEvent(SeekComplete)'.",Oe="Media tracker is not tracking any AdBreak, call 'API:trackEvent(AdBreakStart)' to begin tracking AdBreak",Re="Media tracker is not tracking any Ad, call 'API:trackEvent(AdStart)' to begin tracking Ad",Be="Media tracker is not tracking any Chapter, call 'API:trackEvent(ChapterStart)' to begin tracking Chapter",
ze="MediaInfo passed into 'API:trackSessionStart' is invalid.",je="AdBreakInfo passed into 'API:trackEvent(AdBreakStart)' is invalid.",De="Media tracker is currently tracking the AdBreak passed into 'API:trackEvent(AdBreakStart)'.",Ve="AdInfo passed into 'API:trackEvent(AdStart)' is invalid.",qe="StateInfo passed into 'API:trackEvent(StateStart|StateEnd)' is invalid.",xe="ErrorId passed into 'API:trackError()' is invalid.",Ne="Media tracker is currently tracking the Ad passed into 'API:trackEvent(AdStart)'.",
Fe="ChapterInfo passed into 'API:trackEvent(ChapterStart)' is invalid.",Le="Media tracker is currently tracking the Chapter passed into 'API:trackEvent(ChapterStart)'.",Ge="QoEInfo passed into 'API:updateQoEInfo' is invalid.",He="Media tracker is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",Qe="Media tracker is already tracking a state with the same state name.",Ue="Media tracker is not already tracking a state with the same state name.",
Ke="Media tracker has reached maximum number of states per session (10).",We=new RegExp("^[a-zA-Z0-9_\\.]+$"),Ze=function(){function e(a,i,r){if(t(this,e),!a)throw new Error("hitProcessor should be valid");if(!i)throw new Error("logger should be valid");this._hitProcessor=a,this._logger=i,this._config=J(r)?r:{},this._resetStates(),this._setupRules()}return i(e,[{key:"track",value:function(t){var a=t[me.Name];return b(a)?$(t[me.TimeStamp])?(J(t[me.Params])||(t[me.Params]={}),t[me.Metadata]=e._cleanMetadata(t[me.Metadata]),
!!this._prerollDeferRule(a,t)||this._processRule(a,t)):(this._logger.log("#track - Event timestamp is missing in track event data. - "+a),!1):(this._logger.log("#track - Event name is missing in track event data"),!1)}},{key:"_resetStates",value:function(){this._media=null,this._hitGenerator=null,this._sessionRefTs=null,this._inPrerollInterval=!1,this._prerollRefTs=null,this._prerollQueuedRules=[],this._contentStarted=!1,this._contentStartRefTs=null,this._mediaIdle=!1,this._trackerIdle=!1,this._mediaIdleStartTs=
0}},{key:"_createHitGenerator",value:function(e){return new Pe(this._logger,this._hitProcessor,this._config,this._media,e)}},{key:"_processRule",value:function(e,t){return this._ruleEngine.processRule(e,t).success}},{key:"_setupRules",value:function(){this._ruleEngine=new ke(this._logger),this._ruleEngine.setEnterAction(this._cmdEnterAction.bind(this)),this._ruleEngine.setExitAction(this._cmdExitAction.bind(this));var e=this._isInMedia.bind(this),t=this._isInAdBreak.bind(this),a=this._isInAd.bind(this),
i=this._isInChapter.bind(this),r=this._isInTrackedState.bind(this),n=this._isValidMediaInfo.bind(this),s=this._isValidAdBreakInfo.bind(this),o=this._isValidAdInfo.bind(this),d=this._isValidChapterInfo.bind(this),c=this._isValidQoEInfo.bind(this),u=this._isValidStateInfo.bind(this),l=this._isValidErrorInfo.bind(this),h=this._isDifferentAdBreakInfo.bind(this),f=this._isDifferentAdInfo.bind(this),p=this._isDifferentChapterInfo.bind(this),m=this._allowPlayerStateChange.bind(this),_=this._allowStateTrack.bind(this),
v=this._isInBuffering.bind(this),k=this._isInSeeking.bind(this),y=this._cmdMediaStart.bind(this),g=this._cmdMediaSkip.bind(this),S=this._cmdMediaComplete.bind(this),P=this._cmdError.bind(this),I=this._cmdPlay.bind(this),A=this._cmdPause.bind(this),b=this._cmdBufferStart.bind(this),E=this._cmdBufferComplete.bind(this),C=this._cmdSeekStart.bind(this),M=this._cmdSeekComplete.bind(this),w=this._cmdAdStart.bind(this),T=this._cmdAdComplete.bind(this),O=this._cmdAdSkip.bind(this),R=this._cmdAdBreakStart.bind(this),
B=this._cmdAdBreakComplete.bind(this),z=this._cmdAdBreakSkip.bind(this),j=this._cmdChapterStart.bind(this),D=this._cmdChapterComplete.bind(this),V=this._cmdChapterSkip.bind(this),q=this._cmdStateStart.bind(this),x=this._cmdStateEnd.bind(this),N=this._cmdBitrateChange.bind(this),F=this._cmdQoEUpdate.bind(this),L=this._cmdPlayheadUpdate.bind(this),G=new ve(_e.SessionStart,"API:trackSessionStart");G.addPredicate(e,!1,Ee).addPredicate(n,!0,ze).addAction(y),this._ruleEngine.addRule(G);var H=new ve(_e.SessionComplete,
"API:trackComplete");H.addPredicate(e,!0,be).addAction(O).addAction(z).addAction(V).addAction(S),this._ruleEngine.addRule(H);var Q=new ve(_e.SessionEnd,"API:trackSessionEnd");Q.addPredicate(e,!0,be).addAction(O).addAction(z).addAction(V).addAction(g),this._ruleEngine.addRule(Q);var U=new ve(_e.Error,"API:trackError");U.addPredicate(e,!0,be).addPredicate(l,!0,xe).addAction(P),this._ruleEngine.addRule(U);var K=new ve(_e.Play,"API:trackPlay");K.addPredicate(e,!0,be).addPredicate(m,!0,He).addAction(M).addAction(E).addAction(I),
this._ruleEngine.addRule(K);var W=new ve(_e.Pause,"API:trackPause");W.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(v,!1,Ce).addPredicate(k,!1,we).addAction(A),this._ruleEngine.addRule(W);var Z=new ve(_e.BufferStart,"API:trackEvent(BufferStart)");Z.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(v,!1,Ce).addPredicate(k,!1,we).addAction(b),this._ruleEngine.addRule(Z);var $=new ve(_e.BufferComplete,"API:trackEvent(BufferComplete)");$.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(v,
!0,Me).addAction(E),this._ruleEngine.addRule($);var J=new ve(_e.SeekStart,"API:trackEvent(SeekStart)");J.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(k,!1,we).addPredicate(v,!1,Ce).addAction(C),this._ruleEngine.addRule(J);var X=new ve(_e.SeekComplete,"API:trackEvent(SeekComplete)");X.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(k,!0,Te).addAction(M),this._ruleEngine.addRule(X);var Y=new ve(_e.AdBreakStart,"API:trackEvent(AdBreakStart)");Y.addPredicate(e,!0,be).addPredicate(s,
!0,je).addPredicate(h,!0,De).addAction(O).addAction(z).addAction(R),this._ruleEngine.addRule(Y);var ee=new ve(_e.AdBreakComplete,"API:trackEvent(AdBreakComplete)");ee.addPredicate(e,!0,be).addPredicate(t,!0,Oe).addAction(O).addAction(B),this._ruleEngine.addRule(ee);var te=new ve(_e.AdStart,"API:trackEvent(AdStart)");te.addPredicate(e,!0,be).addPredicate(t,!0,Oe).addPredicate(o,!0,Ve).addPredicate(f,!0,Ne).addAction(O).addAction(w),this._ruleEngine.addRule(te);var ae=new ve(_e.AdComplete,"API:trackEvent(AdComplete)");
ae.addPredicate(e,!0,be).addPredicate(t,!0,Oe).addPredicate(a,!0,Re).addAction(T),this._ruleEngine.addRule(ae);var ie=new ve(_e.AdSkip,"API:trackEvent(AdSkip)");ie.addPredicate(e,!0,be).addPredicate(t,!0,Oe).addPredicate(a,!0,Re).addAction(O),this._ruleEngine.addRule(ie);var re=new ve(_e.ChapterStart,"API::trackEvent(chapterStart)");re.addPredicate(e,!0,be).addPredicate(d,!0,Fe).addPredicate(p,!0,Le).addAction(V).addAction(j),this._ruleEngine.addRule(re);var ne=new ve(_e.ChapterComplete,"API::trackEvent(chapterComplete)");
ne.addPredicate(e,!0,be).addPredicate(i,!0,Be).addAction(D),this._ruleEngine.addRule(ne);var se=new ve(_e.ChapterSkip,"API:trackEvent(chapterSkip)");se.addPredicate(e,!0,be).addPredicate(i,!0,Be).addAction(V),this._ruleEngine.addRule(se);var oe=new ve(_e.BitrateChange,"API:trackEvent(BitrateChange)");oe.addPredicate(e,!0,be).addAction(N),this._ruleEngine.addRule(oe);var de=new ve(_e.QoEUpdate,"API:trackEvent(QoEUpdate)");de.addPredicate(e,!0,be).addPredicate(c,!0,Ge).addAction(F),this._ruleEngine.addRule(de);
var ce=new ve(_e.PlayheadUpdate,"API:trackEvent(PlayheadUpdate)");ce.addPredicate(e,!0,be).addAction(L),this._ruleEngine.addRule(ce);var ue=new ve(_e.StateStart,"API:trackEvent(StateStart)");ue.addPredicate(e,!0,be).addPredicate(u,!0,qe).addPredicate(r,!1,Qe).addPredicate(_,!0,Ke).addAction(q),this._ruleEngine.addRule(ue);var le=new ve(_e.StateEnd,"API:trackEvent(StateEnd)");le.addPredicate(e,!0,be).addPredicate(u,!0,qe).addPredicate(r,!0,Ue).addAction(x),this._ruleEngine.addRule(le)}},{key:"_isInMedia",
value:function(){return!S(this._media)}},{key:"_isInAdBreak",value:function(){return this._media.isInAdBreak}},{key:"_isInAd",value:function(){return this._media.isInAd}},{key:"_isInChapter",value:function(){return this._media.isInChapter}},{key:"_isInBuffering",value:function(){return this._media.isInPlaybackState(ye.Buffer)}},{key:"_isInSeeking",value:function(){return this._media.isInPlaybackState(ye.Seek)}},{key:"_isInTrackedState",value:function(e){var t=ue.deserialize(e[me.Params]);return this._media.isCustomStateActive(t)}},
{key:"_isValidMediaInfo",value:function(e){return null!=le.deserialize(e[me.Params])}},{key:"_isValidAdBreakInfo",value:function(e){return null!=oe.deserialize(e[me.Params])}},{key:"_isValidAdInfo",value:function(e){return null!=se.deserialize(e[me.Params])}},{key:"_isValidStateInfo",value:function(e){return null!=ue.deserialize(e[me.Params])}},{key:"_isValidChapterInfo",value:function(e){return null!=de.deserialize(e[me.Params])}},{key:"_isValidQoEInfo",value:function(e){return null!=he.deserialize(e[me.Params])}},
{key:"_isValidErrorInfo",value:function(e){var t=e[me.Params];if(!J(t))return!1;var a=t[me.ErrorId];return b(a)}},{key:"_isDifferentAdBreakInfo",value:function(e){return!oe.deserialize(e[me.Params]).equal(this._media.adBreakInfo)}},{key:"_isDifferentAdInfo",value:function(e){return!se.deserialize(e[me.Params]).equal(this._media.adInfo)}},{key:"_isDifferentChapterInfo",value:function(e){return!de.deserialize(e[me.Params]).equal(this._media.chapterInfo)}},{key:"_allowPlayerStateChange",value:function(){return!this._media.isInAdBreak||
this._media.isInAd}},{key:"_allowStateTrack",value:function(e){var t=ue.deserialize(e[me.Params]);return this._media.hasTrackedCustomState(t)||this._media.numTrackedCustomStates()<10}},{key:"_cmdEnterAction",value:function(e,t){var a=this._getRefTs(t);return S(this._hitGenerator)||this._hitGenerator.setRefTS(a),!0}},{key:"_cmdExitAction",value:function(e,t){if(S(this._media))return!1;e.id===_e.AdStart&&(!this._media.isInPlaybackState(ye.Init)||this._media.isInPlaybackState(ye.Buffer)||this._media.isInPlaybackState(ye.Seek)||
this._media.enterPlaybackState(ye.Play)),e.id!==_e.BufferComplete&&e.id!==_e.SeekComplete||this._media.isInPlaybackState(ye.Init)&&this._media.enterPlaybackState(ye.Pause),this._cmdIdleDetection(t),this._cmdSessionTimeoutDetection(t),this._cmdContentStartDetection(t);var a=e.id===_e.AdStart||e.id===_e.AdBreakComplete;return this._hitGenerator.processPlayback(a),!0}},{key:"_cmdMediaStart",value:function(e){var t=le.deserialize(e[me.Params]),a=e[me.Metadata],i=this._getRefTs(e);return this._media=new ge(t,
a),this._hitGenerator=this._createHitGenerator(i),this._hitGenerator.processMediaStart(),this._sessionRefTs=i,this._inPrerollInterval=0!==t.prerollWaitTime,this._prerollRefTs=i,!0}},{key:"_cmdMediaComplete",value:function(){return this._hitGenerator.processMediaComplete(),this._resetStates(),!0}},{key:"_cmdMediaSkip",value:function(){return this._hitGenerator.processMediaSkip(),this._resetStates(),!0}},{key:"_cmdAdBreakStart",value:function(e){var t=oe.deserialize(e[me.Params]);return this._media.setAdBreakInfo(t),
this._hitGenerator.processAdBreakStart(),!0}},{key:"_cmdAdBreakComplete",value:function(){return this._hitGenerator.processAdBreakComplete(),this._media.clearAdBreakInfo(),!0}},{key:"_cmdAdBreakSkip",value:function(){return this._media.isInAdBreak&&(this._hitGenerator.processAdBreakSkip(),this._media.clearAdBreakInfo()),!0}},{key:"_cmdAdStart",value:function(e){var t=se.deserialize(e[me.Params]),a=e[me.Metadata];return this._media.setAdInfo(t,a),this._hitGenerator.processAdStart(),!0}},{key:"_cmdAdComplete",
value:function(){return this._hitGenerator.processAdComplete(),this._media.clearAdInfo(),!0}},{key:"_cmdAdSkip",value:function(){return this._media.isInAd&&(this._hitGenerator.processAdSkip(),this._media.clearAdInfo()),!0}},{key:"_cmdChapterStart",value:function(e){var t=de.deserialize(e[me.Params]),a=e[me.Metadata];return this._media.setChapterInfo(t,a),this._hitGenerator.processChapterStart(),!0}},{key:"_cmdChapterComplete",value:function(){return this._hitGenerator.processChapterComplete(),this._media.clearChapterInfo(),
!0}},{key:"_cmdChapterSkip",value:function(){return this._media.isInChapter&&(this._hitGenerator.processChapterSkip(),this._media.clearChapterInfo()),!0}},{key:"_cmdError",value:function(e){var t=e[me.Params][me.ErrorId];return this._hitGenerator.processError(t),!0}},{key:"_cmdBitrateChange",value:function(){return this._hitGenerator.processBitrateChange(),!0}},{key:"_cmdPlay",value:function(){return this._media.enterPlaybackState(ye.Play),!0}},{key:"_cmdPause",value:function(){return this._media.enterPlaybackState(ye.Pause),
!0}},{key:"_cmdBufferStart",value:function(){return this._media.enterPlaybackState(ye.Buffer),!0}},{key:"_cmdBufferComplete",value:function(){return this._media.isInPlaybackState(ye.Buffer)&&this._media.exitPlaybackState(ye.Buffer),!0}},{key:"_cmdSeekStart",value:function(){return this._media.enterPlaybackState(ye.Seek),!0}},{key:"_cmdSeekComplete",value:function(){return this._media.isInPlaybackState(ye.Seek)&&this._media.exitPlaybackState(ye.Seek),!0}},{key:"_cmdQoEUpdate",value:function(e){var t=
he.deserialize(e[me.Params]);return this._media.qoeInfo=t,!0}},{key:"_cmdPlayheadUpdate",value:function(e){var t=e[me.Params];if(J(t)){var a=t[me.Playhead];Z(a)&&a>=0&&(this._media.playhead=a)}return!0}},{key:"_cmdIdleDetection",value:function(e){var t=this._getRefTs(e);this._media.isIdle()?this._mediaIdle?!this._trackerIdle&&t-this._mediaIdleStartTs>=18E5&&(this._hitGenerator.processSessionAbort(),this._trackerIdle=!0):(this._mediaIdle=!0,this._mediaIdleStartTs=t):(this._trackerIdle&&(this._hitGenerator.processSessionRestart(),
this._trackerIdle=!1,this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null),this._mediaIdle=!1)}},{key:"_cmdSessionTimeoutDetection",value:function(e){var t=this._getRefTs(e);!this._trackerIdle&&t-this._sessionRefTs>=864E5&&(this._hitGenerator.processSessionAbort(),this._hitGenerator.processSessionRestart(),this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null)}},{key:"_cmdContentStartDetection",value:function(e){return!(!this._media.isIdle()&&!this._contentStarted)||
(this._media.isInAdBreak?(this._contentStartRefTs=null,!0):(null==this._contentStartRefTs&&(this._contentStartRefTs=this._getRefTs(e)),this._getRefTs(e)-this._contentStartRefTs>=1E3&&(this._hitGenerator.processPlayback(!0),this._contentStarted=!0),!0))}},{key:"_cmdStateStart",value:function(e){var t=ue.deserialize(e[me.Params]);return this._media.startCustomState(t),this._hitGenerator.processCustomStateStart(t),!0}},{key:"_cmdStateEnd",value:function(e){var t=ue.deserialize(e[me.Params]);return this._media.endCustomState(t),
this._hitGenerator.processCustomStateEnd(t),!0}},{key:"_getRefTs",value:function(e){var t=e[me.TimeStamp];return $(t)?t:null}},{key:"_prerollDeferRule",value:function(e,t){if(this._inPrerollInterval&&null!=this._media){var a=this._media.mediaInfo.prerollWaitTime;if(this._prerollQueuedRules.push({eventName:e,context:t}),this._getRefTs(t)-this._prerollRefTs>=a||e===_e.AdBreakStart||e===_e.MediaComplete||e===_e.MediaSkip){for(var i=this._prerollReorderRules(this._prerollQueuedRules),r=0;r<i.length;r++){var n=
i[r];this._processRule(n.eventName,n.context)}this._prerollQueuedRules=[],this._inPrerollInterval=!1}return!0}return!1}},{key:"_prerollReorderRules",value:function(e){for(var t=[],a=!1,i=0;i<e.length;++i)if(e[i].eventName===_e.AdBreakStart){a=!0;break}for(var r=a,n=0;n<e.length;n++){var s=e[n];s.eventName===_e.Play&&r||(s.eventName===_e.AdBreakStart&&(r=!1),t.push(s))}return t}}],[{key:"_cleanMetadata",value:function(e){var t={};return J(e)&&Object.keys(e).forEach(function(a){var i=e[a];We.test(a)&&
!S(i)&&(t[a]=String(i))}),t}}]),e}(),$e=function(){function e(a,i,r){t(this,e),this._logger=R("MediaTracker ("+i+")"),this._tracker=new Ze(a,this._logger,r),this._timer=null,this._lastEventTS=null,this._lastPlayheadParams=null}return i(e,[{key:"trackSessionStart",value:function(e,t){this._logger.log("trackSessionStart(info:"+pe(e)+" metadata:"+pe(t)+")"),this._trackInternal(_e.SessionStart,e,t)}},{key:"trackSessionEnd",value:function(){this._logger.log("trackSessionEnd"),this._trackInternal(_e.SessionEnd)}},
{key:"trackComplete",value:function(){this._logger.log("trackComplete"),this._trackInternal(_e.SessionComplete)}},{key:"trackPlay",value:function(){this._logger.log("trackPlay"),this._trackInternal(_e.Play)}},{key:"trackPause",value:function(){this._logger.log("trackPause"),this._trackInternal(_e.Pause)}},{key:"trackEvent",value:function(e,t,a){this._logger.log("trackEvent("+e+" info:"+pe(t)+" metadata:"+pe(a)+")"),this._trackInternal(e,t,a)}},{key:"trackError",value:function(e){this._logger.log("trackError("+
e+")");var t=r({},me.ErrorId,e);this._trackInternal(_e.Error,t)}},{key:"updatePlayhead",value:function(e){var t=r({},me.Playhead,e);this._trackInternal(_e.PlayheadUpdate,t)}},{key:"updateQoEObject",value:function(e){this._logger.log("updateQoEObject("+pe(e)+")"),this._trackInternal(_e.QoEUpdate,e)}},{key:"destroy",value:function(){this._logger.log("destroy()"),this._stopTimer(),this._tracker=null}},{key:"_trackInternal",value:function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];
if(this._tracker){var s=E(),o=(r(i={},me.Name,e),r(i,me.Params,t),r(i,me.Metadata,a),r(i,me.TimeStamp,s),r(i,me.InternalEvent,n),i),d=this._tracker.track(o);this._lastEventTS=s,e===_e.PlayheadUpdate&&(this._lastPlayheadParams=t),e===_e.SessionStart&&d?this._startTimer():e!==_e.SessionComplete&&e!==_e.SessionEnd||this._stopTimer()}else this._logger.warn("Dropping the call as the tracker instance is already destroyed")}},{key:"_startTimer",value:function(){var e=this;this._timer||(this._timer=M(function(){e._onTick()},
500))}},{key:"_stopTimer",value:function(){var e;this._timer&&(e=this._timer,clearInterval(e),this._timer=null)}},{key:"_onTick",value:function(){E()-this._lastEventTS>750&&this._trackInternal(_e.PlayheadUpdate,this._lastPlayheadParams,null,!0)}}]),e}(),Je=new ne,Xe=l();var Ye={configure:function(e){Je.configure(e)},getInstance:function(e){var t="tracker"+Xe.getUniqueId();return new $e(Je,t,e)},createMediaObject:function(e,t,a,i,r){var n=null;try{n=(new le({id:t,name:e,streamType:i,mediaType:r,length:a})).serialize()}catch(e){fe.error("Error creating MediaObject ("+
e.message+")")}return n},createAdBreakObject:function(e,t,a){var i=null;try{i=(new oe({name:e,position:t,startTime:a})).serialize()}catch(e){fe.error("Error creating AdBreakObject ("+e.message+")")}return i},createAdObject:function(e,t,a,i){var r=null;try{r=(new se({id:t,name:e,position:a,length:i})).serialize()}catch(e){fe.error("Error creating AdObject ("+e.message+")")}return r},createChapterObject:function(e,t,a,i){var r=null;try{r=(new de({name:e,position:t,length:a,startTime:i})).serialize()}catch(e){fe.error("Error creating ChapterObject ("+
e.message+")")}return r},createQoEObject:function(e,t,a,i){var r=null;try{r=(new he({bitrate:e,droppedFrames:i,fps:a,startupTime:t})).serialize()}catch(e){fe.error("Error creating QoEObject ("+e.message+")")}return r},createStateObject:function(e){var t=null;try{t=(new ue({name:e})).serialize()}catch(e){fe.error("Error creating StateObject ("+e.message+")")}return t},version:"js-3.0.1",Event:h,MediaType:p,PlayerState:m,StreamType:y,MediaObjectKey:f,VideoMetadataKeys:_,AudioMetadataKeys:v,AdMetadataKeys:k};
var et="ecid",tt="analytics",at="mediaanalytics",it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var a,n=(a=s,function(){var e,t=o(a);if(c()){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return u(this,e)});function s(e,a){var i;if(t(this,s),i=n.call(this),
!e)throw new Error("Valid appmeasurement instance is required");if(!e.visitor)throw new Error("Valid visitor instance is required");return i._mediaConfig=a,i._appMeasurement=e,i._appMeasurementReady=!1,i._privacyResolved=!1,i._logger=R("WebECResolver"),i._fetchECParams(),i._fetchPrivacyStatus(),i._setupResolver(),i}return i(s,[{key:"resolveKeys",value:function(e){if(!e||0===e.length)return{};for(var t={},a=0;a<e.length;a++){var i=e[a],r=Object.prototype.hasOwnProperty.call(this._fnMap,i)?this._fnMap[i].call(this):
null;S(r)||(t[i]=r)}return t}},{key:"getPrivacyStatus",value:function(){return this._privacyStatus[at]}},{key:"notifyPrivacyChange",value:function(e){this._mediaPrivacyClb.push(e)}},{key:"isReady",value:function(){return!!this._privacyResolved&&(this._privacyStatus[at]===g.OptIn&&(this._privacyStatus[tt]!==g.OptIn||this._appMeasurementReady))}},{key:"_setupResolver",value:function(){var e=this,t={};t[B.Rsid]=function(){return e._appMeasurement.account},t[B.AnalyticsTrackingServer]=function(){return e._appMeasurement.ssl&&
e._appMeasurement.trackingServerSecure?e._appMeasurement.trackingServerSecure:e._appMeasurement.trackingServer},t[B.AnalyticsSsl]=function(){return e._appMeasurement.ssl},t[B.Vid]=function(){return e._appMeasurement.visitorID},t[B.Aid]=function(){var t=e._appMeasurement.analyticsVisitorID;if(""!==t)return t},t[B.Mcid]=function(){return e._appMeasurement.marketingCloudVisitorID},t[B.McOrgId]=function(){return e._appMeasurement.visitor.marketingCloudOrgID},t[B.AamLocHint]=function(){var t=parseInt(e._appMeasurement.audienceManagerLocationHint,
10);return isNaN(t)?void 0:t},t[B.CustomerIds]=function(){return e._appMeasurement.visitor.getCustomerIDs()},t[B.MediaTrackingServer]=function(){return e._mediaConfig.trackingServer},t[B.MediaChannel]=function(){return e._mediaConfig.channel},t[B.MediaAppVersion]=function(){return e._mediaConfig.appVersion},t[B.MediaPlayerName]=function(){return e._mediaConfig.playerName},t[B.MediaSsl]=function(){return e._mediaConfig.ssl},this._fnMap=t}},{key:"_fetchECParams",value:function(){this._appMeasurement.isReadyToTrack()?
this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[])}},{key:"_onAppMeasurementReady",value:function(){this._logger.log("AppMeasurement ready"),this._appMeasurementReady=!0}},{key:"_fetchPrivacyStatus",value:function(){var e,t=this;this._mediaPrivacyClb=[],this._optIn=window.adobe&&window.adobe.optIn?window.adobe.optIn:void 0;var a=this._optIn&&this._optIn.doesOptInApply,i=a?g.OptUnknown:g.OptIn;this._privacyStatus=(r(e={},et,i),r(e,tt,i),
r(e,at,i),e),a?this._optIn.fetchPermissions(function(){t._privacyResolved=!0,t._privacyStatus[et]=t._optIn.isApproved(t._optIn.Categories.ECID)?g.OptIn:g.OptOut,t._privacyStatus[tt]=t._optIn.isApproved(t._optIn.Categories.ANALYTICS)?g.OptIn:g.OptOut,t._privacyStatus[at]=t._optIn.isApproved(t._optIn.Categories.MEDIA_ANALYTICS)?g.OptIn:g.OptOut,t._mediaPrivacyClb.forEach(function(e){e(t._privacyStatus[at])}),t._logger.log("Privacy Status "+pe(t._privacyStatus))},!0):(this._privacyResolved=!0,this._logger.log("OptIn service not used, defaulting privacy status to "+
pe(this._privacyStatus)))}}]),s}(function(){function e(){t(this,e)}return i(e,[{key:"resolveKeys",value:function(){throw new Error("Implementation error: Method must be overridden.");}},{key:"isReady",value:function(){}},{key:"getPrivacyStatus",value:function(){}},{key:"notifyPrivacyChange",value:function(){}}]),e}()),rt=R("Media"),nt=!1;return{Media:s({},Ye,{configure:function(e,t){if(T(e||{}),nt)rt.error("MediaSDK is already configured");else{rt.log("configure("+pe(e)+")");try{!function(e){if(!J(e))throw new Error("mediaConfig is not a valid object");
var t=e.trackingServer;if(!b(t))throw new Error("trackingServer is empty");if(-1!==t.indexOf("hb.omtrdc.net"))throw new Error("trackingServer should be set to Media collection endpoint and not heartbeat endpoint. Contact your Adobe representative for more information.");}(e);var a=new it(t,e);Ye.configure(a),nt=!0}catch(e){rt.error("Error configuring MediaSDK : "+e.message),T({debugLogging:!1})}}},getInstance:function(e){return nt?Ye.getInstance(e):(rt.error("MediaSDK should be configured before calling getInstance"),
null)}}),MediaConfig:function e(){t(this,e),this.trackingServer=void 0,this.channel=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!0,this.debugLogging=!1}}})},4044775,[4010591,4044017,4053064,4062932],660779,[645040,671423,683385,763742],-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;!function(t,n){"function"===typeof define&&define.amd?define(n):("object"===typeof exports||"object"===typeof module&&module.exports)&&(module.exports=n()),"undefined"===typeof t||!t||t.Conviva||t.ConvivaLoading||(t.ConvivaLoading=!0,t.Conviva=n(),delete t.ConvivaLoading)}(window,function(){var lt={};return function(){var n,s,V,k,o,r,F,e,u,g,a,f,c,I,B,H,G,j,K,
W,Y,x,h,i,l,q,w,J,X,d,v,E,_,R,Q,p,A,T,S,O,N,Z,z,C,$,tt,nt,y,it,et,st,m,ot,D,P,b,L,rt,ut,M,ht,at,U={};function ft(){var t,n="";for("-"===s&&r(n="-");s>="0"&&s<="9";)n+=s,r();if("."===s)for(n+=".";r()&&s>="0"&&s<="9";)n+=s;if("e"===s||"E"===s)for(n+=s,r(),"-"!==s&&"+"!==s||(n+=s,r());s>="0"&&s<="9";)n+=s,r();if(t=+n,!isNaN(t))return t;o("Bad number")}function t(t){return t<10?"0"+t:t}function ct(t){return E.lastIndex=0,E.test(t)?'"'+t.replace(E,function(t){var n=Q[t];return"string"===typeof n?n:"\\u"+
("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}g=lt.Constants={version:"4.7.4",CUSTOMER_KEY:"customerKey",GATEWAY_URL:"gatewayUrl",LOG_LEVEL:"logLevel",ASSET_NAME:"Conviva.assetName",PLAYER_NAME:"Conviva.applicationName",APPLICATION_VERSION:"c3.app.version",IS_LIVE:"Conviva.streamType",ENCODED_FRAMERATE:"Conviva.encodedFrameRate",DEFAULT_RESOURCE:"Conviva.defaultResource",STREAM_URL:"Conviva.streamUrl",VIEWER_ID:"Conviva.viewerId",DURATION:"Conviva.duration",UTM_TRACKING_URL:"c3.cm.utmTrackingUrl",
POD_INDEX:"podIndex",POD_POSITION:"podPosition",POD_DURATION:"podDuration",AD_TYPE:"adType",MODULE_NAME:"Conviva.moduleName",MODULE_VERSION:"Conviva.moduleVersion",FRAMEWORK_NAME:"Conviva.frameworkName",FRAMEWORK_VERSION:"Conviva.frameworkVersion",i:"Constants not yet configured",o:"Invalid : Did you report playback ended?",u:"Invalid : Did you report ad playback ended?",h:"Player cannot be null",l:"PlaybackAnlytics already built",v:"PlaybackAnlytics not yet built",Playback:{BITRATE:"BITRATE",AVG_BITRATE:"AVG_BITRATE",
PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT",AUDIO_LANGUAGE:"AUDIO_LANGUAGE",SUBTITLES_LANGUAGE:"SUBTITLES_LANGUAGE",CLOSED_CAPTIONS_LANGUAGE:"CLOSED_CAPTIONS_LANGUAGE"},Network:{SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",
CONNECTION_TYPE:"CONNECTION_TYPE"},ErrorSeverity:{FATAL:1,WARNING:0},NO_SESSION_KEY:-2,AdPosition:{PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},AdPlayer:{CONTENT:"CONTENT",SEPARATE:"SEPARATE"},DeviceType:{DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV"},AdType:{CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},AdSlates:{BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",
OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},AdServingType:{INLINE:"Inline",WRAPPER:"Wrapper"},DeviceCategory:{ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS"},LogLevel:{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},PlayerState:{STOPPED:"STOPPED",
PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},Events:{USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",
AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},
ErrorType:{ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},
StreamType:{UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},CallbackFunctions:{CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},DeviceMetadata:{BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",
SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},AD_PRELOAD_FEATURE:"adPreloading",AD_TAG_URL:"adTagUrl",IMASDK_CONTENT_PLAYER:"imaMainContentPlayer",CONVIVA_AD_MODULE:"convivaAdModule",CONVIVA_MODULE:"convivaModule",MEDIA_ELEMENT:"mediaElement",APP_TRACKER_EVENT:{TYPE:"convivaVideoEvent",INIT:"c3.sdk.init",VIDEO_ATTEMPT:"c3.video.attempt",VIDEO_END:"c3.video.end",VIDEO_PLAY:"c3.video.play",VIDEO_PAUSE:"c3.video.pause",VIDEO_BUFFERING:"c3.video.buffering",
VIDEO_ERROR:"c3.video.error",SDK_CUSTOM_EVENT:"c3.sdk.custom_event",VIDEO_CUSTOM_EVENT:"c3.video.custom_event",AD_BREAK_START:"c3.ad.ad_break_start",AD_BREAK_END:"c3.ad.ad_break_end",VIDEO_METADATA_CHANGE:"c3.video.set_content_info",VIDEO_BITRATE_SWITCH:"c3.video.bitrate_switch"}},(a=lt.Client=function(){var h=this;this._=null,this.R=!1,this.version=a.version,this.p=null,this.A=null,this.T=null,this.S=-1,this.O=null,this.N=null,this.g=null,this.I=null,this.C=-1,this.m=!1,this.D={},this.P=function(){h.p},
this.L={},this.M=null,this.U=null,this.V=null,this.k=function(){this.g.F("Client.makeIPV4IPV6GlobalSessions",function(){var t;h.I&&null!==(t=h.I.get(y.B))&&t!==N.H&&h.A&&((t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.O.G.indexOf(f.j)>-1?f.j:f.K,h.W=h.A.Y(t,null),(t=new c).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=h.O.q.indexOf(f.J)>-1?f.J:f.X,h.Z=h.A.Y(t,null))})},this.$=function(i){h.g.F("Client.updateConnectionType",function(){if(h.M=i,h.A){var t,n=
h.A.tt();for(t in n)n[t].nt(i)}})},this.it=function(i){h.g.F("Client.updateLinkEncryption",function(){if(h.U=i,h.A){var t,n=h.A.tt();for(t in n)n[t].et(i)}})},this.ot=function(t){h.g.F("Client.updateSignalStrength",function(){h.V=t})},function(t,n,i,e){if(!(t instanceof f))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(n instanceof x))throw new Error("systemFactory parameter should be an instance of SystemFactory.");t.gatewayUrl!==f.rt+f.ut&&t.gatewayUrl!==
f.ht+f.ut||(this.R=!0),e&&(this.version=e),this.O=t.ct(),this.T=n,this.T.lt("SDK",this.O,this.version),this.g=this.T.dt(this.version),this.g.F("Client.init",function(){if(h.I=h.T.vt(),h.I.Et(),h.C=h.I.get(y._t),-1!==h.C&&void 0!==h.C&&null!==h.C||(h.C=P.Rt()),h.A=h.T.At(h,h.O,h.I),i)for(var t in i)switch(t){case g.Network.CONNECTION_TYPE:h.$(i[t]);break;case g.Network.LINK_ENCRYPTION:h.it(i[t]);break;case g.Network.SIGNAL_STRENGTH:h.ot(i[t])}h.k()},function(t){throw new Error("Client constructor failed: "+
t.message);})}.apply(this,arguments),this.release=function(){this.m||this.g.F("Client.release",function(){h.p,h.A.Tt(),h.A=null,h.S=-1,h.C=-1,h.g=null,h.O=null,h.N=null,h.T=null,h.m=!0})},this.createSession=function(t,n,i){var e=a.NO_SESSION_KEY;return this.m||(!t||t instanceof c)&&this.g.F("Client.createSession",function(){e=h.A.St(t,C.Nt.Ot,n,(i?g:h).version)}),e},this.createAdSession=function(i,e,s,o,r){var u=a.NO_SESSION_KEY;return this.m||(!e||e instanceof c)&&this.g.F("Client.createAdSession",
function(){var t,n;e||(e=new c),m.gt(i)&&i!==a.NO_SESSION_KEY&&(t=h.A.It(i))&&(n=e.custom[g.APPLICATION_VERSION],t.wt&&t.wt.Ct&&(!e.viewerId&&t.wt.Ct.viewerId&&(e.viewerId=t.wt.Ct.viewerId),!e.applicationName&&t.wt.Ct.applicationName&&(e.applicationName=t.wt.Ct.applicationName),e.streamType===g.StreamType.UNKNOWN&&t.wt.Ct.streamType!==g.StreamType.UNKNOWN&&(e.streamType=t.wt.Ct.streamType),"undefined"!==typeof n&&n||"undefined"!==typeof(n=t.wt.Ct.custom[g.APPLICATION_VERSION])&&n&&(e.custom[g.APPLICATION_VERSION]=
n)),e.custom["c3.csid"]=m.yt(t.C)),u=h.A.St(e,C.Nt.Dt,s,(o?g:h).version,r)}),u},this.reportError=function(n,i,e){this.m||!m.Pt(i)||e!==a.ErrorSeverity.FATAL&&e!==a.ErrorSeverity.WARNING||this.g.F("Client.reportError",function(){var t=h.A.It(n);t&&t.bt(i,e)})},this.updateContentMetadata=function(i,e){this.m||e instanceof c&&this.g.F("Client.updateContentMetadata",function(){var t,n=h.A.It(i);n&&(t=e.ct(),n.Lt(t))})},this.detachPlayer=function(n){this.m||this.g.F("Client.detachPlayer",function(){var t=
h.A.It(n);t&&t.Mt()})},this.Ut=function(n){this.m||this.g.F("Client.offFocus",function(){var t=h.A.It(n);t&&t.Ut()})},this.attachPlayer=function(n,i){this.m||i instanceof I&&this.g.F("Client.attachPlayer",function(){var t=h.A.It(n);t&&t.Vt(i)})},this.kt=function(n){this.m||this.g.F("Client.onFocus",function(){var t=h.A.It(n);t&&t.kt()})},this.contentPreload=function(n){this.m||this.g.F("Client.contentPreload",function(){var t=h.A.It(n);t&&t.Ft()})},this.contentStart=function(n){this.m||this.g.F("Client.contentStart",
function(){var t=h.A.It(n);t&&t.Bt()})},this.sendCustomEvent=function(i,e,s){this.m||m.Pt(e)&&(m.Ht(s),this.g.F("Client.sendCustomEvent",function(){i===a.NO_SESSION_KEY&&(h.S<0&&(t=new c,h.S=h.A.Y(t,null)),i=h.S);var t=m.Gt(s),n=h.A.jt(i);n&&n.Kt(e,t)}))},this.adStart=function(n,i,e,s){this.m||i!==a.AdStream.CONTENT&&i!==a.AdStream.SEPARATE||e!==a.AdPlayer.CONTENT&&e!==a.AdPlayer.SEPARATE||(s!==a.AdPosition.PREROLL&&s!==a.AdPosition.MIDROLL&&a.AdPosition.POSTROLL,this.g.F("Client.adStart",function(){var t=
h.A.It(n);t&&t.Wt(i,e,s)}))},this.adEnd=function(n){this.m||this.g.F("Client.adEnd",function(){var t=h.A.It(n);t&&t.Yt()})},this.cleanupSession=function(t){this.m||t!==a.NO_SESSION_KEY&&this.g.F("Client.cleanupSession",function(){h.A.It(t)&&h.A.xt(t)})},this.getAttachedPlayer=function(n){var i=null;return this.m||n!==a.NO_SESSION_KEY&&this.g.F("Client.getAttachedPlayer",function(){var t=h.A.It(n);t&&(i=t.qt())}),i},this.isPlayerAttached=function(t){return!this.m&&null!==this.getAttachedPlayer(t)},
this.getPlayerStateManager=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return new I(this.T,(t?g:h).version)},this.releasePlayerStateManager=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");this.g.F("Client.releasePlayerStateManager",function(){t instanceof I&&t.release()})},this.Jt=function(){return this.O},this.getId=function(){return this.C},this.getSessionId=function(n){var i;return this.m?g.NO_SESSION_KEY:
(i=null,this.g.F("Client.getSessionId",function(){var t=h.A.It(n);t&&(i=t.Xt())}),i)},this.getClientId=function(n){var i;return this.m?null:(i=null,this.g.F("Client.getClientId",function(){var t=h.A.It(n);t&&(i=t.Qt())}),i)},this.Zt=function(n,i,e){this.m||this.g.F("Client.updateCustomMetric",function(){var t=h.A.It(n);t&&t.Zt(i,e)})},this.setUniqueIdentifier=function(t,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");
for(var i in t)this.D[i]=t[i];n&&(this.P=n)},this.setUserPreferenceForDataCollection=function(t,n){if(this.m)throw new Error("This instance of Conviva.Client has been released.");if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var i in t)"false"===t[i]?this.L[i]=n?y.$t.zt:y.$t.tn:this.L[i]=y.$t.nn},this.setUserPreferenceForDataDeletion=function(t){if(this.m)throw new Error("This instance of Conviva.Client has been released.");
if(!t||"undefined"===typeof t||"{}"===JSON.stringify(t))throw new Error("Identifiers are not set. No action taken !!");for(var n in t)"true"===t[n]?this.L[n]=y.$t.en:this.L[n]=y.$t.nn},this.getConfig=function(){if(this.m)throw new Error("This instance of Conviva.Client has been released.");return this.I}}).version="4.7.4L",a.NO_SESSION_KEY=g.NO_SESSION_KEY,a.AdPosition={PREROLL:g.AdPosition.PREROLL,MIDROLL:g.AdPosition.MIDROLL,POSTROLL:g.AdPosition.POSTROLL},a.AdStream={CONTENT:g.AdPlayer.CONTENT,
SEPARATE:g.AdPlayer.SEPARATE},a.AdPlayer={CONTENT:g.AdPlayer.CONTENT,SEPARATE:g.AdPlayer.SEPARATE},a.ErrorSeverity={FATAL:g.ErrorSeverity.FATAL,WARNING:g.ErrorSeverity.WARNING},a.DeviceType={DESKTOP:g.DeviceType.DESKTOP,CONSOLE:g.DeviceType.CONSOLE,SETTOP:g.DeviceType.SETTOP,MOBILE:g.DeviceType.MOBILE,TABLET:g.DeviceType.TABLET,SMARTTV:g.DeviceType.SMARTTV},a.AdTechnology={CLIENT_SIDE:g.AdType.CLIENT_SIDE,SERVER_SIDE:g.AdType.SERVER_SIDE},a.AdType={BLACKOUT_SLATE:g.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:g.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,
COMMERCIAL_SLATE:g.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:g.AdSlates.OTHER_SLATE,VPAID:g.AdSlates.VPAID,REGULAR:g.AdSlates.REGULAR},a.AdServingType={INLINE:g.AdServingType.INLINE,WRAPPER:g.AdServingType.WRAPPER},a.DeviceCategory={ANDROID_DEVICE:g.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:g.DeviceCategory.APPLE_DEVICE,CHROMECAST:g.DeviceCategory.CHROMECAST,DESKTOP_APP:g.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:g.DeviceCategory.DEVICE_SIMULATOR,LG_TV:g.DeviceCategory.LG_TV,NINTENDO:g.DeviceCategory.NINTENDO,
PLAYSTATION:g.DeviceCategory.PLAYSTATION,ROKU:g.DeviceCategory.ROKU,SAMSUNG_TV:g.DeviceCategory.SAMSUNG_TV,SMART_TV:g.DeviceCategory.SMART_TV,SET_TOP_BOX:g.DeviceCategory.SET_TOP_BOX,TIVO:g.DeviceCategory.TIVO,WEB:g.DeviceCategory.WEB,WINDOWS_DEVICE:g.DeviceCategory.WINDOWS_DEVICE,XBOX:g.DeviceCategory.XBOX,KAIOS_DEVICE:g.DeviceCategory.KAIOS_DEVICE},(f=lt.ClientSettings=function(){var e=this;this.on=null,m.rn(this,"customerKey",function(){return this.on}),m.un(this,"customerKey",function(t){m.Pt(t)&&
(this.on=t)}),this.hn=f.fn,m.rn(this,"heartbeatInterval",function(){return this.hn}),m.un(this,"heartbeatInterval",function(t){var n;"number"===typeof t&&(n=m.cn(t))===t&&(this.hn=n)}),this.ln=null,this.G=null,this.q=null,m.rn(this,"gatewayUrl",function(){return this.ln}),m.un(this,"gatewayUrl",function(t){var n;!m.Pt(t)||"https"!==(n=t.split("://"))[0]&&"http"!==n[0]||-1===t.indexOf(".com",t.length-".com".length)||(this.ln=t)}),function(t){if(!m.Pt(t))throw new Error("customerKey must be valid");
this.customerKey=t}.apply(this,arguments),this.equals=function(t){return this.customerKey===t.customerKey&&this.gatewayUrl===t.gatewayUrl&&this.heartbeatInterval===t.heartbeatInterval},this.ct=function(){var t=new f(this.customerKey);return t.gatewayUrl=function(t){if(m.Pt(t)){var n,i=t.split("://");if("https"===i[0]||"http"===i[0])return i[1]!==f.ut&&-1!==i[1].indexOf(f.ut)?(n=i[1].split(f.ut),e.G="https://"+n[0]+f.j,e.q="https://"+n[0]+f.J):i[1]!==f.dn&&-1!==i[1].indexOf("testonly.conviva.com")?
(n=i[1].split("testonly.conviva.com"),e.G="https://"+n[0]+f.K,e.q="https://"+n[0]+f.X):i[1]===f.dn?(e.G="https://"+e.customerKey+"."+f.K,e.q="https://"+e.customerKey+"."+f.X):(e.G="https://"+e.customerKey+"."+f.j,e.q="https://"+e.customerKey+"."+f.J,t="https://"+e.customerKey+"."+f.ut),t}return e.G="https://"+e.customerKey+"."+f.j,e.q="https://"+e.customerKey+"."+f.J,"https://"+e.customerKey+"."+f.ut}(this.gatewayUrl),t.heartbeatInterval=this.heartbeatInterval,t.G=this.G,t.q=this.q,t}}).sn="https://conviva.testonly.conviva.com",
f.vn="https://cws.conviva.com",f.ut="cws.conviva.com",f.j="ipv4.cws.conviva.com",f.J="ipv6.cws.conviva.com",f.dn="conviva.testonly.conviva.com",f.K="ipv4.testonly.conviva.com",f.X="ipv6.testonly.conviva.com",f.rt="https://",f.ht="http://",f.En=5,f.fn=20,(c=lt.ContentMetadata=function(){this._n=null,m.rn(this,"assetName",function(){return this._n}),m.un(this,"assetName",function(t){"string"===typeof t&&(this._n=t)}),this.Rn={},m.rn(this,"custom",function(){return this.Rn}),m.un(this,"custom",function(t){"object"===
typeof t&&(this.Rn=m.Gt(t))}),this.An=null,m.rn(this,"defaultResource",function(){return this.An}),m.un(this,"defaultResource",function(t){"string"===typeof t&&(this.An=t)}),this.Tn=null,m.rn(this,"viewerId",function(){return this.Tn}),m.un(this,"viewerId",function(t){"string"===typeof t&&(this.Tn=t)}),this.Sn=null,m.rn(this,"applicationName",function(){return this.Sn}),m.un(this,"applicationName",function(t){"string"===typeof t&&(this.Sn=t)}),this.On=null,m.rn(this,"streamUrl",function(){return this.On}),
m.un(this,"streamUrl",function(t){"string"===typeof t&&(this.On=t)}),this.Nn=c.StreamType.UNKNOWN,m.rn(this,"streamType",function(){return this.Nn}),m.un(this,"streamType",function(t){t!==c.StreamType.UNKNOWN&&t!==c.StreamType.VOD&&t!==c.StreamType.LIVE||(this.Nn=t)}),this.gn=-1,m.rn(this,"duration",function(){return this.gn}),m.un(this,"duration",function(t){this.gn=b.In(t)}),this.wn=-1,m.rn(this,"encodedFrameRate",function(){return this.wn}),m.un(this,"encodedFrameRate",function(t){this.wn=b.In(t)}),
function(){}.apply(this,arguments),this.ct=function(){var t,n=new c;for(t in n.assetName=this.assetName,n.applicationName=this.applicationName,n.streamUrl=this.streamUrl,n.viewerId=this.viewerId,n.defaultResource=this.defaultResource,n.streamType=this.streamType,n.duration=this.duration,n.encodedFrameRate=this.encodedFrameRate,this.custom)n.custom[t]=this.custom[t];return n}}).StreamType={UNKNOWN:g.StreamType.UNKNOWN,LIVE:g.StreamType.LIVE,VOD:g.StreamType.VOD},lt.ErrorType={ERROR_UNKNOWN:g.ErrorType.ERROR_UNKNOWN,
ERROR_IO:g.ErrorType.ERROR_IO,ERROR_TIMEOUT:g.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:g.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:g.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:g.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:g.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:g.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:g.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:g.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:g.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:g.ErrorType.ERROR_DEVICE_LIMIT,
ERROR_UNMATCHED_SLOT_SIZE:g.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},lt.Events={AD_REQUESTED:g.Events.AD_REQUESTED,AD_RESPONSE:g.Events.AD_RESPONSE,AD_SLOT_STARTED:g.Events.AD_SLOT_STARTED,AD_ATTEMPTED:g.Events.AD_ATTEMPTED,AD_SLOT_ENDED:g.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:g.Events.AD_IMPRESSION_START,AD_START:g.Events.AD_START,AD_FIRST_QUARTILE:g.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:g.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:g.Events.AD_THIRD_QUARTILE,AD_COMPLETE:g.Events.AD_COMPLETE,AD_END:g.Events.AD_END,
AD_IMPRESSION_END:g.Events.AD_IMPRESSION_END,AD_SKIPPED:g.Events.AD_SKIPPED,AD_ERROR:g.Events.AD_ERROR,AD_PROGRESS:g.Events.AD_PROGRESS,AD_CLOSE:g.Events.AD_CLOSE,CONTENT_PAUSED:g.Events.CONTENT_PAUSED,CONTENT_RESUMED:g.Events.CONTENT_RESUMED,POD_START:g.Events.POD_START,POD_END:g.Events.POD_END},(I=lt.PlayerStateManager=function(){var e=this;e.Cn=null,e.yn=-2,e.Dn=-2,e.Pn=I.PlayerState.UNKNOWN,e.bn={},e.Ln=-2,e.wn=-2,e.gn=-2,e.Mn=null,e.Un=null,e.On=null,e.Vn=null,e.kn=null,e.Fn=-1,e.Bn=-1,e.M=null,
e.U=null,e.Hn=null,e.Gn=[],e.m=!1,e.jn=null,e.Kn=null,e.Wn=null,this.release=function(){e.m||e.g.F("PlayerStateManager.release",function(){e.Cn&&e.Cn.Yn(),e.xn(),e.T=null,e.g=null,e.m=!0})},this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return e.wn},this.setEncodedFrameRate=function(n){e.m||e.g.F("PlayerStateManager.setEncodedFrameRate",function(){var t=b.In(n);t>=-1&&(e.wn=t,e.Cn)&&e.Cn.qn(e.wn)})},this.getDuration=
function(){return e.gn},this.setClientMeasureInterface=function(t){m.Jn(t,new lt.ClientMeasureInterface,"ClientMeasureInterface"),this.Xn=t},this.getPHT=function(){return this.Xn&&"function"===typeof this.Xn.getPHT?this.Xn.getPHT():I.DEFAULT_PHT},this.getBufferLength=function(){return this.Xn&&"function"===typeof this.Xn.getBufferLength?this.Xn.getBufferLength():I.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.Xn&&"function"===typeof this.Xn.getSignalStrength?this.Xn.getSignalStrength():
I.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this.Xn&&"function"===typeof this.Xn.getRenderedFrameRate?this.Xn.getRenderedFrameRate():I.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(n){e.m||e.g.F("PlayerStateManager.setDuration",function(){var t=b.In(n);t>=-1&&(e.gn=t,e.Cn)&&e.Cn.Qn(e.gn)})},this.getStreamUrl=function(){return e.On},this.setStreamUrl=function(t){e.m||e.g.F("PlayerStateManager.setStreamUrl",function(){t&&(e.On=t,e.Cn)&&e.Cn.Zn(e.On)})},this.zn=function(){return e.Vn},
this.$n=function(){return e.kn},this.setModuleNameAndVersion=function(t,n){e.Vn=t,e.kn=n},this.ti=function(){return e.Un},this.setPlayerType=function(t){e.m||e.g.F("PlayerStateManager.setPlayerType",function(){e.Un=t,e.Cn&&e.Cn.ni(e.Un)})},this.ii=function(){return e.Mn},this.setPlayerVersion=function(t){e.m||e.g.F("PlayerStateManager.setPlayerVersion",function(){e.Mn=t,e.Cn&&e.Cn.ei(e.Mn)})},this.si=function(){return e.jn},this.setAudioLang=function(t){e.m||e.g.F("PlayerStateManager.setAudioLang",
function(){e.jn=t,e.Cn&&e.Cn.oi(e.jn)})},this.ri=function(){return e.Kn},this.setSubtitleLang=function(t){e.m||e.g.F("PlayerStateManager.setSubtitleLang",function(){e.Kn=t,e.Cn&&e.Cn.ui(e.Kn)})},this.hi=function(){return e.Wn},this.setCcLang=function(t){e.m||e.g.F("PlayerStateManager.setCCLang",function(){e.Wn=t,e.Cn&&e.Cn.ai(e.Wn)})},this.setMonitoringNotifier=function(t){return!e.m&&!e.Cn&&(e.Cn=t,e.p,!0)},this.xn=function(){e.m||(e.Cn=null,e.p)},this.fi=function(){e.setPlayerState(e.getPlayerState()),
e.setBitrateKbps(e.ci()),e.setAvgBitrateKbps(e.li()),e.setDuration(e.getDuration()),e.setEncodedFrameRate(e.getEncodedFrameRate()),e.setStreamUrl(e.getStreamUrl()),e.setPlayerType(e.ti()),e.setPlayerVersion(e.ii()),e.setAudioLang(e.si()),e.setSubtitleLang(e.ri()),e.setCcLang(e.hi());for(var t=0;t<e.Gn.length;t++){var n=e.Gn[t];e.di(n)}e.Gn=[]},this.getPlayerState=function(){return e.Pn},this.setPlayerState=function(t){e.m||e.g.F("PlayerStateManager.setPlayerState",function(){I.vi(t)&&(e.Pn=t,e.Cn)&&
e.Cn.Ei(e.Pn)})},this.ci=function(){return e.yn},this.setBitrateKbps=function(n){e.m||e.g.F("PlayerStateManager.setBitrateKbps",function(){var t=b.In(n);t>=-1&&(e.yn=t,e.Cn)&&e.Cn._i(e.yn)})},this.li=function(){return e.Dn},this.setAvgBitrateKbps=function(n){e.m||e.g.F("PlayerStateManager.setAvgBitrateKbps",function(){var t=b.In(n);t>=-1&&(e.Dn=t,e.Cn)&&e.Cn.Ri(e.Dn)})},this.setPlayerSeekStart=function(t){e.m||e.g.F("PlayerStateManager.setPlayerSeekStart()",function(){e.Cn&&e.Cn.pi(I.SEEK_ACTIONS_TYPE.SEEK_START,
t)})},this.setPlayerSeekEnd=function(){e.m||e.g.F("PlayerStateManager.setPlayerSeekEnd()",function(){e.Cn&&e.Cn.pi(I.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){e.m||e.g.F("PlayerStateManager.setUserSeekButtonUp()",function(){e.Cn&&e.Cn.pi(I.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=function(){e.m||e.g.F("PlayerStateManager.setUserSeekButtonDown()",function(){e.Cn&&e.Cn.pi(I.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)})},this.setVideoResolutionWidth=function(n){e.m||
e.g.F("PlayerStateManager.setVideoResolutionWidth()",function(){var t=b.In(n);t>0&&(e.Fn=t),e.Cn&&e.Cn.Ai(e.Fn)})},this.setVideoResolutionHeight=function(n){e.m||e.g.F("PlayerStateManager.setVideoResolutionHeight()",function(){var t=b.In(n);t>0&&(e.Bn=t),e.Cn&&e.Cn.Ti(e.Bn)})},this.setConnectionType=function(t){e.m||e.g.F("PlayerStateManager.setConnectionType()",function(){e.M=t,e.Cn&&e.Cn.nt(e.M)})},this.setLinkEncryption=function(t){e.m||e.g.F("PlayerStateManager.setLinkEncryption()",function(){e.U=
t,e.Cn&&e.Cn.et(e.U)})},this.setSignalStrength=function(){},this.di=function(t){var n,i;e.Hn=t,e.Cn?(n=t.errorCode,i=t.severity,e.Cn.Si(n,i)):e.Gn.push(t)},this.sendError=function(n,i){e.m||e.g.F("PlayerStateManager.sendError",function(){var t=new L(n,i);e.di(t)})},this.reset=function(){e.m||e.g.F("PlayerStateManager.reset",function(){e.yn=-2,e.Dn=-2,e.Pn=I.PlayerState.UNKNOWN,e.bn={},e.Ln=-1,e.wn=-1,e.gn=-1,e.Mn=null,e.Un=null,e.On=null,e.Hn=null,e.Gn=[]})},this.setCDNServerIP=function(t){e.m||e.g.F("PlayerStateManager.setCDNServerIP",
function(){e.Cn&&e.Cn.Oi(t)})},this.Ni=function(){return e.gi},this.setDroppedFramesTotal=function(t){e.m||e.g.F("PlayerStateManager.setDroppedFramesTotal",function(){e.Cn&&e.Cn.Ii(t)})},this.setDroppedFramesCount=function(t){e.m||e.g.F("PlayerStateManager.setDroppedFramesCount",function(){e.Cn&&e.Cn.wi(t)})},this.Ci=function(){return e.Hn},function(t,n){e.T=t,e.g=e.T.dt(n)}.apply(e,arguments)}).PlayerState={STOPPED:g.PlayerState.STOPPED,PLAYING:g.PlayerState.PLAYING,BUFFERING:g.PlayerState.BUFFERING,
PAUSED:g.PlayerState.PAUSED,UNKNOWN:g.PlayerState.UNKNOWN,NOT_MONITORED:g.PlayerState.NOT_MONITORED},I.vi=function(t){return t===I.PlayerState.STOPPED||t===I.PlayerState.PLAYING||t===I.PlayerState.BUFFERING||t===I.PlayerState.PAUSED||t===I.PlayerState.UNKNOWN||t===I.PlayerState.NOT_MONITORED},I.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},I.DEFAULT_SIGNAL_STRENGTH=1E3,I.DEFAULT_RENDERED_FRAME_RATE=-1,I.DEFAULT_BUFFER_LENGTH=-1,I.DEFAULT_PHT=-1,lt.ClientMeasureInterface=
function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}},B=lt.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},H=lt.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},G=lt.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=
function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.getDeviceCategory=function(){},this.getScreenWidth=function(){},this.getScreenHeight=function(){},this.getScaleFactor=function(){},this.release=function(){}},j=lt.StorageInterface=function(){this.saveData=function(){},this.loadData=function(){},this.release=
function(){}},K=lt.SystemInterface=function(){!function(t,n,i,e,s,o){m.Jn(t,new W,"TimeInterface"),m.Jn(n,new Y,"TimerInterface"),m.Jn(i,new B,"HttpInterface"),m.Jn(e,new j,"StorageInterface"),m.Jn(s,new G,"MetadataInterface"),m.Jn(o,new H,"LoggingInterface"),this.yi=t,this.mi=n,this.Di=i,this.Pi=e,this.bi=s,this.Li=o}.apply(this,arguments),this.release=function(){this.yi&&(this.yi.release(),this.yi=null),this.mi&&(this.mi.release(),this.mi=null),this.Di&&(this.Di.release(),this.Di=null),this.Pi&&
(this.Pi.release(),this.Pi=null),this.bi&&(this.bi.release(),this.bi=null),this.Li&&(this.Li.release(),this.Li=null)}},W=lt.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},Y=lt.TimerInterface=function(){this.createTimer=function(){},this.release=function(){}},x=lt.SystemFactory=function(){var t=this;!function(t,n){if(!(t instanceof K))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this.Mi=t,this.yi=this.Mi.yi,this.mi=this.Mi.mi,
this.Di=this.Mi.Di,this.Pi=this.Mi.Pi,this.bi=this.Mi.bi,this.Li=this.Mi.Li,n instanceof h?this.O=n.ct():this.O=new h}.apply(this,arguments),this.lt=function(t,n,i){this.Ui=t,this.Vi=n,this.ki=i},this.release=function(){this.Mi.release(),this.Mi=null,this.Ui=null,this.O=null,this.Fi=null};var n=function(){return new ut(t.Li,t.yi,t.Jt(),t.Fi,t.Ui)};this.buildLogger=function(){return n()},this.At=function(t,n,i){return new tt(t,n,i,this)},this.Bi=function(t){return new D(this.buildLogger(),this.Hi(),
this.Vi,t)},this.Gi=function(){return new nt(this.buildTimer(t.ki))},this.ji=function(){var t=new at(this.buildLogger(),this.mi,new et(this.buildLogger(),null,this.Jt()));return new nt(t)},this.Hi=function(){return new rt(this.buildLogger(),this.Di,this.ji(),this.Jt())},this.dt=function(t){return new et(this.buildLogger(),this.Bi(t),this.Jt())},this.buildTime=function(){return new ht(this.yi,this.buildLogger())},this.buildTimer=function(t){return new at(this.buildLogger(),this.mi,this.dt(t))},this.Ki=
function(){return new U.Storage(this.buildLogger(),this.Pi,this.Gi(),this.Jt())},this.vt=function(){return new y(this.buildLogger(),this.Ki(),this.Wi())},this.Yi=function(t){return new M(this.buildLogger(),this.bi,this.dt(t))},this.xi=function(){return new N},this.qi=function(t,n){return new st(t,this.buildLogger(),this.Hi(),this.Wi(),n)},this.Ji=function(t,n,i,e,s){var o=this.qi(n,e.custom["c3.domain"]);return new C(this.Xi(),t,n,this.buildLogger(),this.dt(s),this.buildTimer(s),o,this.xi(),this.buildTime(),
this.Qi(),i,e,s)},this.Zi=function(t,n,i,e,s,o,r){t=this.Ji(t,n.ct(),i,o,r);return new $(e,s,i,this.Yi(r),t,this.dt(r),this.buildLogger())},this.Xi=function(){return new it},this.Wi=function(){return new Z},this.Qi=function(){return this.Fi},this.Jt=function(){return this.O},this.Fi=new ot},(h=lt.SystemSettings=function(){this.zi=h.$i,m.rn(this,"logLevel",function(){return this.zi}),m.un(this,"logLevel",function(t){var n;"number"===typeof t&&(n=m.cn(t))===t&&n>=h.LogLevel.DEBUG&&n<=h.LogLevel.ERROR&&
(this.zi=n)}),this.te=h.ne,m.rn(this,"allowUncaughtExceptions",function(){return this.te}),m.un(this,"allowUncaughtExceptions",function(t){m.ie(t)&&(this.te=t)}),this.ee=h.se,m.rn(this,"storageTimeout",function(){return this.ee}),m.un(this,"storageTimeout",function(t){var n;"number"===typeof t&&(n=m.cn(t))===t&&(this.ee=n)}),this.oe=h.re,m.rn(this,"httpTimeout",function(){return this.oe}),m.un(this,"httpTimeout",function(t){var n;"number"===typeof t&&(n=m.cn(t))===t&&(this.oe=n)}),function(){}.apply(this,
arguments),this.equals=function(t){return this.logLevel===t.logLevel&&this.allowUncaughtExceptions===t.allowUncaughtExceptions&&this.storageTimeout===t.storageTimeout&&this.httpTimeout===t.httpTimeout},this.ct=function(){var t=new h;return t.logLevel=this.logLevel,t.allowUncaughtExceptions=this.allowUncaughtExceptions,t.storageTimeout=this.storageTimeout,t.httpTimeout=this.httpTimeout,t}}).LogLevel={DEBUG:g.LogLevel.DEBUG,INFO:g.LogLevel.INFO,WARNING:g.LogLevel.WARNING,ERROR:g.LogLevel.ERROR,NONE:g.LogLevel.NONE},
h.ue=h.LogLevel.DEBUG,h.$i=h.LogLevel.NONE,h.he=!0,h.ne=!1,h.se=10,h.re=10,i=U.AdAnalytics=function(){var e=this;function n(t){e.ae?(m.Ht(t)>0&&e.setAdInfo(t),e.ae.fe()||(e.ae.ce(e.le),e.ae.de(!0),e.getAdType()===g.AdType.SERVER_SIDE&&e.reportAdMetric(g.Playback.BITRATE,e.le.ve()))):e.p}e.Ee=null,e.T=null,e._e=null,e.le=null,e.ae=null,e.Re=null,e.pe=null,e.Ae=null,function(t,n,i){e.Ee=t,e.Ae=i,e.T=n,i&&(e.le=i.Te()),e._e=n.buildTimer(g.version),e.ae=new l(e.Ee,e._e),w.call(this)}.apply(this,arguments),
this.setAdInfo=function(t){m.Ht(t)<=0?e.p:(e.p,e.ae&&e.ae.Se(t))},this.setAdPlayerInfo=function(t){m.Ht(t)<=0?e.p:(e.p,e.ae&&e.ae.Se(t))},this.reportAdMetric=function(){0===arguments.length?e.p:1===arguments.length?e.Oe(arguments[0]):2===arguments.length?e.Oe(arguments[0],arguments[1]):3===arguments.length?e.Oe(arguments[0],arguments[1],arguments[2]):4===arguments.length&&e.Oe(arguments[0],arguments[1],arguments[2],arguments[3])},this.setCallback=function(t){e.ae&&e.ae.Ne(t)},this.reportAdFailed=
function(t,n){e.ae?(m.Ht(n)>0&&e.setAdInfo(n),e.ae.fe()?(e.p,e.reportAdError(t,a.ErrorSeverity.FATAL),e.reportAdEnded()):(e.ae.ce(e.le),e.p,n=new L(t,a.ErrorSeverity.FATAL),e.ae.de(!0,n))):e.p},this.reportAdLoaded=function(t){e.p,n(t)},this.reportAdStarted=function(t){e.p,n(t)},this.reportAdEnded=function(){e.ae?(e.p,e.ae.fe()&&(e.ae.ce(null),e.ae.de(!1))):e.p},this.reportAdError=function(t,n){e.ae?(e.p,t=new L(t,n),e.ae.di(t)):e.p},this.reportAdPlayerEvent=function(t,n){if(m.Pt(t))if(e.p,e.ae)switch(t){case g.Events.USER_WAIT_STARTED:case g.Events.BUMPER_VIDEO_STARTED:e.ae.Mt();
break;case g.Events.USER_WAIT_ENDED:case g.Events.BUMPER_VIDEO_ENDED:e.ae.Vt();break;default:e.ae.ge(t,n)}else e.p;else e.p},this.reportAdSkipped=function(){e.ae?(e.p,e.reportAdPlayerEvent(g.Events.AD_SKIPPED),e.reportAdEnded()):e.p},this.release=function(){e.p,e.ae&&(e.ae.fe()&&(e.ae.ce(null),e.ae.de(!1)),e.ae.Ne(null),e.ae.Ie(),e.ae=null),"undefined"!==typeof lt.AdProxyMonitor&&e.pe&&(lt.AdProxyMonitor.release(e.pe),e.pe=null)},this.setAdListener=function(t,n){t&&("undefined"!==typeof n&&"undefined"!==
typeof n.convivaModule?lt.AdProxyMonitor=n.convivaModule.AdProxyMonitor:"undefined"!==typeof ConvivaModule&&(lt.AdProxyMonitor=ConvivaModule.AdProxyMonitor),"undefined"!==typeof lt.AdProxyMonitor)&&(!t&&e.pe?(lt.AdProxyMonitor.release(e.pe),e.pe=null):t&&e.pe?(lt.AdProxyMonitor.release(e.pe),e.p,e.pe=lt.AdProxyMonitor.initConvivaDropIn(t,n,this,lt,e.T)):t&&!e.pe&&(e.p,e.pe=lt.AdProxyMonitor.initConvivaDropIn(t,n,this,lt,e.T)))},this.reportAdBreakStarted=function(t,n,i){e.le&&(e.p,e.we=t,e.Re=n,e.le.Ce(t,
n,i))},this.reportAdBreakEnded=function(){e.le&&(e.p,e.we=null,e.Re=null,e.le.ye())},this.getSessionId=function(){return e.le?(e.p,e.ae.Xt()):g.NO_SESSION_KEY},this.getClientId=function(){return e.le?(e.p,e.ae.Qt()):null},this.getPlayerMonitor=function(){return e.le},this.getAdPlayerMonitor=function(){return e.ae},this.getVideoAnalytics=function(){return e.Ae},this.getAdType=function(){return e.le?e.le.we:null},this.me=function(){return e.le?e.le.Re:null},i.prototype=Object.create(w.prototype),i.prototype.constructor=
i},l=U.AdPlayerMonitorImpl=function(){var s=this;s.De=null,s.Pe=null,function(t,n){d.call(this,t,n)}.apply(this,arguments),this.ce=function(t){this.be()!==t&&(this.Le(),s.Pe=t||null)},this.be=function(){return s.Pe},this.Me=function(t){var n,i=this.be(),e={};e.error=t,s.De&&(s.Ue=s.De.getPlayerStateManager(!0),s.Ve(),s.Ue.setClientMeasureInterface(this),n=null,i&&(n=i.ke()),s.Fe=s.De.createAdSession(n,s.Ct,s.Ue,!0,e),"undefined"!==typeof t)&&(s.Be(),s.Ie())},l.prototype=Object.create(d.prototype),
l.prototype.constructor=l},q=lt.Analytics={init:function(){if(this.Ee,arguments.length<=0)throw new Error("customerKey must be valid");var t=null,n=null,i=null;if("string"===typeof arguments[0]&&!m.Pt(t=arguments[0]))throw new Error("customerKey must be valid");arguments.length>=2&&"object"===typeof arguments[1]&&(n=arguments[1]),arguments.length>=3&&"object"===typeof arguments[2]&&(i=arguments[2]);var t=new f(t),e=new h,i=(m.Ht(i)>0&&(i[g.GATEWAY_URL]&&(t.gatewayUrl=i[g.GATEWAY_URL]),i[g.LOG_LEVEL]>=
0)&&(e.logLevel=i[g.LOG_LEVEL]),new lt.Impl.Html5Logging),s=new lt.Impl.Html5Storage,o=new lt.Impl.Html5Http,r=new lt.Impl.Html5Timer,u=new lt.Impl.Html5Time;this.bi||(this.bi=new lt.Impl.Html5Metadata),n&&(n[g.CallbackFunctions.CONSOLE_LOG]&&(i.consoleLog=n[g.CallbackFunctions.CONSOLE_LOG]),n[g.CallbackFunctions.MAKE_REQUEST]&&(o.makeRequest=n[g.CallbackFunctions.MAKE_REQUEST]),n[g.CallbackFunctions.SAVE_DATA]&&(s.saveData=n[g.CallbackFunctions.SAVE_DATA]),n[g.CallbackFunctions.LOAD_DATA]&&(s.loadData=
n[g.CallbackFunctions.LOAD_DATA]),n[g.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(u.getEpochTimeMs=n[g.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),n[g.CallbackFunctions.CREATE_TIMER])&&(r.createTimer=n[g.CallbackFunctions.CREATE_TIMER]),this.Mi=new K(u,r,o,s,this.bi,i),this.T=new x(this.Mi,e),this.T.lt("Analytics",t),this.Ee=new a(t,this.T,this.He,q.version),this.Ee._=new J(this.Ee,this),this.Ee._&&this.Ee._.Ge()},release:function(){var t=0;if(this.je){for(t=0;t<this.je.length;t++){var n=this.je[t];n&&
(n.release(),n.p=null,n._e=null,this.je.splice(t,1),t--)}this.je=null}if(this.Ke){for(t=0;t<this.Ke.length;t++){var i=this.Ke[t];i&&(i.release(),i.p=null,i._e=null,this.Ke.splice(t,1),t--)}this.Ke=null}this.T&&(this.T.release(),this.T=null),this.Ee&&(this.Ee.release(),this.Ee=null),this.Ee=null,this.p=null,this.Mi=null,this.bi=null,this.He=null},setUniqueIdentifier:function(t,n){if(!this.Ee)throw new Error(g.i);this.Ee.setUniqueIdentifier(t,n)},setUserPreferenceForDataCollection:function(t,n){if(!this.Ee)throw new Error(g.i);
this.Ee.setUserPreferenceForDataCollection(t,n)},setUserPreferenceForDataDeletion:function(t){if(!this.Ee)throw new Error(g.i);this.Ee.setUserPreferenceForDataDeletion(t)},reportAppEvent:function(t,n){if(!this.Ee)throw new Error(g.i);this.Ee.sendCustomEvent(a.NO_SESSION_KEY,t,n)},reportAppBackgrounded:function(){if(!this.Ee)throw new Error(g.i);this.Ee.sendCustomEvent(a.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:function(){if(!this.Ee)throw new Error(g.i);this.Ee.sendCustomEvent(a.NO_SESSION_KEY,
"App.Foregrounded",null)},configureExistingClient:function(t){if(!(t instanceof a))throw new Error(g.i);this.Ee=t,this.T=this.Ee.T},buildVideoAnalytics:function(){var t;if(this.Ee)return t=new v(this.Ee,this.T),this.Ke||(this.Ke=[]),this.Ke.push(t),t;throw new Error(g.i);},buildAdAnalytics:function(t){if(this.Ee)return t=new i(this.Ee,this.T,t||null),this.je||(this.je=[]),this.je.push(t),t;throw new Error(g.i);},setDeviceMetadata:function(t){var n,i,e;arguments.length<=0||0===m.Ht(t)||(this.bi||(this.bi=
new lt.Impl.Html5Metadata),t[g.DeviceMetadata.BRAND]&&(this.bi.getDeviceBrand=function(){return t[g.DeviceMetadata.BRAND]}),t[g.DeviceMetadata.MANUFACTURER]&&(this.bi.getDeviceManufacturer=function(){return t[g.DeviceMetadata.MANUFACTURER]}),t[g.DeviceMetadata.MODEL]&&(this.bi.getDeviceModel=function(){return t[g.DeviceMetadata.MODEL]}),t[g.DeviceMetadata.TYPE]&&(this.bi.getDeviceType=function(){return t[g.DeviceMetadata.TYPE]}),t[g.DeviceMetadata.VERSION]&&(this.bi.getDeviceVersion=function(){return t[g.DeviceMetadata.VERSION]}),
t[g.DeviceMetadata.OS_NAME]&&(this.bi.getOperatingSystemName=function(){return t[g.DeviceMetadata.OS_NAME]}),t[g.DeviceMetadata.OS_VERSION]&&(this.bi.getOperatingSystemVersion=function(){return t[g.DeviceMetadata.OS_VERSION]}),t[g.DeviceMetadata.CATEGORY]&&(this.bi.getDeviceCategory=function(){return t[g.DeviceMetadata.CATEGORY]}),n=t[g.DeviceMetadata.SCREEN_RESOLUTION_WIDTH],m.gt(n)&&(this.bi.getScreenWidth=function(){return n.toString()}),i=t[g.DeviceMetadata.SCREEN_RESOLUTION_HEIGHT],m.gt(i)&&
(this.bi.getScreenHeight=function(){return i.toString()}),e=t[g.DeviceMetadata.SCREEN_RESOLUTION_SCALE_FACTOR],m.gt(e)&&(this.bi.getScaleFactor=function(){return e.toString()}))},reportDeviceMetric:function(t,n){switch(this.He||(this.He={}),t){case g.Network.CONNECTION_TYPE:m.Pt(n)&&(this.He[t]=n,this.Ee)&&this.Ee.$(this.He[g.Network.CONNECTION_TYPE]);break;case g.Network.LINK_ENCRYPTION:m.Pt(n)&&(this.He[t]=n,this.Ee)&&this.Ee.it(this.He[g.Network.LINK_ENCRYPTION]);break;case g.Network.SIGNAL_STRENGTH:var i=
parseInt(n,10);m.gt(i)&&I.DEFAULT_SIGNAL_STRENGTH!==i&&(this.He[t]=i,this.Ee)&&this.Ee.ot(i)}},version:"4.7.4"},w=U.AnalyticsImpl=function(){var c=this;function l(){var t=!!c.ae,n=c.getAdType(),i=c.me();return n===g.AdType.SERVER_SIDE&&i===g.AdPlayer.CONTENT?w.Ye.We:n!==g.AdType.SERVER_SIDE||i!==g.AdPlayer.SEPARATE?n===g.AdType.CLIENT_SIDE&&i===g.AdPlayer.CONTENT||(n===g.AdType.CLIENT_SIDE&&g.AdPlayer.SEPARATE,t)?w.Ye.xe:w.Ye.qe:void 0}function d(t,n,i){t=parseInt(t,10),n=parseInt(n,10);isNaN(t)&&
isNaN(n)||(isNaN(t),isNaN(n),!c.ae||i!==w.Ye.xe&&i!==w.Ye.We||c.ae.Je(t,n),!c.le)||i!==w.Ye.qe&&i!==w.Ye.We||c.le.Je(t,n)}function v(t,n){I.vi(t)&&(!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.Xe(t),c.le&&n===w.Ye.qe||n===w.Ye.We)&&c.le.Xe(t)}function E(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.Qe(t),!c.le)||n!==w.Ye.qe&&n!==w.Ye.We||c.le.Qe(t)}function _(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.Ze(t),!c.le)||n!==w.Ye.qe&&n!==w.Ye.We||c.le.Ze(t)}
function R(t,n){t=parseInt(t,10);!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.ze(!0,t),!c.le||n!==w.Ye.qe&&n!==w.Ye.We||c.le.ze(!0,t)}function p(t){!c.ae||t!==w.Ye.xe&&t!==w.Ye.We||c.ae.ze(!1,-1),!c.le||t!==w.Ye.qe&&t!==w.Ye.We||c.le.ze(!1,-1)}function A(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.$e(t),!c.le)||n!==w.Ye.qe&&n!==w.Ye.We||c.le.$e(t)}function T(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.ts(t),!c.le)||n!==w.Ye.qe&&n!==w.Ye.We||c.le.ts(t)}
function S(t,n){t=parseInt(t,10);isNaN(t)||(!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.ns(t),!c.le)||n!==w.Ye.qe&&n!==w.Ye.We||c.le.ns(t)}function O(t,n){var i;m.Pt(t)&&(i=c.le.hi(),m.Pt(i)&&"off"!==i&&"off"!==t&&N("off",n),!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.es(t),!c.le||n!==w.Ye.qe&&n!==w.Ye.We||c.le.es(t))}function N(t,n){var i;m.Pt(t)&&(i=c.le.ri(),m.Pt(i)&&"off"!==i&&"off"!==t&&O("off",n),!c.ae||n!==w.Ye.xe&&n!==w.Ye.We||c.ae.ss(t),!c.le||n!==w.Ye.qe&&n!==w.Ye.We||c.le.ss(t))}!function(){}.apply(this,
arguments),this.Oe=function(t,n,i,e){switch(t){case g.Playback.BITRATE:e===w.Ye.xe?A(n,w.Ye.xe):A(n,l());break;case g.Playback.AVG_BITRATE:e===w.Ye.xe?T(n,w.Ye.xe):T(n,l());break;case g.Playback.PLAY_HEAD_TIME:e===w.Ye.xe?E(n,w.Ye.xe):E(n,l());break;case g.Playback.RESOLUTION:e===w.Ye.xe?d(n,i,w.Ye.xe):d(n,i,l());break;case g.Playback.BUFFER_LENGTH:e===w.Ye.xe?_(n,w.Ye.xe):_(n,l());break;case g.Playback.PLAYER_STATE:e===w.Ye.xe?v(n,w.Ye.xe):v(n,l());break;case g.Playback.RENDERED_FRAMERATE:e===w.Ye.xe?
S(n,w.Ye.xe):S(n,l());break;case g.Playback.SEEK_STARTED:arguments.length>=2&&"CONVIVA"!==n?R(n,l()):i===w.Ye.xe?R(-1,w.Ye.xe):R(-1,l());break;case g.Playback.SEEK_ENDED:i===w.Ye.xe?p(w.Ye.xe):p(l());break;case g.Playback.CDN_IP:a=n,f=l(),m.Pt(a)&&(!c.ae||f!==w.Ye.xe&&f!==w.Ye.We||c.ae.os(a),!c.le||f!==w.Ye.qe&&f!==w.Ye.We||c.le.os(a));break;case g.Playback.DROPPED_FRAMES_TOTAL:f=n,a=l();f=parseInt(f,10),isNaN(f)||(!c.ae||a!==w.Ye.xe&&a!==w.Ye.We||c.ae.rs(f),!c.le)||a!==w.Ye.qe&&a!==w.Ye.We||c.le.rs(f);
break;case g.Playback.DROPPED_FRAMES_COUNT:var s=n,o=l();s=parseInt(s,10),isNaN(s)||(!c.ae||o!==w.Ye.xe&&o!==w.Ye.We||c.ae.us(s),!c.le)||o!==w.Ye.qe&&o!==w.Ye.We||c.le.us(s);break;case g.Playback.AUDIO_LANGUAGE:o=n,s=l(),m.Pt(o)&&(!c.ae||s!==w.Ye.xe&&s!==w.Ye.We||c.ae.hs(o),!c.le||s!==w.Ye.qe&&s!==w.Ye.We||c.le.hs(o));break;case g.Playback.SUBTITLES_LANGUAGE:O(n,l());break;case g.Playback.CLOSED_CAPTIONS_LANGUAGE:N(n,l());break;default:r=t,u=n,h=l(),m.Pt(r)&&u&&(!c.ae||h!==w.Ye.xe&&h!==w.Ye.We||c.ae.Zt(r,
u),!c.le||h!==w.Ye.qe&&h!==w.Ye.We||c.le.Zt(r,u))}var r,u,h,a,f}},U.AnalyticsImpl.Ye={xe:1,qe:2,We:3},J=U.AppAnalyticsHandler=function(){var o=this;o.Ee=null,o.fs=null,o.cs=null,o.ls=null,o.wt=null,function(t,n){o.Ee=t,o.fs=n,"undefined"!==typeof document&&document&&(o.cs=document.createEvent("HTMLEvents"),o.cs.initEvent(g.APP_TRACKER_EVENT.TYPE,!0,!0))}.apply(this,arguments),this.Ge=function(){o.ds(g.APP_TRACKER_EVENT.INIT)},this.vs=function(){o.ds(g.APP_TRACKER_EVENT.VIDEO_ATTEMPT)},this.Es=function(){o.ds(g.APP_TRACKER_EVENT.VIDEO_END),
o.wt=null},this._s=function(t){o.ds(g.APP_TRACKER_EVENT.VIDEO_PLAY,t)},this.Rs=function(t){o.ds(g.APP_TRACKER_EVENT.VIDEO_PAUSE,t)},this.ps=function(t){o.ds(g.APP_TRACKER_EVENT.VIDEO_ERROR,t)},this.As=function(t){o.ds(g.APP_TRACKER_EVENT.VIDEO_BUFFERING,t)},this.Ts=function(t){o.ds(g.APP_TRACKER_EVENT.VIDEO_BITRATE_SWITCH,t)},this.Ss=function(t){o.ds(g.APP_TRACKER_EVENT.VIDEO_METADATA_CHANGE,t)},this.Os=function(t){t={cen:t.name,ced:t.data};o.ds(g.APP_TRACKER_EVENT.VIDEO_CUSTOM_EVENT,t)},this.Ns=
function(t){t={cen:t.name,ced:t.data};o.ds(g.APP_TRACKER_EVENT.SDK_CUSTOM_EVENT,t)},this.gs=function(t){o.ds(g.APP_TRACKER_EVENT.AD_BREAK_START,{cen:"PodStart",ced:t})},this.Is=function(){o.ds(g.APP_TRACKER_EVENT.AD_BREAK_END,{cen:"PodEnd"})},this.ds=function(t,n){try{if(o.cs){if(o.ws(),o.cs.name=o.ls.name=t,o.cs.iid=o.ls.iid=o.Ee.getConfig().getIid(),o.cs.clid=o.ls.clid=o.Ee.getConfig().getClientId(),o.wt){var i=o.wt;if(i.Cs()?(o.cs.sid=o.ls.sid=i.ys.Xt(),o.cs.sst=o.ls.sst=i.Ds,o.cs.url=o.ls.url=
i.On,o.cs.st=o.ls.st=i.Ps(),o.cs.an=o.ls.an=i._n,o.cs.pn=o.ls.pn=i.bs,o.cs.tags=o.ls.tags=JSON.stringify(i.Ct.Rn),o.cs.vid=o.ls.vid=i.Tn,i.Ls>=0&&(o.cs.cl=o.ls.cl=i.Ls),o.cs.lv=o.ls.lv=i.Ms,o.cs.fw=o.ls.fw=i.Us(),o.cs.fwv=o.ls.fwv=i.Vs(),o.cs.mn=o.ls.mn=i.Vn,o.cs.mv=o.ls.mv=i.kn,i.yn>=0&&(o.cs.br=o.ls.br=i.yn)):i.ks()&&(o.cs.sid=o.ls.sid=i.ys.Xt(),o.cs.sst=o.ls.sst=i.Ds,o.cs.st=o.ls.st=i.Ps(),o.cs.mn=o.ls.mn=i.Vn,o.cs.mv=o.ls.mv=i.kn),n)for(var e=Object.keys(n),s=0;s<e.length;s++)"object"===typeof n[e[s]]?
o.cs[e[s]]=o.ls[e[s]]=JSON.stringify(n[e[s]]):o.cs[e[s]]=o.ls[e[s]]=n[e[s]]}"undefined"!==typeof document&&document&&document.dispatchEvent(o.cs)}}catch(t){}},this.ws=function(){if(null!==o.ls)for(var t=Object.keys(o.ls),n=0;n<t.length;n++)delete o.cs[t[n]];o.ls={}},this.Fs=function(t,n,i){try{((o.wt=i).Cs()||i.ks())&&(t===N.Bs?n[N.Hs][N.Gs]?n[N.Hs][N.Gs]===N.js?o._s(n):n[N.Hs][N.Gs]===N.Ks?o.As(n):n[N.Hs][N.Gs]===N.Ws&&o.Rs(n):n[N.Hs][N.Ys]?o.Ts(n):o.Ss(n):t===N.xs?o.ps({err:n[N.qs],ft:n[N.Js]}):
t===N.Xs?o.Es():t===g.APP_TRACKER_EVENT.VIDEO_ATTEMPT?o.vs():t===N.Qs&&(n[N.Zs]===g.Events.POD_START?o.gs(n[N.zs]):n[N.Zs]===g.Events.POD_END?o.Is(n[N.zs]):o.wt.Cs()?o.Os({name:n[N.Zs],data:n[N.zs]}):o.Ns({name:n[N.Zs],data:n[N.zs]})))}catch(t){}}},X=U.PlayerMonitor=function(){var e=this;this.$s=null,this.no=null,this.Ct=null,this.io=null,this.Pn=I.PlayerState.UNKNOWN,this.eo=-1,this.so=-1,this.Gn=[],this.oo=null,this.ro=null,this.uo=-2,this.ho=-2,this.Ln=-1,this.V=I.DEFAULT_SIGNAL_STRENGTH,this.ao=
null,this.gi=null,this.U=null,this.M=null,this._e=null,this.fo=null,this.co=null,this.lo=null,this.do=null,this.we=null,this.Re=null,this.jn=null,this.Kn=null,this.Wn=null,function(t){e._e=t}.apply(this,arguments),this.vo=function(){return e.Pn},this.Xe=function(t){e.Pn!==t&&(e.Le(),e.Pn=t,e.Eo())},this._o=function(){return e.Ro},this.po=function(){return e.Ao},this.ze=function(t,n){e.Le(),e.Ro=t,e.Ao=n,e.To()},this.So=function(){return e.eo},this.Qe=function(t){e.eo=t},this.Oo=function(){return e.so},
this.Ze=function(t){e.so=t},this.ve=function(){return e.uo},this.$e=function(t){e.uo!==t&&(e.uo=t,e.Eo())},this.No=function(){return e.ho},this.ts=function(t){e.ho!==t&&(e.ho=t,e.Eo())},this.Io=function(){return e.Ln},this.ns=function(t){e.Ln=t},this.wo=function(){return e.ao},this.os=function(t){e.ao=t,e.Eo()},this.Ni=function(){return e.gi},this.rs=function(t){e.gi=t,e.Eo()},this.us=function(t){e.Co(t)},this.yo=function(){return e.V},this.si=function(){return e.jn},this.ri=function(){return e.Kn},
this.hi=function(){return e.Wn},this.hs=function(t){e.jn!==t&&(e.jn=t,e.Eo())},this.es=function(t){e.Kn!==t&&(e.Kn=t,e.Eo())},this.ss=function(t){e.Wn!==t&&(e.Wn=t,e.Eo())},this.mo=function(){return e.Do},this.Po=function(){return e.bo},this.Je=function(t,n){n<0&&(n=0),e.Do===(t=t<0?0:t)&&e.bo===n||(e.Do=t,e.bo=n,e.Eo())},this.Lo=function(){return e.no},this.Mo=function(){e.Lo()&&(e.Ct=new c,e.io={},e.co={},e.Uo())},this.Vo=function(t){(e.no||t)&&(this.Le(),e.no&&(e.no=null,e.Mo()),t)&&(e.no=m.ko(e.no,
t),e.Mo())},this.Se=function(t){if(t)if(e.Ct){var n,i=!1;for(n in t)if(e.Ct[n]!==t[n]){i=!0;break}i&&(e.Le(),e.no=m.ko(t),e.Uo())}else e.Vo(t)},this.Ne=function(t){t?e.lo!==t&&(e.lo=t,e.Fo()):(e.lo=null,e.Be())},this.Le=function(){e.Bo||e.lo&&(e.Bo=!0,e.lo(),e.Bo=!1)},this.fe=function(){return e.$s},this.de=function(t,n){e.$s!==t&&(e.Le(),e.$s&&(e.Ho(),e.Be(),e.Ie()),e.$s=t,e.$s)&&e.Me(n)},this.Go=function(){return e.oo},this.jo=function(){return e.ro||null},this.Ko=function(){return e.Gn},this.Wo=
function(){e.Gn=[]},this.di=function(t){this.Le(),e.Gn.push(t),e.Si()},this.ge=function(t,n){e.Le(),e.oo=t,e.ro=n,e.Yo()},this.xo=function(){e.Le()},this.Fo=function(){e.Be(),e.fo=e._e.create(e.xo,1E3,"PlayerMonitor.update")},this.Be=function(){e.fo&&(e.fo(),e.fo=null)},this.Ce=function(t,n,i){e.do=i,e.we=t,e.qo(),e.Re=n,e.we&&g.AdType.CLIENT_SIDE===e.we&&(e.Pn=g.PlayerState.UNKNOWN,e.Jo(e.we,n,i?i[g.POD_POSITION]:null))},this.ye=function(){e.we&&g.AdType.CLIENT_SIDE===e.we&&(e.Xo(),e.Pn=g.PlayerState.UNKNOWN),
e.Qo(),e.we=null,e.Re=null},this.Zo=function(){return e.do},this.zo=function(){return e.we},this.getContentMetadata=function(){return this.Ct},this.Ie=function(){this.$s=null,this.no=null,this.Ct=null,this.io=null,this.Pn=I.PlayerState.UNKNOWN,this.eo=-1,this.so=-1,this.Gn=[],this.oo=null,this.ro=null,this.uo=-2,this.ho=-2,this.Ln=-1,this.V=I.DEFAULT_SIGNAL_STRENGTH,this.ao=null,this.gi=null,this.U=null,this.M=null,this._e=null,this.fo=null,this.co=null,this.lo=null,this.do=null,this.we=null,this.Re=
null,this.jn=null,this.Kn=null,this.Wn=null,e.Ue=null,e.Fe=a.NO_SESSION_KEY}},d=U.PlayerMonitorImpl=function(){var o=this;o.De=null,o.Ue=null,o.Fe=a.NO_SESSION_KEY,function(t,n){X.call(this,n),o.De=t}.apply(this,arguments),this.getPHT=function(){return o.So()},this.getBufferLength=function(){return o.Oo()},this.getRenderedFrameRate=function(){return o.Io()},this.getSignalStrength=function(){return o.yo()},this.To=function(){o.Ue&&o._ContentSessionKey!==a.NO_SESSION_KEY&&(o._o()?o.Ue.setPlayerSeekStart(o.po()):
o.Ue.setPlayerSeekEnd())},this.Eo=function(){o.Ue&&(o.Ue.setPlayerState(o.vo()),o.ve()>0&&o.Ue.setBitrateKbps(o.ve()),o.No()>0&&o.Ue.setAvgBitrateKbps(o.No()),o.mo()>0&&o.Ue.setVideoResolutionWidth(o.mo()),o.Po()>0&&o.Ue.setVideoResolutionHeight(o.Po()),o.wo()&&o.Ue.setCDNServerIP(o.wo()),m.gt(o.Ni())&&o.Ue.setDroppedFramesTotal(o.Ni()),m.Pt(o.si())&&o.Ue.setAudioLang(o.si()),m.Pt(o.ri())&&o.Ue.setSubtitleLang(o.ri()),m.Pt(o.hi()))&&o.Ue.setCcLang(o.hi())},this.Lt=function(){o.Fe!==a.NO_SESSION_KEY&&
o.De&&o.De.updateContentMetadata(o.Fe,o.Ct)},this.Ve=function(){if(o.Ue){o.co&&m.Ht(o.co)>0&&(o.co[g.MODULE_NAME]&&o.co[g.MODULE_VERSION]&&(t=o.co[g.MODULE_NAME],n=o.co[g.MODULE_VERSION],m.Pt(t))&&m.Pt(n)&&o.Ue.setModuleNameAndVersion(t,n),o.co[g.FRAMEWORK_NAME]&&(t=o.co[g.FRAMEWORK_NAME],m.Pt(t))&&o.Ue.setPlayerType(t),o.co[g.FRAMEWORK_VERSION])&&(n=o.co[g.FRAMEWORK_VERSION],m.Pt(n))&&o.Ue.setPlayerVersion(n);var t,n,i=o.Ko();o.Wo();for(var e=0;e<i.length;e++){var s=i[e];o.Ue.di(s)}}},this.Xo=function(){o.Ue&&
o.Fe!==a.NO_SESSION_KEY&&(o.Eo(),this.$o())},this.Vt=function(){o.Ue&&o.Fe!==a.NO_SESSION_KEY&&(o.Eo(),o.De.kt(o.Fe))},this.$o=function(){o.De&&o.Fe!==g.NO_SESSION_KEY&&o.De.adEnd(o.Fe)},this.Jo=function(t,n,i){var e;o.Ue&&o.Fe!==g.NO_SESSION_KEY&&(e=null,g.AdType.CLIENT_SIDE===t?e=a.AdStream.SEPARATE:g.AdType.SERVER_SIDE===t&&(e=a.AdStream.CONTENT),o.tr(e,n,i))},this.Mt=function(){o.Ue&&o.Fe!==g.NO_SESSION_KEY&&o.De.Ut(o.Fe)},this.tr=function(t,n,i){o.De&&o.Fe!==g.NO_SESSION_KEY&&o.De.adStart(o.Fe,
t,n,i)},this.Me=function(){if(o.De){o.Ue=o.De.getPlayerStateManager(!0),o.Ve(),o.Ue.setClientMeasureInterface(this);try{var t;o.Ct&&o.Ct.custom&&!o.Ct.custom[g.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var n=Object(this),i=n.length>>>0;if("function"!==typeof t)throw new TypeError;for(var e,s=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in n&&(e=n[r],t.call(o,e,r,n))&&s.push(e);return s}),""!==(t=
m.nr().split("?").join("").split("\x26").filter(function(t){return 2===t.split("\x3d").length&&t.split("\x3d")[0].toLowerCase().indexOf("utm_")>=0}).join("\x26")))&&(o.Ct.custom[g.UTM_TRACKING_URL]=t)}catch(t){o.p.error("PlayerMonitorImpl _createSession : "+t)}o.Fe=o.De.createSession(o.Ct,o.Ue,!0)}},this.Ho=function(){o.De&&(o.Ue&&(o.Ue.setPlayerState(g.PlayerState.STOPPED),o.Ue=null),o.Fe!==g.NO_SESSION_KEY)&&(o.De.cleanupSession(o.Fe),o.Fe=g.NO_SESSION_KEY)},this.Si=function(){if(o.De&&o.Fe!==a.NO_SESSION_KEY){var t=
o.Ko();o.Wo();for(var n=0;n<t.length;n++){var i=t[n];o.De.reportError(o.Fe,i.ir(),i.er())}}},this.Yo=function(){o.Fe!==a.NO_SESSION_KEY&&o.De&&o.De.sendCustomEvent(o.Fe,o.Go(),o.jo())},this.Uo=function(){var t,n=o.Lo(),i=!1,e=!1;for(t in n){var s=n[t];if(m.Pt(t)&&null!==s&&void 0!==s)switch(t){case g.STREAM_URL:e=!0,o.Ct.streamUrl=s;break;case g.ASSET_NAME:e=!0,o.Ct.assetName=s;break;case g.DEFAULT_RESOURCE:e=!0,o.Ct.defaultResource=s;break;case g.VIEWER_ID:e=!0,o.Ct.viewerId=s;break;case g.PLAYER_NAME:e=
!0,o.Ct.applicationName=s;break;case g.DURATION:e=!0,o.Ct.duration=s;break;case g.IS_LIVE:e=!0,o.Ct.streamType=s;break;case g.ENCODED_FRAMERATE:e=!0,o.Ct.encodedFrameRate=s;break;case g.MODULE_NAME:case g.MODULE_VERSION:case g.FRAMEWORK_NAME:case g.FRAMEWORK_VERSION:i=!0,o.co[t]=s;break;default:g.APPLICATION_VERSION;e=!0,o.Ct.custom[t]=s}}i&&this.Ve(),e&&this.Lt()},this.qo=function(){this.sr(g.Events.POD_START)},this.Qo=function(){this.sr(g.Events.POD_END)},this.sr=function(t){var n,i,e;o.De&&o.Fe!==
g.NO_SESSION_KEY&&(n={},(e=this.Zo())&&((i=e[g.POD_POSITION])&&(n[g.POD_POSITION]=i),(i=e[g.POD_INDEX])&&(n[g.POD_INDEX]=i+""),t===g.Events.POD_START)&&(i=e[g.POD_DURATION])&&(n[g.POD_DURATION]=i+""),(e=this.zo())&&(n[g.AD_TYPE]=e),o.De.sendCustomEvent(o.Fe,t,n))},this.Co=function(t){o.Ue.setDroppedFramesCount(t)},this.rr=function(t){this.Fe===g.NO_SESSION_KEY&&t!==g.NO_SESSION_KEY&&(this.Fe=t)},this.ke=function(){return this.Fe},this.Xt=function(){return o.De.getSessionId(this.Fe)},this.Qt=function(){return o.De.getClientId(this.Fe)},
this.Zt=function(t,n){o.De.Zt(this.Fe,t,n)},d.prototype=Object.create(X.prototype),d.prototype.constructor=d},lt.Impl=lt.Impl||{},lt.Impl.Html5Http=function(){!function(){}.apply(this,arguments),this.makeRequest=function(){return this.makeRequestStandard.apply(this,arguments)},this.makeRequestStandard=function(t,n,i,e,s,o){var r=new XMLHttpRequest;return r.open(t,n,!0),e&&r.overrideMimeType&&(r.overrideMimeType=e),e&&r.setRequestHeader&&r.setRequestHeader("Content-Type",e),s>0&&(r.timeout=s,r.ontimeout=
function(){r.ontimeout=r.onreadystatechange=null,o&&o(!1,"timeout after "+s+" ms")}),r.onreadystatechange=function(){4===r.readyState&&(r.ontimeout=r.onreadystatechange=null,200===r.status?o&&o(!0,r.responseText):o&&o(!1,"http status "+r.status))},r.send(i),null},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Logging=function(){!function(){}.apply(this,arguments),this.consoleLog=function(t,n){"undefined"!==typeof console&&(console.log&&n===h.LogLevel.DEBUG||n===h.LogLevel.INFO?console.log(t):
console.warn&&n===h.LogLevel.WARNING?console.warn(t):console.error&&n===h.LogLevel.ERROR&&console.error(t))},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Metadata=function(){!function(){}.apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=
function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=function(){return null},this.getScreenWidth=function(){return"undefined"!==typeof window&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=function(){return"undefined"!==typeof window&&window&&window.screen&&
window.screen.height?window.screen.height.toString():null},this.getScaleFactor=function(){return"undefined"!==typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio.toString():null},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Storage=function(){!function(){}.apply(this,arguments),this.saveData=function(t,n,i,e){t=t+"."+n;try{localStorage.setItem(t,i),e(!0,null)}catch(t){e(!1,t.toString())}},this.loadData=function(t,n,i){t=t+"."+n;try{i(!0,localStorage.getItem(t))}catch(t){i(!1,
t.toString())}},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Time=function(){!function(){}.apply(this,arguments),this.getEpochTimeMs=function(){return(new Date).getTime()},this.release=function(){}},lt.Impl=lt.Impl||{},lt.Impl.Html5Timer=function(){!function(){}.apply(this,arguments),this.createTimer=function(t,n){var i=setInterval(t,n);return function(){-1!==i&&(clearInterval(i),i=-1)}},this.release=function(){}},v=U.VideoAnalytics=function(){var s=this;s.Ee=null,s.T=null,s._e=null,
s.le=null,s.pe=null,this.release=function(){s.p,s.le&&s.le.fe()&&s.le.de(!1),"undefined"!==typeof lt.ProxyMonitor&&s.pe&&(lt.ProxyMonitor.release(s.pe),s.pe=null),s.le&&(s.le.Ne(null),s.le.Ie(),s.le=null),s._e=null},function(t,n){s.Ee=t,s.T=n,s._e=n.buildTimer(g.version),s.le=new d(s.Ee,s._e),w.call(this)}.apply(this,arguments),this.reportPlaybackRequested=function(t){s.p,s.le&&(m.Ht(t)>0&&s.setContentInfo(t),s.le.fe()||s.le.de(!0))},this.reportPlaybackEnded=function(){s.p,s.le&&s.le.fe()&&(s.le.de(!1),
"undefined"!==typeof lt.ProxyMonitor&&s.pe&&(lt.ProxyMonitor.release(s.pe),s.pe=null),s.le.Ne(null))},this.reportPlaybackFailed=function(t,n){s.le&&(m.Ht(n)>0&&s.setContentInfo(n),s.le.fe()||s.le.de(!0),s.p,s.reportPlaybackError(t,a.ErrorSeverity.FATAL),s.reportPlaybackEnded())},this.setContentInfo=function(t){m.Ht(t)<=0||s.le&&(s.p,s.le.Se(t))},this.setPlayerInfo=function(t){m.Ht(t)<=0||s.le&&(s.p,s.le.Se(t))},this.reportPlaybackMetric=function(){0!==arguments.length&&(1===arguments.length?s.Oe(arguments[0]):
2===arguments.length?s.Oe(arguments[0],arguments[1]):3===arguments.length?s.Oe(arguments[0],arguments[1],arguments[2]):4===arguments.length&&s.Oe(arguments[0],arguments[1],arguments[2],arguments[3]))},this.reportPlaybackError=function(t,n){s.le&&m.Pt(t)&&(s.p,t=new L(t,n),s.le.di(t))},this.reportPlaybackEvent=function(t,n){if(m.Pt(t)&&s.le&&(s.p,s.le))switch(t){case g.Events.USER_WAIT_STARTED:case g.Events.BUMPER_VIDEO_STARTED:s.le.Mt();break;case g.Events.USER_WAIT_ENDED:case g.Events.BUMPER_VIDEO_ENDED:s.le.Vt();
break;default:s.le.ge(t,n)}},this.setCallback=function(t){s.p,s.le&&s.le.Ne(t)},this.reportAdBreakStarted=function(t,n,i){s.le&&(s.p,s.le.Ce(t,n,i))},this.reportAdBreakEnded=function(){s.le&&(s.p,s.le.ye())},this.setPlayer=function(t,n){var i,e;void 0!==t&&(n&&(i=n[g.CONVIVA_MODULE],e=n[g.MEDIA_ELEMENT]),"undefined"!==typeof i?lt.ProxyMonitor=i.ProxyMonitor:"undefined"!==typeof ConvivaModule&&(lt.ProxyMonitor=ConvivaModule.ProxyMonitor),"undefined"!==typeof lt.ProxyMonitor)&&(s.p,!t&&s.pe?(lt.ProxyMonitor.release(s.pe),
s.pe=null):t?(s.pe&&lt.ProxyMonitor.release(s.pe),s.p,s.pe="undefined"!==typeof e?lt.ProxyMonitor.initConvivaDropIn(t,e,s.T,this,lt):lt.ProxyMonitor.initConvivaDropIn(t,s.T,this,lt)):"undefined"!==typeof e&&(s.pe=lt.ProxyMonitor.initConvivaDropIn(t,e,s.T,this,lt)))},this.setAdAnalytics=function(t){t?s.getAdType()&&(s.getAdType()===g.AdType.SERVER_SIDE?s.ae=t.getAdPlayerMonitor():s.getAdType()===g.AdType.CLIENT_SIDE&&s.p):s.ae=null},this.configureExistingSession=function(t){t!==g.NO_SESSION_KEY&&s.le&&
(s.p,s.le.rr(t))},this.getSessionId=function(){return s.le?(s.p,s.le.Xt()):g.NO_SESSION_KEY},this.getClientId=function(){return s.le?(s.p,s.le.Qt()):null},this.Te=function(){return s.p,this.le},this.getAdType=function(){return s.le?s.le.we:null},this.me=function(){return s.le?s.le.Re:null},v.prototype=Object.create(w.prototype),v.prototype.constructor=v},U.JsonParse=(k={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:n,text:V};},r=
function(t){return t&&t!==s&&o("Expected '"+t+"' instead of '"+s+"'"),s=V.charAt(n),n+=1,s},F=function(){var t,n,i,e="";if('"'===s)for(;r();){if('"'===s)return r(),e;if("\\"===s)if(r(),"u"===s){for(n=i=0;n<4&&(t=parseInt(r(),16),isFinite(t));n+=1)i=16*i+t;e+=String.fromCharCode(i)}else{if("string"!==typeof k[s])break;e+=k[s]}else e+=s}o("Bad string")},e=function(){for(;s&&s<=" ";)r()},u=function(){switch(e(),s){case "{":var t,n={};if("{"===s){if(r("{"),e(),"}"===s)return r("}"),n;for(;s;){if(t=F(),
e(),r(":"),Object.hasOwnProperty.call(n,t)&&o('Duplicate key "'+t+'"'),n[t]=u(),e(),"}"===s)return r("}"),n;r(","),e()}}return void o("Bad object");case "[":var i=[];if("["===s){if(r("["),e(),"]"===s)return r("]"),i;for(;s;){if(i.push(u()),e(),"]"===s)return r("]"),i;r(","),e()}}return void o("Bad array");case '"':return F();case "-":return ft();default:return(s>="0"&&s<="9"?ft:function(){switch(s){case "t":return r("t"),r("r"),r("u"),r("e"),!0;case "f":return r("f"),r("a"),r("l"),r("s"),r("e"),!1;
case "n":return r("n"),r("u"),r("l"),r("l"),null}o("Unexpected '"+s+"'")})()}},function(t,r){return V=t,n=0,s=" ",t=u(),e(),s&&o("Syntax error"),"function"===typeof r?function t(n,i){var e,s,o=n[i];if(o&&"object"===typeof o)for(e in o)Object.hasOwnProperty.call(o,e)&&(void 0!==(s=t(o,e))?o[e]=s:delete o[e]);return r.call(n,i,o)}({"":t},""):t}),A=U.JSON2={},"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+
1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!==typeof A.stringify&&(E=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},A.stringify=function(t,n,i){var e;
if(R=_="","number"===typeof i)for(e=0;e<i;e+=1)R+=" ";else"string"===typeof i&&(R=i);if(!(p=n)||"function"===typeof n||"object"===typeof n&&"number"===typeof n.length)return function t(n,i){var e,s,o,r,u,h=_,a=i[n];switch(a&&"object"===typeof a&&"function"===typeof a.toJSON&&(a=a.toJSON(n)),typeof(a="function"===typeof p?p.call(i,n,a):a)){case "string":return ct(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);case "object":if(!a)return"null";if(_+=
R,u=[],Object.prototype.toString.apply(a)===Object.prototype.toString.apply([])){for(r=a.length,e=0;e<r;e+=1)u[e]=t(e,a)||"null";o=0===u.length?"[]":_?"[\n"+_+u.join(",\n"+_)+"\n"+h+"]":"["+u.join(",")+"]"}else{if(p&&"object"===typeof p)for(r=p.length,e=0;e<r;e+=1)"string"===typeof p[e]&&(o=t(s=p[e],a))&&u.push(ct(s)+(_?": ":":")+o);else for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o=t(s,a))&&u.push(ct(s)+(_?": ":":")+o);o=0===u.length?"{}":_?"{\n"+_+u.join(",\n"+_)+"\n"+h+"}":"{"+u.join(",")+
"}"}return _=h,o}}("",{"":t});throw new Error("JSON2.stringify");}),O=U.ur={hr:"0123456789abcdef",ar:function(t){for(var n="",i=7;i>=0;i--)n+=O.hr.charAt(t>>4*i&15);return n},cr:function(t){for(var n=1+(t.length+8>>6),i=new Array(16*n),e=0;e<16*n;e++)i[e]=0;for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<24-e%4*8;return i[e>>2]|=128<<24-e%4*8,i[16*n-1]=8*t.length,i},lr:function(t,n){var i=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(i>>16)<<16|65535&i},dr:function(t,n){return t<<n|t>>>32-n},vr:function(t,
n,i,e){return t<20?n&i|~n&e:!(t<40)&&t<60?n&i|n&e|i&e:n^i^e},Er:function(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514},_r:function(t){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return O.Rr(n)},Rr:function(t){if(""===t)return"";for(var n,i=O.cr(t),e=new Array(80),s=1732584193,o=-271733879,r=-1732584194,u=271733878,h=-1009589776,a=0;a<i.length;a+=16){for(var f=s,c=o,l=r,d=u,v=h,E=0;E<80;E++)e[E]=E<16?i[a+E]:O.dr(e[E-3]^e[E-8]^e[E-14]^e[E-16],1),n=O.lr(O.lr(O.dr(s,
5),O.vr(E,o,r,u)),O.lr(O.lr(h,e[E]),O.Er(E))),h=u,u=r,r=O.dr(o,30),o=s,s=n;s=O.lr(s,f),o=O.lr(o,c),r=O.lr(r,l),u=O.lr(u,d),h=O.lr(h,v)}return O.ar(s)+O.ar(o)+O.ar(r)+O.ar(u)+O.ar(h)}},(N=U.CwsProtocol=function(){this.pr=function(t,n,i,e){return e.seq=t,e.st=n,e.t=i,e},this.Ar=function(t,n){var i=N.Xs;return this.pr(t,n,i,{})}}).version="2.6",N.Tr="/0/wsg",N.H="0",N.Sr=-1,N.Or=!1,N.Nr=2,N.gr=-1,N.Ir=-1,N.wr=1E3,N.Cr="sdk.js.1",N.Bs="CwsStateChangeEvent",N.xs="CwsErrorEvent",N.Xs="CwsSessionEndEvent",
N.Qs="CwsCustomEvent",N.yr="CwsSeekEvent",N.mr="CwsDataSamplesEvent",N.Dr="ok",N.Pr="err",N.Lr="clid",N.Mr="cfg",N.Ur="evs",N.Vr="maxhbinfos",N.kr="slg",N.Fr="hbi",N.Br="gw",N.Hr="fp",N.Gr="csi_en",N.jr="CwsSessionHb",N.Kr="t",N.Wr="st",N.Yr="sst",N.qr="lv",N.Jr="seq",N.Xr="cid",N.Qr="clid",N.Zr="clv",N.zr="pver",N.$r="iid",N.tu="sid",N.nu="vid",N.iu="an",N.eu="pn",N.su="tags",N.ou="sf",N.ru="evs",N.uu="lg",N.hu="hbinfos",N.au="sdk",N.fu="pj",N.Gs="ps",N.Ys="br",N.cu="avgbr",N.lu="cl",N.du="efps",
N.vu="afps",N.Eu="rfpstot",N._u="rfpscnt",N.Ru="rs",N.pu="pht",N.Au="bl",N.Tu="url",N.Su="caps",N.Ou="pm",N.Nu="w",N.gu="h",N.Iu="ct",N.wu="le",N.Cu="dftot",N.yu="dfcnt",N.mu="al",N.Du="sl",N.Pu="cal",N.bu="ss",N.Lu="csi_n",N.Mu="csi_t",N.Uu="csi_l",N.Vu="csi_v",N.ku="csi_c",N.Fu="sch",N.Bu="br",N.Hu="brv",N.Gu="dvb",N.ju="dvma",N.Ku="dvm",N.Wu="dvt",N.Yu="dvv",N.xu="sw",N.qu="sh",N.Ju="scf",N.Xu="fw",N.Qu="fwv",N.Zu="cc",N.zu="mn",N.$u="mv",N.th="os",N.nh="osv",N.ih="cat",N.eh="caps",N.sh="t",N.oh=
"seq",N.rh="st",N.uh="act",N.hh="skto",N.qs="err",N.Js="ft",N.Hs="new",N.ah="old",N.Zs="name",N.zs="attr",N.fh="seq",N.lh="err",N.dh="rtt",N.Eh="ad",N._h="csi",N.Rh=function(t){switch(t){case I.PlayerState.STOPPED:return N.ph;case I.PlayerState.PLAYING:return N.js;case I.PlayerState.BUFFERING:return N.Ks;case I.PlayerState.PAUSED:return N.Ws;case I.PlayerState.NOT_MONITORED:return N.Ah;default:return N.Th}},N.ph=1,N.js=3,N.Ks=6,N.Ws=12,N.Ah=98,N.Th=100,N.Sh={Oh:0,Ot:1,Nh:2,gh:4},N.Ih={wh:0},Z=U.LibJSONInterface=
function(){this.Ch=function(t){var n=null;try{n=A.stringify(t)}catch(t){}return n},this.yh=function(t){var n=null;try{n=U.JsonParse(t)}catch(t){return n}return n=m.mh(n)?n:null}},z=U.CwsHeartbeat=function(){this.Dh={},function(){}.apply(this,arguments),this.get=function(){return this.Dh},this.Ph=function(t,n){this.Dh[t]=n},this.bh=function(t,n,i){this.Dh[t]||(this.Dh[t]={}),this.Dh[t][n]=i},this.Lh=function(t){this.Ph(N.Kr,t)},this.Mh=function(t){this.Ph(N.Wr,t)},this.Uh=function(t){this.Ph(N.Yr,
t)},this.Vh=function(t){this.Ph(N.qr,t)},this.kh=function(t){this.Ph(N.Jr,t)},this.Fh=function(t){this.Ph(N.Xr,t)},this.Bh=function(t){this.Ph(N.Qr,t)},this.Hh=function(t){this.Ph(N.Zr,t)},this.Gh=function(t){this.Ph(N.zr,t)},this.jh=function(t){this.Ph(N.eh,t)},this.Kh=function(t){this.Ph(N.tu,t)},this.Wh=function(t){this.Ph(N.$r,t)},this.Yh=function(t){this.Ph(N.nu,t)},this.xh=function(t){this.Ph(N.iu,t)},this.qh=function(t){this.Ph(N.eu,t)},this.Jh=function(t){this.Ph(N.su,t)},this.Xh=function(t){this.Ph(N.ou,
t)},this.Qh=function(t){this.Ph(N.Su,t)},this.Zh=function(t){this.Ph(N.ru,t)},this.zh=function(t){this.Ph(N.au,t)},this.$h=function(t){this.Ph(N.uu,t)},this.ta=function(t){this.Ph(N.hu,t)},this.Xe=function(t){this.Ph(N.Gs,t)},this.na=function(t){this.Ph(N.fu,t)},this.ia=function(t){this.Ph(N.lu,t)},this.ea=function(t){this.Ph(N.Ys,t)},this.sa=function(t){this.Ph(N.cu,t)},this.oa=function(t){this.Ph(N.Ru,t)},this.ra=function(t){this.Ph(N.du,t)},this.ua=function(t){this.Ph(N.vu,t)},this.ha=function(t){this.Ph(N._u,
t)},this.aa=function(t){this.Ph(N.Eu,t)},this.fa=function(t){this.bh(N.Ou,N.Fu,t)},this.ca=function(t){this.bh(N.Ou,N.Bu,t)},this.la=function(t){this.bh(N.Ou,N.Hu,t)},this.da=function(t){this.bh(N.Ou,N.Gu,t)},this.va=function(t){this.bh(N.Ou,N.ju,t)},this.Ea=function(t){this.bh(N.Ou,N.Ku,t)},this._a=function(t){this.bh(N.Ou,N.Wu,t)},this.Ra=function(t){this.bh(N.Ou,N.Yu,t)},this.pa=function(t){this.bh(N.Ou,N.Xu,t),this.Ph(N.Xu,t)},this.Aa=function(t){this.bh(N.Ou,N.Qu,t),this.Ph(N.Qu,t)},this.Ta=
function(t){this.bh(N.Ou,N.th,t.toUpperCase())},this.Sa=function(t){this.bh(N.Ou,N.nh,t)},this.Oa=function(t){this.bh(N.Ou,N.ih,t)},this.Na=function(t){this.bh(N.Ou,N.xu,t)},this.ga=function(t){this.bh(N.Ou,N.qu,t)},this.Ia=function(t){this.bh(N.Ou,N.Ju,t)},this.wa=function(t){this.Ph(N.Cu,t)},this.Co=function(t){this.Ph(N.yu,t)},this.Ca=function(t){this.Ph(N.pu,t)},this.ya=function(t){this.Ph(N.Au,t)},this.ma=function(t){this.Ph(N.Tu,t)},this.Da=function(t){this.Ph(N.Nu,t)},this.Pa=function(t){this.Ph(N.gu,
t)},this.ba=function(t){this.Ph(N.Iu,t)},this.La=function(t){this.Ph(N.wu,t)},this.Ma=function(){this.Ph(N.Eh,!0)},this.Ua=function(t){this.Ph(N.bu,t)},this.setModuleName=function(t){this.bh(N.Zu,N.zu,t)},this.Va=function(t){this.bh(N.Zu,N.$u,t)},this.ka=function(t){this.Ph(N._h,t)},this.Fa=function(t){t&&this.Ph(N.Lu,t)},this.Ba=function(t){t&&this.Ph(N.Mu,t)},this.Ha=function(t){t&&this.Ph(N.Uu,t)},this.Ga=function(t){t&&this.Ph(N.Vu,t)},this.ja=function(t){t&&this.Ph(N.ku,t)},this.Ka=function(t){this.Ph(N.mu,
t)},this.Wa=function(t){this.Ph(N.Du,t)},this.Ya=function(t){this.Ph(N.Pu,t)}},(C=U.CwsSession=function(){var _=this;_.qa=null,_.Ct=null,_.Ds=0,_.Ja=0,_.Xa=N.Sh.Oh,_.Qa=N.Ih.wh,_.Za=[],_.za=-1,_.yn=-2,_.Dn=-2,_.gi=-1,_.$a=-1,_.tf=null,_.Pn=I.PlayerState.UNKNOWN,_.wn=-1,_.Ls=-1,_.On=null,_.Fn=-1,_.Bn=-1,_.Ue=null,_._n=null,_.Tn=null,_.bs=null,_.Ms=null,_.nf={},_.if=null,_.ef=null,_.sf=null,_.rf=null,_.uf=null,_.hf=null,_.af=null,_.ff=null,_.cf=null,_.lf=null,_.df=null,_.vf=null,_.Ef=null,_._f=null,
_.Rf=null,_.Vn=null,_.kn=null,_.M=null,_.U=null,_.ao=null,_.pf=null,_.Af=!1,_.Tf=!1,_.Sf=!1,_.Of=!1,_.Nf=null,_.gf=1E3,_.If=0,_.wf=0,_.Cf={},_.D={},_.yf=!1,_.mf=null,_.Df=null,_.Pf=null,_.bf=null,_.Lf=null,_.Mf=null,_.Uf=12E4,_.Vf=N.Or,_.kf=!1,_.Ff=null,_.ki=null,_.jn=null,_.Kn=null,_.Wn=null,function(t,n,i,e,s,o,r,u,h,a,f,c,l){this.Bf=t,this.Ee=n,this.Vi=i,this.p=e,this.p.setModuleName("CwsSession"),this.g=s,this._e=o,this.Hf=r,this.Gf=u,this.jf=h,this.Fi=a,this.Kf=f,this.Ct=c,this.Ct&&(_.wn=this.Ct.encodedFrameRate,
_.On=this.Ct.streamUrl,_.Ls=this.Ct.duration),this.Kf&&(_.Ff=_.Kf.get(y.B)),_.ki=l}.apply(this,arguments),this.Tt=function(){this.Kf=null,this.Fi=null,this.N=null,this.jf=null,this.Gf=null,this.Hf=null,this._e=null,this.g=null,this.p=null,this.Vi=null,this.Ee=null,this.Bf.Wf(),this.Bf=null,this.pf=null,this.Sf=!0},this.Yf=function(t){this.ys=t,this.xf=this.ys.xf,this.p.Kh(this.ys.C),this.Ds=this.jf.current(),this.Cs()||this.qf()?(this.Xa+=C.xa,_.p.info("start(): assetName\x3d"+_.Ct.assetName)):_.p.info("start()"+
_.Jf())},this.Xf=function(){this.Of=!0},this.Qf=function(){this.p.debug("initialize()"),(this.Cs()||this.qf()||this.ks())&&(this.Ee&&this.Ee._&&this.Ee._.Fs(g.APP_TRACKER_EVENT.VIDEO_ATTEMPT,{},this),_.Zf(),_.zf(),_.$f(),this.Cs()||this.qf())&&_.tc()},this.nc=function(){this.p.debug("end(): schedule the last hb before session cleanup"+_.Jf()),this.ic(),this.ec(),this.sc(),this.oc()},this.rc=function(){this.Of||(this.oc(),this.uc())},this.ca=function(t){var n=_.if;n!==t&&t&&(_.p.debug("Change browserName from "+
n+" to "+t),_.if=t)},this.la=function(t){var n=_.ef;n!==t&&t&&(_.p.debug("Change browserVersion from "+n+" to "+t),_.ef=t)},this.da=function(t){var n=_.sf;n!==t&&t&&(_.p.debug("Change deviceBrand from "+n+" to "+t),_.sf=t)},this.va=function(t){var n=_.rf;n!==t&&t&&(_.p.debug("Change deviceManufacturer from "+n+" to "+t),_.rf=t)},this.Ea=function(t){var n=_.uf;n!==t&&t&&(_.p.debug("Change deviceModel from "+n+" to "+t),_.uf=t)},this._a=function(t){var n=_.hf;n!==t&&t&&(_.p.debug("Change deviceType from "+
n+" to "+t),_.hf=t)},this.Ra=function(t){var n=_.af;n!==t&&t&&(_.p.debug("Change deviceVersion from "+n+" to "+t),_.af=t)},this.Ta=function(t){var n=_.lf;n!==t&&t&&(_.p.debug("Change operatingSystemName from "+n+" to "+t),_.lf=t)},this.Sa=function(t){var n=_.df;n!==t&&t&&(_.p.debug("Change operatingSystemVersion from "+n+" to "+t),_.df=t)},this.Oa=function(t){var n=_.vf;n!==t&&t&&(_.p.debug("Change deviceCategory from "+n+" to "+t),_.vf=t)},this.Na=function(t){var n=_.Ef;n!==t&&t&&(_.p.debug("Change screenWidth from "+
n+" to "+t),_.Ef=t)},this.ga=function(t){var n=_._f;n!==t&&t&&(_.p.debug("Change screenHeight from "+n+" to "+t),_._f=t)},this.Ia=function(t){var n=_.vf;n!==t&&t&&(_.p.debug("Change scaleFactor from "+n+" to "+t),_.Rf=t)},this.Us=function(){return _.ff},this.pa=function(t){var n=_.ff;n!==t&&t&&(_.p.debug("Change frameworkName from "+n+" to "+t),_.ff=t)},this.Vs=function(){return _.cf},this.Aa=function(t){var n=_.cf;n!==t&&t&&(_.p.debug("Change frameworkVersion from "+n+" to "+t),_.cf=t)},this.ma=
function(t){var n;_.Ct.streamUrl||(n=_.On)!==t&&t&&(_.p.debug("Change stream url from "+n+" to "+t),_.On=t)},this.hc=function(){_.ec(),_.kf||(_.ac(),_.Mf=_._e.create(_.ac,_.Uf,"CwsSession.startCdnTimer"),_.p.debug("fetching cdn ip timer started"))},this.ec=function(){_.Mf&&(_.Mf(),_.fc(null,null,null,null,null),_.Mf=null)},this.ac=function(){_.p.debug("detectCDNServerIp(): For "+_.On),_.Vf?_.cc():_.ec()},this.cc=function(){try{var t;"function"===typeof XMLHttpRequest||"object"===typeof XMLHttpRequest?
((t=new XMLHttpRequest).open("HEAD",_.On,!0),t.setRequestHeader("Pragma","akamai-x-cache-on"),t.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(this.getAllResponseHeaders().indexOf("x-cache")>=0||this.getAllResponseHeaders().indexOf("X-Cache")>=0)?_.fc("Akamai","header","X-Cache",""+this.getResponseHeader("X-Cache"),""+this.status):_.fc("null","header","null","null",""+this.status))},t.send()):_.p.info("xmlhttpreq is not available here to fetch CDN Server Ip")}catch(t){_.p.info("Exception caught in makeAkamaiHeadRequest")}},
this.fc=function(t,n,i,e,s){var o={},r={};_.mf!==t&&(null!==_.mf&&(r[N.Lu]=_.mf),_.mf=t,null===_.mf?o[N.Lu]="null":o[N.Lu]=_.mf),_.Df!==n&&(null!==_.Df&&(r[N.Mu]=_.Df),_.Df=n,null===_.Df?o[N.Mu]="null":o[N.Mu]=_.Df),_.Pf!==i&&(null!==_.Pf&&(r[N.Uu]=_.Pf),_.Pf=i,null===_.Pf?o[N.Uu]="null":o[N.Uu]=_.Pf),_.bf!==e&&(null!==_.bf&&(r[N.Vu]=_.bf),_.bf=e,null===_.bf?o[N.Vu]="null":o[N.Vu]=_.bf),_.Lf!==s&&(null!==_.Lf&&(r[N.ku]=_.Lf),_.Lf=s,null===_.Lf?o[N.ku]="null":o[N.ku]=_.Lf),"{}"!==JSON.stringify(o)&&
_.lc(o,r)},this.dc=function(t){var n=_.yn;n!==t&&t>0&&(_.p.info("Change bitrate from "+n+" to "+t),_.vc(n,t),_.yn=t)},this.Ec=function(t){var n=_.Dn;n!==t&&t>0&&(_.p.info("Change Avg bitrate from "+n+" to "+t),_._c(n,t),_.Dn=t)},this.wa=function(t){var n=_.gi;n!==t&&t>=0&&(_.p.info("Change dropped frames total from "+n+" to "+t),_.Rc(n,t),_.gi=t)},this.Co=function(t){var n=_.$a,i=t+(-1===_.$a?0:_.$a);n!==t&&i>=0&&(_.p.info("Change dropped frames count from "+n+" to "+i),_.Ac(n,i),_.$a=i)},this.oa=
function(t){var n=_.tf;n!==t&&t&&(_.p.info("Change resource from "+n+" to "+t),_.tf=t)},this.xh=function(t){_._n!==t&&t&&(_.p.info("Change assetName from "+_._n+" to "+t),_._n=t)},this.Vh=function(t){var n=_.Ms;n!==t&&m.ie(t)&&(_.p.info("Change isLive from "+n+" to "+t),_.Ms=t)},this.Yh=function(t){var n=_.Tn;n!==t&&t&&(_.p.info("Change viewerId from "+n+" to "+t),_.Tn=t)},this.qh=function(t){var n=_.bs;n!==t&&t&&(_.p.info("Change playerName from "+n+" to "+t),_.bs=t)},this.Jh=function(t){var n=_.nf;
!m.Tc(n,t)&&t&&(_.p.info("Change tags from "+m.Sc(n)+" to "+m.Sc(t)),_.nf=t)},this.ra=function(t){_.Ct.encodedFrameRate>0||(_.p.debug("setEncodedFrameRate(): "+t),_.wn=t)},this.ia=function(t){_.Ct.duration>0||(_.p.debug("setContentLength(): "+t),_.Ls=t)},this.Xe=function(t){var n;_.Tf||t!==I.PlayerState.PLAYING||(_.Tf=!0,m.Pt(_.Ct.viewerId)||_.p.error("Missing viewerId. viewerId should be updated before first frame is rendered."),m.Pt(_.Ct.streamType)&&c.StreamType.UNKNOWN!==_.Ct.streamType||_.p.error("Missing streamType - Live or VOD. streamType should be updated before first frame is rendered."),
m.Pt(_.Ct.applicationName))||_.p.error("Missing applicationName. applicationName should be updated before first frame is rendered."),_.Pn!==t&&(n=_.Pn,_.p.info("setPlayerState(): changing player state from "+n+" to "+t),_.Oc(n,t),_.Pn=t)},this.Nc=function(t){var n=_.Fn;n!==t&&t>0&&(_.p.debug("Change stream resolution width from "+n+" to "+t),_.gc(n,t),_.Fn=t)},this.Ic=function(t){var n=_.Bn;n!==t&&t>0&&(_.p.debug("Change stream resolution height from "+n+" to "+t),_.wc(n,t),_.Bn=t)},this.ba=function(t){var n=
_.M;n!==t&&t&&(_.p.debug("Change network connection type from "+n+" to "+t),_.Cc(n,t),_.M=t)},this.La=function(t){var n=_.U;n!==t&&t&&(_.p.debug("Change network link encryption from "+n+" to "+t),_.yc(n,t),_.U=t)},this.ka=function(t){_.kf=!0,_.ec();var n=_.ao;n!==t&&m.Pt(t)&&(_.p.debug("Change CDN Server IP from "+n+" to "+t),_.mc(n,t),_.ao=t)},this.Ka=function(t){var n=_.jn;n!==t&&m.Pt(t)&&!_.ys.Dc&&(_.p.info("Change Audio Lang from "+n+" to "+t),_.Pc(n,t),_.jn=t)},this.Wa=function(t){var n=_.Kn;
n!==t&&m.Pt(t)&&!_.ys.bc&&(_.p.info("Change Subtitle Lang from "+n+" to "+t),_.Lc(n,t),_.Kn=t)},this.Ya=function(t){var n=_.Wn;n!==t&&m.Pt(t)&&!_.ys.Mc&&(_.p.info("Change Closed Caption Lang from "+n+" to "+t),_.Uc(n,t),_.Wn=t)},this.Vc=function(t){var n;_.p.debug("togglePauseJoin()"),_.Af===t?_.p.debug("togglePauseJoin(): same value, ignoring"):(t=_.Af,n=!_.Af,_.kc(t,n),_.Af=!_.Af)},this.Fc=function(t,n){_.Bc(t,n)},this.Hc=function(t,n){var i,e;n[N.sh]=t,n[N.rh]=this.Ps(),n[N.oh]=this.Bf.Gc(),this.Ue&&
(i=b.jc(this.Ue.getPHT(),0,null,-1),e=b.jc(this.Ue.getBufferLength(),0,null,-1),i>=0&&(n[N.pu]=i),e>0)&&(n[N.Au]=e),this.Bf.Kc(n),this.Ee._&&this.Ee._.Fs(t,n,this)},this.Wc=function(t){_.Ue=t,_.Ue?_.Yc():_.xc()},this.ic=function(){var t=this.Gf.Ar(this.qc(),this.Ps());this.Ee._&&this.Ee._.Fs(N.Xs,{},this),this.Bf.Kc(t)},this.Bc=function(t,n){var i={};i[N.qs]=t,i[N.Js]=n,this.Hc(N.xs,i)},this.vc=function(t,n){var i={},e={};t>0&&(e[N.Ys]=t),i[N.Ys]=n,this.lc(i,e)},this._c=function(t,n){var i={},e={};
t>0&&(e[N.cu]=t),i[N.cu]=n,this.lc(i,e)},this.Jc=function(t,n){var i={};i[N.uh]=t,n>=0&&(i[N.hh]=n),this.Hc(N.yr,i)},this.gc=function(t,n){var i={},e={};-1!==t&&(e[N.Nu]=t),i[N.Nu]=n,this.lc(i,e)},this.wc=function(t,n){var i={},e={};-1!==t&&(e[N.gu]=t),i[N.gu]=n,this.lc(i,e)},this.Cc=function(t,n){var i={},e={};null!==t&&(e[N.Iu]=t),i[N.Iu]=n,this.lc(i,e)},this.yc=function(t,n){var i={},e={};null!==t&&(e[N.wu]=t),i[N.wu]=n,this.lc(i,e)},this.mc=function(t,n){var i={},e={};m.Pt(t)&&(e[N._h]=t),i[N._h]=
n,this.lc(i,e)},this.Rc=function(t,n){var i={},e={};t>=0&&(e[N.Cu]=t),i[N.Cu]=n,this.lc(i,e)},this.Ac=function(t,n){var i={},e={};t>=0&&(e[N.yu]=t),i[N.yu]=n,this.lc(i,e)},this.Pc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[N.mu]=t),i[N.mu]=n),this.lc(i,e)},this.Lc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[N.Du]=t),i[N.Du]=n),this.lc(i,e)},this.Uc=function(t,n){var i={},e={};t!==n&&("string"===typeof t&&(e[N.Pu]=t),i[N.Pu]=n),this.lc(i,e)},this.kc=function(t,n){var i=
{},e={};e[N.fu]=t,i[N.fu]=n,this.lc(i,e)},this.Oc=function(t,n){var i={},e={};i[N.Gs]=N.Rh(n),e[N.Gs]=N.Rh(t),this.lc(i,e)},this.lc=function(t,n){var i={};i[N.Hs]=t,n&&m.Ht(n)>0&&(i[N.ah]=n),this.Hc(N.Bs,i)},this.Xc=function(t,n){var i={};i[N.Zs]=t,m.Ht(n)>0&&(i[N.zs]=n),this.Hc(N.Qs,i)},this.sc=function(){_.qa&&(_.qa(),_.qa=null)},this.uc=function(){_.sc();var t=1E3*_.Vi.heartbeatInterval;_.qa=_._e.create(_.oc,t,"Session.sendHeartbeat:"+this.xf)},this.xc=function(){_.Nf&&(_.Nf(),_.Nf=null)},this.Yc=
function(){_.xc(),_.Nf=_._e.create(_.Qc,_.gf,"Session.startRfpsTimer")},this.Zc=function(){var t={err:"pending"};t.seq=_.Ja-1,t.sentAt=_.Ps(),t.rtt=-1,_.Za.push(t);for(var n=0;n<_.Za.length;n++)"ok"===(t=_.Za[n]).err&&(_.Za.splice(n,1),n--)},this.zc=function(t,n){for(var i=0;i<_.Za.length;i++){var e=_.Za[i];e.seq===t&&(e.rtt=_.Ps()-e.sentAt,e.err=n)}},this.$c=function(t){for(var n=0;n<_.Za.length;n++){var i=_.Za[n];i.seq===t&&(i.rtt=_.Ps()-i.sentAt,i.err="ok")}},this.tl=function(){for(var t,n,i=_.Kf.get(y.nl),
e=[],s=-1,o=0;o<_.Za.length;o++)if("ok"===(n=_.Za[o]).err){s=n.seq;break}for(var r=0;r<_.Za.length;r++)((t=(n=_.Za[r]).seq)<_.Ja-i||t<s)&&e.push(r);for(var u=[],h=0;h<_.Za.length;h++)t=(n=_.Za[h]).seq,e.indexOf(h)<0&&u.push(_.Za[h]);_.Za=u},this.il=function(){_.tl();for(var t=[],n=0;n<_.Za.length;n++){var i=_.Za[n],e={};e[N.fh]=i.seq,e[N.dh]=i.rtt,e[N.lh]=i.err,t.push(e)}return t},this.el=function(){var t,n=-1,i=-1,e=_.Bf.Wf();if(_.ks()&&0===e.length)return null;var s=new z,o=(s.Lh(N.jr),s.Fh(_.Vi.customerKey),
s.Bh(_.Kf.get(y.B)),s.Kh(_.ys.C),s.kh(_.Ja),s.Gh(N.version),g.version);if(_.ki&&(o=_.ki),s.Hh(o),s.Wh(_.Ee.C),s.jh(0),_.Ee.M?s.ba(_.Ee.M):_.M&&s.ba(_.M),_.Ee.U?s.La(_.Ee.U):_.U&&s.La(_.U),m.Pt(_.ao)&&s.ka(_.ao),s.fa(N.Cr),_.if&&s.ca(_.if),_.ef&&s.la(_.ef),_.sf&&s.da(_.sf),_.rf&&s.va(_.rf),_.uf&&s.Ea(_.uf),_.hf&&s._a(_.hf),_.af&&s.Ra(_.af),_.lf&&s.Ta(_.lf),_.df&&s.Sa(_.df),_.vf&&s.Oa(_.vf),_.ff&&s.pa(_.ff),_.cf&&s.Aa(_.cf),_.Ef&&!isNaN(_.Ef)&&s.Na(parseInt(_.Ef,10)),_._f&&!isNaN(_._f)&&s.ga(parseInt(_._f,
10)),_.Rf&&!isNaN(_.Rf)?s.Ia(parseFloat(_.Rf)):(_.Ef&&!isNaN(_.Ef)||_._f&&!isNaN(_._f))&&s.Ia(1),_.Ue&&(_.Vn=_.Ue.zn(),_.Vn&&s.setModuleName(_.Vn),_.kn=_.Ue.$n(),_.kn&&s.Va(_.kn),_.Ue.ti()&&(_.ff=_.Ue.ti(),s.pa(_.ff)),_.Ue.ii())&&(_.cf=_.Ue.ii(),s.Aa(_.cf)),_.Tn&&s.Yh(_.Tn),m.Ht(_.nf)>0&&s.Jh(_.nf),_.Cs()||_.qf()){_.qf()&&s.Ma(),_._n&&s.xh(_._n),s.Xh(_.Xa);o=N.Rh(_.Pn),o=(s.Xe(o),s.na(_.Af),_.bs&&s.qh(_.bs),m.ie(_.Ms)&&s.Vh(_.Ms),_.Ls>0&&s.ia(_.Ls),_.yn>0&&s.ea(_.yn),_.Dn>0&&s.sa(_.Dn),null!==_.tf&&
s.oa(_.tf),_.wn>0&&s.ra(_.wn),_.Ue&&(n=b.jc(_.Ue.getPHT(),0,null,-1),i=b.jc(_.Ue.getBufferLength(),0,null,-1)),m.gt(_.Ee.V)?t=_.Ee.V:_.Ue&&(t=_.Ue.getSignalStrength()),n>=0&&s.Ca(n),i>0&&s.ya(i),_.sl());if(o>0&&s.ua(o),_.wf>0&&s.aa(b.jc(_.wf,0,null,-1)),_.If>0&&s.ha(b.jc(_.If,0,null,-1)),t!==I.DEFAULT_SIGNAL_STRENGTH&&s.Ua(t),_.On&&s.ma(_.On),_.Fn>0&&s.Da(_.Fn),_.Bn>0&&s.Pa(_.Bn),_.gi>-1&&s.wa(_.gi),_.$a>-1&&(s.Co(_.$a),_.$a>0)&&(_.Ac(_.$a,0),_.$a=0),_.jn&&s.Ka(_.jn),_.Kn&&s.Wa(_.Kn),_.Wn&&s.Ya(_.Wn),
"undefined"!==typeof _.pf)for(var r in _.pf)s.Ph(r,_.pf[r])}else s.Xh(N.Sh.Oh);return e.length>0&&s.Zh(e),s.Qh(_.Qa),s.zh(!0),_.Kf.get(y.ol)&&s.$h(_.Fi.Wf()),_.Kf.get(y.nl)>0&&(n=_.il()).length>0&&s.ta(n),0===_.Ja&&(s=_.rl(s)),(s=0!==_.Ja?_.ul(s):s).Uh(_.Ds),s.Mh(_.Ps()),_.Vf&&(s.Fa(_.mf),s.Ba(_.Df),s.Ha(_.Pf),s.Ga(_.bf),s.ja(_.Lf)),_.Ja++,s.get()},this.ul=function(t){var n,i=_.D,e={};for(n in t.Dh.tags)Object.prototype.hasOwnProperty.call(i,n)||(e[n]=t.Dh.tags[n]);t.Dh.tags=e,_.D={};for(var s=0;s<
_.Cf.length;s++)Object.prototype.hasOwnProperty.call(_.Ee.D,_.Cf[s])?Object.prototype.hasOwnProperty.call(_.Ee.L,_.Cf[s])?_.Ee.L[_.Cf[s]]===y.$t.tn?(_.D[y.hl+""+_.Cf[s]]=y.$t.tn,_.Ee.P("End-user chose to opt-out of personal data collection")):_.Ee.L[_.Cf[s]]===y.$t.en?(_.D[y.hl+""+_.Cf[s]]=y.$t.en,_.Ee.P("End-user chose to opt-out of personal data collection")):_.Ee.L[_.Cf[s]]===y.$t.zt?(_.D[y.hl+""+_.Cf[s]]=y.$t.zt,_.Ee.P("End-user used privacy settings and chose to opt-out of personal data collection")):
(_.D[y.hl+""+_.Cf[s]]=_.Ee.D[_.Cf[s]],_.Ee.P("Data collection successful")):(_.D[y.hl+""+_.Cf[s]]=_.Ee.D[_.Cf[s]],_.Ee.P("Data collection successful")):_.D[y.hl+""+_.Cf[s]]=y.$t.al;var o,r={};for(o in i){var u=o.split(".");"{}"!==JSON.stringify(_.Cf)&&-1!==_.Cf.indexOf(""+u[2])||i[y.hl+""+u[2]]===y.$t.fl||(_.Ee.P("Data collection restricted from Conviva back-end"),_.D[y.hl+""+u[2]]=y.$t.fl,r[y.hl+""+u[2]]=y.$t.fl)}if("{}"!==JSON.stringify(_.D)){var h,a=m.ll(_.D);for(h in t.Dh.tags)a[h]=t.Dh.tags[h];
if(t.Dh.tags=a,!m.Tc(i,_.D)){var f={};if("{}"!==JSON.stringify(r)&&(f[N.su]=r),"{}"!==JSON.stringify(i)){for(var c in i)_.D[c]&&i[c]!==_.D[c]&&(f[N.su]||(f[N.su]={}),f[N.su][c]=_.D[c]);for(var l in _.D)Object.prototype.hasOwnProperty.call(i,l)&&i[l]===_.D[l]||(f[N.su]||(f[N.su]={}),f[N.su][l]=_.D[l])}"{}"===JSON.stringify(i)&&(f[N.su]=_.D);var d,v,E={};E[N.Hs]=f,E[N.sh]=N.Bs,E[N.rh]=_.Ps(),E[N.oh]=_.Bf.Gc(),_.Ue&&(d=b.jc(_.Ue.getPHT(),0,null,-1),v=b.jc(_.Ue.getBufferLength(),0,null,-1),d>=0&&(E[N.pu]=
d),v>0)&&(E[N.Au]=v),t.Dh.evs||(t.Dh.evs=[]),t.Dh.evs.push(E)}}return t},this.rl=function(t){var n=_.dl();if("{}"!==JSON.stringify(n)){var i,e=m.ll(n);for(i in t.Dh.tags)e[i]=t.Dh.tags[i];t.Dh.tags=e;var s,o={},n=(o[N.su]=n,{});n[N.Hs]=o,n[N.sh]=N.Bs,n[N.rh]=_.Ps(),n[N.oh]=_.Bf.Gc(),_.Ue&&(o=b.jc(_.Ue.getPHT(),0,null,-1),s=b.jc(_.Ue.getBufferLength(),0,null,-1),o>=0&&(n[N.pu]=o),s>0)&&(n[N.Au]=s),t.Dh.evs||(t.Dh.evs=[]),t.Dh.evs.push(n)}return t},this.dl=function(){var t={};if("undefined"!==typeof navigator&&
navigator){if(t["c3.fp.cookie"]="undefined"!==typeof navigator.cookieEnabled&&navigator.cookieEnabled?""+navigator.cookieEnabled:"",t["c3.fp.memory"]="undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?""+navigator.deviceMemory:"",t["c3.fp.hwConc"]="undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?""+navigator.hardwareConcurrency:"",t["c3.fp.java"]=""+("function"!==typeof navigator.javaEnabled)?"false":navigator.javaEnabled(),t["c3.fp.lang"]="undefined"!==
typeof navigator.language&&navigator.language?""+navigator.language:"",t["c3.fp.langs"]="undefined"!==typeof navigator.languages&&navigator.languages&&navigator.languages.length>0?""+navigator.languages.toString():"",t["c3.fp.maxTp"]="undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints?""+navigator.maxTouchPoints:"",t["c3.fp.plugins"]="","undefined"!==typeof navigator.plugins&&navigator.plugins&&navigator.plugins.length>0)for(var n=0;n<navigator.plugins.length;n++)t["c3.fp.plugins"]+=
navigator.plugins[n].name+",";if(t["c3.fp.mime"]="","undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes&&navigator.mimeTypes.length>0)for(var i=0;i<navigator.mimeTypes.length;i++)t["c3.fp.mime"]+=navigator.mimeTypes[i].type+",";t["c3.fp.sysLang"]="undefined"!==typeof navigator.systemLanguage&&navigator.systemLanguage?""+navigator.systemLanguage:"",t["c3.fp.platform"]="undefined"!==typeof navigator.platform&&navigator.platform?""+navigator.platform:"",t["c3.fp.product"]="undefined"!==typeof navigator.product&&
navigator.product?""+navigator.product:"",t["c3.fp.productSub"]="undefined"!==typeof navigator.productSub&&navigator.productSub?""+navigator.productSub:"",t["c3.fp.vendor"]="undefined"!==typeof navigator.vendor&&navigator.vendor?""+navigator.vendor:"",t["c3.fp.vendorSub"]="undefined"!==typeof navigator.vendorSub&&navigator.vendorSub?""+navigator.vendorSub:"";var e=_.vl();""!==e&&(t["c3.fp.canvFp"]=e)}return"undefined"!==typeof window&&window&&("undefined"!==typeof window.screen&&window.screen&&(t["c3.fp.availHeight"]=
"undefined"!==typeof window.screen.availHeight&&window.screen.availHeight?""+window.screen.availHeight:"",t["c3.fp.availWidth"]="undefined"!==typeof window.screen.availWidth&&window.screen.availWidth?""+window.screen.availWidth:"",t["c3.fp.height"]="undefined"!==typeof window.screen.height&&window.screen.height?""+window.screen.height:"",t["c3.fp.width"]="undefined"!==typeof window.screen.width&&window.screen.width?""+window.screen.width:"",t["c3.fp.colorDepth"]="undefined"!==typeof window.screen.colorDepth&&
window.screen.colorDepth?""+window.screen.colorDepth:"",t["c3.fp.deviceXDPI"]="undefined"!==typeof window.screen.deviceXDPI&&window.screen.deviceXDPI?""+window.screen.deviceXDPI:"",t["c3.fp.deviceYDPI"]="undefined"!==typeof window.screen.deviceYDPI&&window.screen.deviceYDPI?""+window.screen.deviceYDPI:""),t["c3.fp.dpi"]="undefined"!==typeof window.devicePixelRatio&&window.devicePixelRatio?""+window.devicePixelRatio:"",t["c3.fp.secure"]="boolean"===typeof window.isSecureContext?""+window.isSecureContext:
""),t},this.vl=function(){try{if("undefined"!==typeof document&&document){var t,n,i=document.createElement("CANVAS");if("undefined"!==typeof i&&i&&"function"===typeof i.getContext)return t=i.getContext("2d"),n="conviva",t.textBaseline="top",t.font="14px Arial",t.textBaseline="alphabetic",t.fillStyle="#f40",t.fillRect("undefined"!==typeof navigator.plugins&&navigator.plugins?navigator.plugins.length:0,"undefined"!==typeof navigator.mimeTypes&&navigator.mimeTypes?navigator.mimeTypes.length:0,"undefined"!==
typeof navigator.product&&navigator.product?navigator.product.length:0,"undefined"!==typeof navigator.vendor&&navigator.vendor?navigator.vendor.length:0),t.fillStyle="#069",t.fillText(n,"undefined"!==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,"undefined"!==typeof navigator.product&&navigator.product?navigator.product.length:0),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,"undefined"!==typeof navigator.deviceMemory&&navigator.deviceMemory?navigator.deviceMemory:
0,"undefined"!==typeof navigator.hardwareConcurrency&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),O.Rr(i.toDataURL())}return""}catch(t){return""}},this.oc=function(){var t;_.Sf||(t=_.el())&&_.El(t)},this.Qc=function(){var t;_.Pn===I.PlayerState.PLAYING&&_.Ue&&(t=_.Ue.getRenderedFrameRate())>0&&(_.wf+=t,_.If++)},this.sl=function(){return _.wf>0&&_.If>0||(this.Qc(),_.wf>0&&_.If>0)?m._l.Cast(+_.wf/_.If):I.DEFAULT_RENDERED_FRAME_RATE},this.El=function(t){_.Zc();var i=_.Ja-1;_.p.info("postHeartbeat(): Send HB["+
i+"]"+_.Jf());_.Hf.Rl(t,function(t,n){_.pl(t,n,i)})},this.pl=function(i,e,s){_.Sf||_.g.F("onHeartbeatResponse",function(){var t,n;i?e?(_.p.debug("onHeartbeatResponse(): received valid response for HB["+s+"]"),_.$c(s),(t=e[N.Lr])&&t!==(n=_.Kf.get(y.B))&&(_.p.debug("onHeartbeatResponse(): setting the client id to "+t+" (from gateway)"),_.Kf.set(y.B,t),_.Kf.Al(),n===N.H)&&t!==N.H&&_.Ee.k(),(n=e[N.Pr])&&n!==N.Dr&&_.p.error("onHeartbeatResponse(): error from gateway: "+n),"object"===typeof(t=e[N.Mr])&&
((n=t[N.Vr])>=0&&_.Kf.get(y.nl)!==n&&(_.p.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+n+" (from gateway)"),_.Kf.set(y.nl,n)),n=t[N.kr],(n=!!m.ie(n)&&n)!==_.Kf.get(y.ol)&&(_.p.debug("onHeartbeatResponse(): turning "+(n?"on":"off")+" sending of logs"),_.Kf.set(y.ol,n)),n=t[N.Fr],m.gt(n)&&(n=m._l.Cast(n))!==_.Vi.heartbeatInterval&&(_.p.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+n),_.Vi.heartbeatInterval=n,_.qa)&&_.uc(),(n=t[N.Br])&&n!==_.Vi.gatewayUrl&&
(_.p.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+n),_.Vi.gatewayUrl=n),_.Tl()||(_.Cf={},(n=t[N.Hr])&&(_.yf||(_.yf=!0),_.p.debug("onHeartbeatResponse(): received fp from gateway: "+n),_.Cf=n.split(",")),_.Vf=t[N.Gr],m.ie(_.Vf)&&(_.Vf?(_.p.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),_.Mf||_.hc()):_.ec())))):_.p.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(m.Pt(n=e)?m.Sl(n,"HTTP timeout")?_.p.warning("onHeartbeatResponse(): "+
n):_.p.error("onHeartbeatResponse(): failed to send heartbeat: "+n):(n=$.Ol,_.p.error("onHeartbeatResponse(): "+n)),_.zc(s,n))})},this.Ps=function(){return m._l.Cast(_.jf.current()-_.Ds)},this.qc=function(){return this.Bf.Gc()},this.Jf=function(){return this.ks()?" (global session)":""},this.ks=function(){return this.xf===C.Nt.Oh},this.Tl=function(){return this.xf===C.Nt.Oh&&"T"===this.nf["c3.IPV4IPV6GlobalSession"]},this.Cs=function(){return this.xf===C.Nt.Ot},this.qf=function(){return this.xf===
C.Nt.Dt},this.Lt=function(t){_.Nl(t),_.Zf()},this.Nl=function(t){var n={},i={};if(m.Pt(t.assetName)&&!_.ys.gl&&(_.Ct.assetName!==t.assetName?(_.Ct.assetName&&(n[N.iu]=_.Ct.assetName),i[N.iu]=t.assetName,_.Ct.assetName=t.assetName):_.p.warning("mergeContentMetadata(): assetName was not changed.")),m.Pt(t.applicationName)&&(_.Ct.applicationName!==t.applicationName?(_.Ct.applicationName&&(n[N.eu]=_.Ct.applicationName),i[N.eu]=t.applicationName,_.Ct.applicationName=t.applicationName):_.p.warning("mergeContentMetadata(): applicationName was not changed.")),
m.Pt(t.streamUrl)&&!_.ys.Il&&(_.Ct.streamUrl!==t.streamUrl?(_.Ct.streamUrl&&(n[N.Tu]=_.Ct.streamUrl),i[N.Tu]=t.streamUrl,_.Ct.streamUrl=t.streamUrl,_.On=_.Ct.streamUrl):_.p.warning("mergeContentMetadata(): streamUrl was not changed.")),m.Pt(t.viewerId)&&(_.Ct.viewerId!==t.viewerId?(_.Ct.viewerId&&(n[N.nu]=_.Ct.viewerId),i[N.nu]=t.viewerId,_.Ct.viewerId=t.viewerId):_.p.warning("mergeContentMetadata(): viewerId was not changed.")),m.Pt(t.defaultResource)&&!_.ys.wl&&(_.Ct.defaultResource!==t.defaultResource?
(_.Ct.defaultResource&&(n[N.Ru]=_.Ct.defaultResource),i[N.Ru]=t.defaultResource,_.Ct.defaultResource=t.defaultResource):_.p.warning("mergeContentMetadata(): defaultResource was not changed.")),m.gt(t.duration)&&t.duration>0&&!_.ys.Cl&&(_.Ct.duration!==t.duration?(_.Ls>0&&(n[N.lu]=_.Ls),i[N.lu]=t.duration,_.Ct.duration=t.duration,_.Ls=_.Ct.duration):_.p.warning("mergeContentMetadata(): duration was not changed.")),m.gt(t.encodedFrameRate)&&t.encodedFrameRate>0&&!_.ys.yl&&(_.Ct.encodedFrameRate!==t.encodedFrameRate?
(_.Ct.encodedFrameRate>-1&&(n[N.du]=_.Ct.encodedFrameRate),i[N.du]=t.encodedFrameRate,_.Ct.encodedFrameRate=t.encodedFrameRate,_.wn=_.Ct.encodedFrameRate):_.p.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),t.streamType!==c.StreamType.UNKNOWN&&(_.Ct.streamType!==t.streamType?(_.Ct.streamType!==c.StreamType.UNKNOWN&&(_.Ct.streamType===c.StreamType.LIVE?n[N.qr]=!0:n[N.qr]=!1),t.streamType===c.StreamType.LIVE?i[N.qr]=!0:i[N.qr]=!1,_.Ct.streamType=t.streamType):_.p.warning("mergeContentMetadata(): streamType was not changed.")),
m.Ht(t.custom)>0){var e,s={},o={};for(e in t.custom)_.Ct.custom[e]!==t.custom[e]?(s[e]=t.custom[e],_.Ct.custom[e]&&(o[e]=_.Ct.custom[e]),_.Ct.custom[e]=t.custom[e]):_.p.info("mergeContentMetadata(): custom."+e+" was not changed.");m.Ht(s)>0?(m.Ht(o)>0&&(n[N.su]=o),i[N.su]=s):_.p.warning("mergeContentMetadata(): custom was not changed.")}m.Ht(i)>0&&this.lc(i,n)},this.Zf=function(){var t;_.p.debug("setStatesFromContentMetadata()"),_.Ct.defaultResource&&this.oa(_.Ct.defaultResource),_.Ct.streamUrl&&
this.ma(_.Ct.streamUrl),_.Ct.duration>0&&this.ia(_.Ct.duration),_.Ct.encodedFrameRate>0&&this.ra(_.Ct.encodedFrameRate),_.Ct.streamType!==c.StreamType.UNKNOWN&&(t=_.Ct.streamType===c.StreamType.LIVE,this.Vh(t)),_.Ct.assetName&&this.xh(_.Ct.assetName),_.Ct.viewerId&&this.Yh(_.Ct.viewerId),(_.Ct.applicationName||_.Ct.playerName)&&this.qh(_.Ct.applicationName||_.Ct.playerName),m.Ht(_.Ct.custom)>0&&this.Jh(_.Ct.custom)},this.zf=function(){var t={};if(this.ks()||(_.Ct.assetName?t[N.iu]=_.Ct.assetName:
_.p.warning("enqueueEventForContentMetadata(): assetName was not set."),_.Ct.applicationName?t[N.eu]=_.Ct.applicationName:_.p.warning("enqueueEventForContentMetadata(): applicationName was not set."),_.Ct.streamUrl?t[N.Tu]=_.Ct.streamUrl:_.p.warning("enqueueEventForContentMetadata(): streamUrl was not set."),_.Ct.viewerId?t[N.nu]=_.Ct.viewerId:_.p.warning("enqueueEventForContentMetadata(): viewerId was not set."),_.Ct.defaultResource?t[N.Ru]=_.Ct.defaultResource:_.p.warning("enqueueEventForContentMetadata(): defaultResource was not set."),
_.Ct.duration>-1?t[N.lu]=_.Ct.duration:_.p.warning("enqueueEventForContentMetadata(): duration was not set."),_.Ct.encodedFrameRate>-1?t[N.du]=_.Ct.encodedFrameRate:_.p.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),_.Ct.streamType!==c.StreamType.UNKNOWN?_.Ct.streamType===c.StreamType.LIVE?t[N.qr]=!0:t[N.qr]=!1:_.p.warning("enqueueEventForContentMetadata(): streamType was not set.")),m.Ht(_.Ct.custom)>0)for(var n in t[N.su]={},_.Ct.custom)t[N.su][n]=_.Ct.custom[n];else this.ks()||
_.p.warning("enqueueEventForContentMetadata(): custom tags were not set.");m.Ht(t)>0&&this.lc(t,null)},this.tc=function(){_.Ct&&m.Pt(_.Ct.assetName)||_.p.warning("Missing assetName during session creation"),_.Ct&&m.Pt(_.Ct.defaultResource)||_.p.warning("Missing resource during session creation"),_.Ct&&m.Pt(_.Ct.streamUrl)||_.p.warning("Missing streamUrl during session creation"),(!_.Ct||_.Ct.encodedFrameRate<=0)&&_.p.warning("Missing encodedFrameRate during session creation"),_.Ct&&m.Pt(_.Ct.viewerId)||
_.p.warning("Missing viewerId during session creation"),_.Ct&&_.Ct.streamType&&c.StreamType.UNKNOWN!==_.Ct.streamType||_.p.warning("Missing streamType during session creation"),_.Ct&&m.Pt(_.Ct.applicationName)||_.p.warning("Missing applicationName during session creation"),(!_.Ct||_.Ct.duration<=0)&&_.p.warning("Missing duration during session creation")},this.Zt=function(t,n){_.pf||(_.pf={}),_.pf[t]=n},this.$f=function(){var t={};_.Ee&&_.Ee.M&&(t[N.Iu]=_.Ee.M,_.M=_.Ee.M),_.Ee&&_.Ee.U&&(t[N.wu]=_.Ee.U,
_.U=_.Ee.U),m.Ht(t)>0&&this.lc(t,null)}}).xa=N.Sh.Ot+N.Sh.Nh+N.Sh.gh,C.Nt={Ot:"Video",Oh:"Global",Dt:"Ad"},($=U.Session=function(){var e=this;e.Ue=null,e.C=0,e.xf=C.Nt.Ot,e.ml=!1,e.Sf=!1,e.Dl=!1,e.Pl=null,e.Re=null,e.bl=null,e.Ll=!1,e.Ml=I.PlayerState.NOT_MONITORED,e.Ul=!1,e.Vl=!1,e.kl=!1,e.yl=!1,e.Fl=!1,e.bc=!1,e.Mc=!1,e.Dc=!1,e.gl=!1,e.Il=!1,e.Bl=!1,e.Cl=!1,e.wl=!1,e.Hl=!1,function(t,n,i,e,s,o,r){this.C=t,this.xf=n,this.Kf=i,this.Gl=e,this.wt=s,this.g=o,this.p=r}.apply(e,arguments),this.Yf=function(t,
n){e.wt.Yf(this),t&&e.Vt(t),e.Kf.jl()?e.Kl(n):e.Kf.Wl(function(){e.Kl(n)})},this.cleanup=function(){e.ml=!0,e.wt.Xf(),e.Kf.jl()?e.Yl():e.Kf.Wl(function(){e.Yl()})},this.xl=function(){(e.Cs()||e.qf())&&e.Ue&&e.ql(),e.g=null,e.Ee=null,e.Kf=null,e.Gl=null,e.wt.Tt(),e.wt=null,e.Sf=!0},this.Yl=function(){e.wt.nc(),e.xl()},this.Kl=function(t){e.wt.Qf(),e.Jl(),t?(e.bt(t.ir(),t.er()),e.wt.Xe(I.PlayerState.STOPPED),e.wt.nc(),e.xl()):e.wt.rc()},this.Jl=function(){var t=e.Gl.get(),n=t[M.BROWSER_NAME],n=(n&&
e.wt.ca(n),t[M.BROWSER_VERSION]),n=(n&&e.wt.la(n),t[M.DEVICE_BRAND]),n=(n&&e.wt.da(n),t[M.DEVICE_MANUFACTURER]),n=(n&&e.wt.va(n),t[M.DEVICE_MODEL]),n=(n&&e.wt.Ea(n),t[M.DEVICE_TYPE]),n=(n&&e.wt._a(n),t[M.DEVICE_VERSION]),n=(n&&e.wt.Ra(n),t[M.FRAMEWORK_NAME]),n=(n&&e.wt.pa(n),t[M.FRAMEWORK_VERSION]),n=(n&&e.wt.Aa(n),t[M.OPERATING_SYSTEM_NAME]),n=(n&&e.wt.Ta(n),t[M.OPERATING_SYSTEM_VERSION]),n=(n&&e.wt.Sa(n),t[M.DEVICE_CATEGORY]),n=(n&&e.wt.Oa(n),t[M.SCREEN_WIDTH]),n=(n&&e.wt.Na(n),t[M.SCREEN_HEIGHT]),
n=(n&&e.wt.ga(n),t[M.SCALE_FACTOR]);n&&e.wt.Ia(n)},this.Ei=function(t){e.wt.Pn===t||(e.wt.Pn===I.PlayerState.NOT_MONITORED&&t!==I.PlayerState.NOT_MONITORED&&(e.Ml=t),e.Ll)||e.wt.Xe(t)},this._i=function(t){e.Ul||e.wt.dc(t)},this.Ri=function(t){e.Ul||e.wt.Ec(t)},this.Ii=function(t){e.Vl||e.wt.wa(t)},this.wi=function(t){e.Vl||e.wt.Co(t)},this.pi=function(t,n){!m.gt(n)&&e.Hl&&(n=-1),e.wt.Jc(t,n)},this.qn=function(t){t>0&&(e.yl||e.wt.ra(t))},this.Qn=function(t){t>0&&(e.Cl||e.wt.ia(t))},this.Zn=function(t){e.wt.ma(t)},
this.Ai=function(t){e.wt.Nc(t)},this.Ti=function(t){e.wt.Ic(t)},this.nt=function(t){e.wt.ba(t)},this.et=function(t){e.wt.La(t)},this.ni=function(t){e.wt.Us()||e.wt.pa(t)},this.ei=function(t){e.wt.Vs()||e.wt.Aa(t)},this.Oi=function(t){e.wt.ka(t)},this.oi=function(t){e.wt.Ka(t)},this.ui=function(t){e.wt.Wa(t)},this.ai=function(t){e.wt.Ya(t)},this.Si=function(t,n){e.bt(t,n)},this.Yn=function(){e.ql()},this.Wt=function(t,n,i){e.Dl||(e.Dl=!0,e.Pl=t,e.Re=n,e.bl=i,e.wt.Vc(!0),e.Pl===a.AdStream.CONTENT||
e.Re===a.AdPlayer.SEPARATE?(e.wt.Pn!==I.PlayerState.NOT_MONITORED&&(e.Ml=e.wt.Pn),e.wt.Xe(I.PlayerState.NOT_MONITORED),e.Ll=!0):e.Pl===a.AdStream.SEPARATE&&e.Re===a.AdPlayer.CONTENT&&(e.wt.Pn!==I.PlayerState.NOT_MONITORED&&(e.Ml=e.wt.Pn),e.wt.Xe(I.PlayerState.NOT_MONITORED),e.Ll=!0,e.Ul=!0,e.Vl=!0,e.yl=!0,e.kl=!0,e.bc=!0,e.Mc=!0,e.Dc=!0,e.gl=!0,e.Il=!0,e.Bl=!0,e.Cl=!0,e.wl=!0,e.Hl=!0))},this.Yt=function(){e.Dl&&(e.wt.Vc(!1),e.Pl===a.AdStream.CONTENT||e.Re===a.AdPlayer.SEPARATE?e.Xl||(e.Ll=!1,e.wt.Xe(e.Ml)):
e.Pl===a.AdStream.SEPARATE&&e.Re===a.AdPlayer.CONTENT&&(e.Ul=!1,e.Vl=!1,e.yl=!1,e.kl=!1,e.Fl=!1,e.Xl||(e.Ll=!1,e.wt.Xe(e.Ml)),e.bc=!1,e.Mc=!1,e.Dc=!1,e.gl=!1,e.Il=!1,e.Bl=!1,e.Cl=!1,e.wl=!1,e.Hl=!1),e.Dl=!1,e.Pl=e.Re=e.bl=null)},this.Mt=function(){e.Ue&&e.Ue&&(e.g.F("Session.detachPlayer",function(){e.Ue.xn()}),e.Ue=null,e.wt.Wc(null),e.wt.Xe(I.PlayerState.NOT_MONITORED))},this.ql=function(){e.Ue&&(e.g.F("Session.releasePlayerStateManager",function(){e.Ue.xn()}),e.Ue=null,e.wt.Wc(null),e.wt.Xe(I.PlayerState.NOT_MONITORED))},
this.Ut=function(){e.wt.Vc(!0),e.wt.Pn!==I.PlayerState.NOT_MONITORED&&(e.Ml=e.wt.Pn),e.wt.Xe(I.PlayerState.NOT_MONITORED),e.Ll=!0},this.Vt=function(t){e.Ue||t instanceof I&&e.g.F("Session.attachPlayer()",function(){t.setMonitoringNotifier(e,e.C)&&(t.fi(),e.Ue=t,e.wt.Wc(e.Ue))})},this.kt=function(){e.wt.Vc(!1),e.Ul=!1,e.Vl=!1,e.Ql=!1,e.kl=!1,e.Fl=!1,e.bc=!1,e.Mc=!1,e.Dc=!1,e.gl=!1,e.Il=!1,e.Bl=!1,e.Cl=!1,e.wl=!1,e.Hl=!1,e.Xl||(e.Ll=!1,e.Ml!==I.PlayerState.NOT_MONITORED&&e.wt.Xe(e.Ml))},this.qt=function(){return e.Ue},
this.Ft=function(){e.Xl||(e.Xl=!0,e.Ll=!0)},this.Bt=function(){e.Xl&&(e.Xl=!1,e.Dl||(e.Ll=!1,e.Ml!==I.PlayerState.NOT_MONITORED&&e.wt.Xe(e.Ml)))},this.bt=function(t,n){!m.Pt(t)||n!==a.ErrorSeverity.FATAL&&n!==a.ErrorSeverity.WARNING||e.Fl||(n=n===a.ErrorSeverity.FATAL,e.wt.Fc(t,n))},this.Lt=function(t){e.g.F("Session.updateContentMetadata",function(){e.wt.Lt(t)})},this.Kt=function(t,n){e.wt.Xc(t,n)},this.ks=function(){return e.xf===C.Nt.Oh},this.Cs=function(){return e.xf===C.Nt.Ot},this.qf=function(){return e.xf===
C.Nt.Dt},this.Jf=function(){return e.ks()?" (global session)":""},this.Xt=function(){return this.C},this.Qt=function(){var t=null;return t=e.Kf.jl()?e.Kf.get(y.B):t},this.Zt=function(t,n){e.wt.Zt(t,n)}}).Ol="received no response (or a bad response) to heartbeat POST request",tt=U.SessionFactory=function(){var o=this;o.Fi=null,o.Zl=0,o.zl=null,function(t,n,i,e){o.Ee=t,o.Vi=n,o.Kf=i,o.T=e,o.Zl=0,o.zl={}}.apply(o,arguments),this.Tt=function(){for(var t in o.Fi=null,o.zl)o.zl[t].cleanup();o.zl=null,o.Zl=
0},this.$l=function(){var t=o.Zl;return o.Zl++,t},this.St=function(t,n,i,e,s){return t||(t=new c),o.td(t,n,i,e,s)},this.Y=function(t){return o.td(t,C.Nt.Oh,void 0,g.version)},this.nd=function(){return P.ed()},this.td=function(t,n,i,e,s){n=o.T.Zi(o.Ee,o.Vi,o.Kf,o.nd(),n,t.ct(),e),t=o.$l();return"undefined"!==typeof s&&"undefined"!==typeof s.error?n.Yf(i,s.error):(o.sd(t,n),n.Yf(i)),t},this.jt=function(t){t=o.zl[t];return t},this.It=function(t){t=this.jt(t);return t=!t||t.Cs()||t.qf()?t:null},this.sd=
function(t,n){o.zl[t]=n},this.od=function(t){delete o.zl[t]},this.xt=function(t){var n=o.jt(t);o.od(t),n.cleanup()},this.tt=function(){return o.zl}},nt=U.rd=function(t){this._e=t,this.ud=function(i,t,n){var e=!1;this._e.createOnce(function(){e||i(!(e=!0),n+" ("+t+" ms)")},t,"CallbackWithTimeout.wrap");return function(t,n){e||(e=!0,i(t,n))}}},(y=U.Config=function(t,n,i){var e=this;this.ad=n,this.fd=i,this.ld={clientId:N.H,iid:N.Sr,sendLogs:!1,maxHbInfos:N.Nr},this.I=m.ll(this.ld),this.dd=!1,this.vd=
!1,this.Ed=[],this.jl=function(){return this.dd},this.Et=function(){this.ad.Et(y.hd,function(t,n){t&&e._d(n),e.dd=!0,e.Rd()})},this._d=function(t){var n,t=this.fd.yh(t);t?t&&(n=t[y.pd],t=t[y._t],n&&n!==N.H&&""!==n&&"null"!==n&&(this.I[y.B]=n),t!==N.Sr)&&""!==t&&"null"!==t&&(this.I[y._t]=t):this.vd=!0},this.Ad=function(){var t={};return t[y.pd]=this.I.clientId,this.fd.Ch(t)},this.Al=function(){this.ad.Al(y.hd,this.Ad(),function(t,n){})},this.Wl=function(t){this.jl()?t():this.Ed.push(t)},this.get=function(t){return this.dd?
this.I[t]:null},this.set=function(t,n){this.dd&&(this.I[t]=n)},this.Rd=function(){for(var t;"undefined"!==typeof(t=this.Ed.shift());)t()},this.getClientId=function(){return this.I.clientId},this.getIid=function(){return this.I.iid}}).hd="sdkConfig",y.pd="clId",y._t="iid",y.B="clientId",y.ol="sendLogs",y.nl="maxHbInfos",y.hl="c3.fp.",y.$t={al:"0",Td:"1",tn:"2",zt:"3",fl:"4",en:"5",nn:"6"},it=U.EventQueue=function(){this.Sd=[],this.Od=0,this.Kc=function(t){this.Sd.push(t)},this.Gc=function(){var t=
this.Od;return this.Od++,t},this.Wf=function(){var t=this.Sd;return this.Sd=[],t}},et=U.ExceptionCatcher=function(t,n,i){this.Nd=n,this.N=i,this.F=function(n,t,i){try{t()}catch(t){if(i)i(t);else{if(this.N.allowUncaughtExceptions)throw t;this.gd(n,t)}}},this.gd=function(t,n){t="Uncaught exception: "+t+": "+n.toString();if(this.Nd)try{this.Nd.Rl(t)}catch(t){}}},st=U.GatewayControl=function(t,n,i,e,s){var o=this;this.Vi=t,this.Id=i,this.fd=e,this.wd=s,this.Rl=function(t,e){var n=(this.wd?this.wd.indexOf("ipv4")>
-1?this.Vi.G:this.Vi.q:this.Vi.gatewayUrl)+N.Tr;this.Id.Cd("POST",n,this.fd.Ch(t),"application/json",function(t,n){var i;t?(i=o.fd.yh(n),e(t,i)):e(t,n)})}},m=U.Lang={yd:function(t){return m.Pt(t)&&t&&"undefined"!==t&&"null"!==t},Gt:function(t){var n,i,e={};for(n in t)m.yd(n)&&(i=t[n],m.yd(i))&&(e[n]=i);return e},Jn:function(t,n,i){if(!t)throw new Error("Expected "+i+" implementation is null.");for(var e in n)if("function"!==typeof t[e])throw new Error("Expected method "+e+" in "+i+" implementation.");
},Ht:function(t){var n,i=0;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i++;return i},yt:function(t){return""+t},md:function(t){return Math.floor(t)},cn:function(t){return Math.abs(m.md(t))},Dd:function(t){return Boolean(t)},Pt:function(t){return"string"===typeof t&&""!==t},Sl:function(t,n){return"string"===typeof t&&"string"===typeof n&&"function"===typeof t.indexOf&&0===t.indexOf(n)},ie:function(t){return"boolean"===typeof t},Pd:function(t){return escape(t)},mh:function(t){return"object"===
typeof t},Sc:function(t){var n,i="";for(n in t)i+=n+"\x3d"+t[n];return"Object{"+i+"}"},bd:function(t){var n,i=m.ll(t);for(n in i)i[n]||delete i[n];return i},ll:function(t){var n,i={};for(n in t)i[n]=t[n];return i},Tc:function(t,n){if(typeof t!==typeof n)return!1;if(t instanceof Object&&n instanceof Object){if(m.Ht(t)!==m.Ht(n))return!1;for(var i in t)if(!(t[i]===n[i]))return!1;return!0}return t===n},ko:function(){for(var t={},n=0;n<arguments.length;n++)for(var i in arguments[n])arguments[n][i]&&(t[i]=
arguments[n][i]);return t},gt:function(t){return"number"===typeof t&&Math.round(t)===t},Ld:function(t){return"[object Array]"===Object.prototype.toString.call(t)},Md:function(t,n){if(t!==n){if(!t||!n)return!1;if(t.length!==n.length)return!1;for(var i=0;i<t.length;++i)if(m.Ld(t[i])&&m.Ld(n[i])){if(!m.Md(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1}return!0},Ud:function(){return"undefined"!==typeof Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()},
rn:function(t,n,i){if(m.Ud())Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:i});else{if("undefined"===typeof t.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");t.__defineGetter__(n,i)}},un:function(t,n,i){if(m.Ud())Object.defineProperty(t,n,{configurable:!0,set:i});else{if("undefined"===typeof t.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");t.__defineSetter__(n,
i)}}},(T={two32:4294967296}).Vd=T.two32-1,T.kd=0,m.Fd=T,m.Fd.Cast=function(t){t=parseInt(t,10);return t>T.Vd?t=t%T.two32:t<T.kd&&(t=T.two32-(t=-t%T.two32)),t},m.Fd.Bd=function(t){t=parseInt(t,10);return t<=T.Vd&&t>=T.kd},S={Vd:2147483647,kd:-2147483648},m._l=S,m._l.Cast=function(t){t=parseInt(t,10);return t>S.Vd?t=t%S.Vd:t<S.kd&&(t=S.Vd-(t=-t%S.Vd)),t},m._l.Bd=function(t){t=parseInt(t,10);return t<=S.Vd&&t>=S.kd},m.nr=function(){return window&&window.location&&window.location.search?window.location.search:
""},m.Hd=function(){return document&&document.referrer?document.referrer:""},ot=U.LogBuffer=function(){this.Gd=[],this.lr=function(t){this.Gd.length>=32&&this.Gd.shift(),this.Gd.push(t)},this.Wf=function(){var t=this.Gd;return this.Gd=[],t}},(D=U.Ping=function(t,n,i,e){this.Kd=!1,this.Wd=null,this.p=t,this.p.setModuleName("Ping"),this.Id=n,this.Vi=i,this.ki=e,this.Rl=function(t){this.Kd||(this.Kd=!0,t=this.Yd()+"\x26d\x3d"+m.Pd(t.toString()),this.p.error("send(): "+t),this.Id.Cd("GET",t,null,null,
null),this.Kd=!1)},this.Yd=function(){if(!this.Wd){var t=D.xd+"?comp\x3d"+D.jd+"\x26clv\x3d"+(this.ki||a.version);if(this.Vi&&(t+="\x26cid\x3d"+this.Vi.customerKey),t+="\x26sch\x3d"+N.Cr,!this.Vi)return t;this.Wd=t}return this.Wd}}).jd="sdkjs",D.xd="https://pings.conviva.com/ping.ping",P=U.qd={Jd:4294967295,Xd:2147483647,Qd:-2147483648,ed:function(){return Math.floor(Math.random()*P.Jd)+P.Qd},Rt:function(){return Math.floor(Math.random()*P.Jd)}},b=U.Zd={jc:function(t,n,i,e){return isNaN(t)||"number"!==
typeof t||t===e?e:(e=m.md(t),b.zd(e,n,i))},zd:function(t,n,i){return m.gt(i)&&t>i?t=i:m.gt(n)&&t<n&&(t=n),t},In:function(t){return t=-1!==t&&-2!==t?b.jc(t,0,null,-1):t}},L=U.StreamerError=function(){var i=this;i.errorCode=null,i.severity=a.ErrorSeverity.FATAL,function(t,n){i.errorCode=t,i.severity=n}.apply(i,arguments),this.ir=function(){return i.errorCode},this.er=function(){return i.severity}},rt=U.HttpClient=function(t,n,i,e){this.Di=n,this.$d=i,this.N=e,this.Cd=function(t,n,i,e,s){var o=1E3*this.N.httpTimeout,
r=null;s&&(r=this.$d.ud(s,o,"HTTP timeout")),this.Di.makeRequest(t,n,i,e,o,r)}},(ut=U.Logger=function(t,n,i,e,s){this.Li=t,this.yi=n,this.O=i,this.Fi=e,this.Ui=s,this.debug=function(t){this.log(t,h.LogLevel.DEBUG)},this.info=function(t){this.log(t,h.LogLevel.INFO)},this.warning=function(t){this.log(t,h.LogLevel.WARNING)},this.error=function(t){this.log(t,h.LogLevel.ERROR)},this.log=function(t,n){t=this.nv(t,n);this.Fi.lr(t),this.O.logLevel<=n&&this.Li.consoleLog(t,n)},this.iv=function(t){return"["+
this.Vn+"] "+t},this.ev=function(t){return"["+this.Ui+"] "+t},this.sv=function(t){return"[Conviva] "+t},this.ov=function(t){return"["+(this.yi.getEpochTimeMs()/1E3).toFixed(3).toString()+"] "+t},this.rv=function(t,n){return"["+ut.tv(n)+"] "+t},this.uv=function(t){return t=this.hv?"sid\x3d"+this.hv+" "+t:t},this.Kh=function(t){this.hv=t},this.setModuleName=function(t){this.Vn=t},this.nv=function(t,n){return this.sv(this.ov(this.rv(this.ev(this.iv(this.uv(t))),n)))}}).tv=function(t){var n;switch(t){case h.LogLevel.ERROR:n=
"ERROR";break;case h.LogLevel.WARNING:n="WARNING";break;case h.LogLevel.INFO:n="INFO";break;case h.LogLevel.DEBUG:n="DEBUG"}return n},U.Storage=function(t,n,i,e){this.Pi=n,this.$d=i,this.N=e,this.Et=function(t,n){n=this.$d.ud(n,1E3*this.N.storageTimeout,"storage load timeout");this.Pi.loadData(U.Storage.av,t,n)},this.Al=function(t,n,i){i=this.$d.ud(i,1E3*this.N.storageTimeout,"storage save timeout");this.Pi.saveData(U.Storage.av,t,n,i)}},U.Storage.av="Conviva",(M=U.SystemMetadata=function(t,n,i){this.bi=
n,this.g=i,this.fv=null,this.get=function(){return this.fv||this.retrieve(),this.fv},this.retrieve=function(){var t,n={},e=(n[M.BROWSER_NAME]=this.bi.getBrowserName,n[M.BROWSER_VERSION]=this.bi.getBrowserVersion,n[M.DEVICE_BRAND]=this.bi.getDeviceBrand,n[M.DEVICE_MANUFACTURER]=this.bi.getDeviceManufacturer,n[M.DEVICE_MODEL]=this.bi.getDeviceModel,n[M.DEVICE_TYPE]=this.bi.getDeviceType,n[M.DEVICE_VERSION]=this.bi.getDeviceVersion,n[M.FRAMEWORK_NAME]=this.bi.getFrameworkName,n[M.FRAMEWORK_VERSION]=
this.bi.getFrameworkVersion,n[M.OPERATING_SYSTEM_NAME]=this.bi.getOperatingSystemName,n[M.OPERATING_SYSTEM_VERSION]=this.bi.getOperatingSystemVersion,n[M.DEVICE_CATEGORY]=this.bi.getDeviceCategory,n[M.SCREEN_WIDTH]=this.bi.getScreenWidth,n[M.SCREEN_HEIGHT]=this.bi.getScreenHeight,n[M.SCALE_FACTOR]=this.bi.getScaleFactor,this);for(t in n)!function(n,i){e.g.F("Session.getSystemMetadataSchema(): "+n,function(){var t=i[n];i[n]=t.call(e.bi)})}(t,n),m.Pt(n[t])||delete n[t];var i=!1;if("undefined"!==typeof n[M.DEVICE_TYPE]){for(var s in a.DeviceType)if(n[M.DEVICE_TYPE]===
a.DeviceType[s]){i=!0;break}i||delete n[M.DEVICE_TYPE]}if(i=!1,"undefined"!==typeof n[M.DEVICE_CATEGORY]){for(var o in a.DeviceCategory)if(n[M.DEVICE_CATEGORY]===a.DeviceCategory[o]){i=!0;break}i||delete n[M.DEVICE_CATEGORY]}this.fv=m.bd(n)}}).BROWSER_NAME="browserName",M.BROWSER_VERSION="browserVersion",M.DEVICE_BRAND="deviceBrand",M.DEVICE_MANUFACTURER="deviceManufacturer",M.DEVICE_MODEL="deviceModel",M.DEVICE_TYPE="deviceType",M.DEVICE_VERSION="deviceVersion",M.FRAMEWORK_NAME="frameworkName",M.FRAMEWORK_VERSION=
"frameworkVersion",M.OPERATING_SYSTEM_NAME="operatingSystemName",M.OPERATING_SYSTEM_VERSION="operatingSystemVersion",M.DEVICE_CATEGORY="deviceCategory",M.SCREEN_WIDTH="screenWidth",M.SCREEN_HEIGHT="screenHeight",M.SCALE_FACTOR="scaleFactor",ht=U.Time=function(t,n){this.yi=t,this.p=n,this.current=function(){var t=this.yi.getEpochTimeMs();return m.gt(t),t}},at=U.Timer=function(t,n,i){var s=this;this.mi=n,this.g=i,this.create=function(t,n,i){return this.createTimer(function(){s.g.F(i,function(){t()})},
n,i)},this.createOnce=function(t,n,i){var e={cancel:null};return e.cancel=this.createTimer(function(){s.g.F(i,function(){e&&"function"===typeof e.cancel&&(e.cancel(),e.cancel=null,e=null),t()})},n,i),e.cancel},this.createTimer=function(t,n,i){return this.mi.createTimer(t,n,i)}}}(),lt})},4032039,[4010591,4044017,4053064,4062932],710428,[645040,671423,683385,763742],24);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.Conviva=Bootstrapper.Conviva||{};Bootstrapper.Conviva.getStreamType=function(){var videoType=__dataLayer.media&&__dataLayer.media.video_type,VIDEO_TYPE_MAP={replay:"vod",vod:"clip"};return VIDEO_TYPE_MAP[videoType]||videoType};Bootstrapper.Conviva.setUnifiedContentInfo=function(curPlayer,index,curTrackerBundle){var dl=__dataLayer,visitor=dl.visitor||
{},media=dl.media||{},meta=media.qoe||[],metaBundle=meta[index]||{},qoe=metaBundle.playback||{},pzn=dl.pzn||{},site=dl.site||{},page=dl.page||{},bundle=curPlayer.bundle_||{},player=bundle.player_||{},mediaItem=player.mediaItem||{},tracking=mediaItem.tracking||{},heartbeats=tracking.heartbeats||{},playerTech=player.tech_||{},playerName=qoe.playerName||media.player_name||"Unified_TMS",NOT_APPLICABLE="NA",videoResolution,brandMetadata={},requiredMetadata={},unifiedMetadata={};if(qoe.videoResolution)videoResolution=
qoe.videoResolution;else if(typeof playerTech.currentDimensions==="function"){var dimensions=playerTech.currentDimensions(),width=dimensions.width,height=dimensions.height;videoResolution=height&&width?Math.round(width)+"x"+Math.round(height):null}else videoResolution="x";unifiedMetadata.adBlockerDetected=visitor.ad_blocker||NOT_APPLICABLE;unifiedMetadata.accountId=visitor.ds_account_id||NOT_APPLICABLE;unifiedMetadata.applicationName=site.application_name||NOT_APPLICABLE;unifiedMetadata.appBrand=
Bootstrapper.Conviva.appBrand||qoe.appBrand||NOT_APPLICABLE;unifiedMetadata.authType=pzn.auth_type||NOT_APPLICABLE;unifiedMetadata.cdnName=qoe.cdnName||NOT_APPLICABLE;unifiedMetadata.contentDuration=media.duration||NOT_APPLICABLE;unifiedMetadata.conID=qoe.eventId||NOT_APPLICABLE;unifiedMetadata.deviceId=visitor.ds_device_id||NOT_APPLICABLE;unifiedMetadata.drmProtectionType=qoe.drmProtectionType||NOT_APPLICABLE;unifiedMetadata.encryptionType=qoe.encryptionType||NOT_APPLICABLE;unifiedMetadata.genre=
qoe.genre||NOT_APPLICABLE;unifiedMetadata.language=media.content_language||NOT_APPLICABLE;unifiedMetadata.locationName=qoe.cdnName||NOT_APPLICABLE;unifiedMetadata.med=qoe.mediaType||NOT_APPLICABLE;unifiedMetadata.mvpd=pzn.affiliate_name||NOT_APPLICABLE;unifiedMetadata.network=qoe["c3.cm.channel"]||heartbeats.Channel||media.network;unifiedMetadata.page=qoe.page||NOT_APPLICABLE;unifiedMetadata.prt=qoe.prt||NOT_APPLICABLE;unifiedMetadata.playerLocation=page.play_location||NOT_APPLICABLE;unifiedMetadata.playerVersion=
qoe.applicationVersion||NOT_APPLICABLE;unifiedMetadata.playlistSessionID=NOT_APPLICABLE;unifiedMetadata.plt=qoe.plt||"browser";unifiedMetadata.site=qoe.page||qoe.site||NOT_APPLICABLE;unifiedMetadata.startType=qoe.startType||NOT_APPLICABLE;unifiedMetadata.streamType=Bootstrapper.Conviva.getStreamType()||NOT_APPLICABLE;unifiedMetadata.trackSelection=NOT_APPLICABLE;unifiedMetadata.videoResolution=videoResolution||NOT_APPLICABLE;requiredMetadata[Conviva.Constants.APPLICATION_VERSION]=qoe.platformVersion||
qoe.applicationVersion||media.player_name||curPlayer.platformVersion;requiredMetadata[Conviva.Constants.ASSET_NAME]=curTrackerBundle.curTitle||Bootstrapper.Conviva.getContentAssetName(index,curTrackerBundle);requiredMetadata["c3.cm.channel"]=qoe["c3.cm.channel"]||heartbeats.Channel||media.network;requiredMetadata[Conviva.Constants.IS_LIVE]=curTrackerBundle.curLive||Bootstrapper.Conviva.isLive(index,curTrackerBundle)?Conviva.Constants.StreamType.LIVE:Conviva.Constants.StreamType.VOD;requiredMetadata[Conviva.Constants.DEFAULT_RESOURCE]=
qoe.resource;requiredMetadata[Conviva.Constants.DURATION]=media.duration;requiredMetadata[Conviva.Constants.STREAM_URL]=qoe.streamUrl||qoe.resource||NOT_APPLICABLE;requiredMetadata[Conviva.Constants.VIEWER_ID]=visitor.swid||NOT_APPLICABLE;if(typeof Bootstrapper.Conviva.extendBrandContentInfo==="function")brandMetadata=Bootstrapper.Conviva.extendBrandContentInfo(index);var contentInfo=Object.assign(requiredMetadata,unifiedMetadata,brandMetadata);for(var key in contentInfo)if(Object.hasOwnProperty.call(contentInfo,
key))contentInfo[key]=Bootstrapper.Conviva.resetDefaultValue(contentInfo[key]);return contentInfo};Bootstrapper.Conviva.setContentInfo=Bootstrapper.Conviva.setUnifiedContentInfo;Bootstrapper.Conviva.setInitialContentInfo=Bootstrapper.Conviva.setUnifiedContentInfo},4034588,[4010591,4044017,4053064,4087592,4062932],762398,[645040,671423,683385,686725,763742],24);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(window.waitForAdobeVisitor===undefined){window.players=[];window.playerIDs=[];window.adobeTrackers=[];window.nielsenInstances=[];window.waitForAdobeVisitor=setInterval(function(){if(Bootstrapper.hbConfig&&((!!window.s_c_il&&window.s_c_il.length>1||!!window.s_omni)&&!!window.Visitor)&&(window.ADB&&window.ADB.MediaConfig)){clearInterval(waitForAdobeVisitor);var adobeType=
"a";if(window.s_omni==undefined&&!!window.s_c_il&&window.s_c_il.length>1)adobeType="b";if(!!window.Visitor){var mcidTemp="";if(/espn|andscape|undefeated|secsports/i.test(location.hostname))mcidTemp="EE0201AC512D2BE80A490D4C@AdobeOrg";else if(/((national-?geographic(|brasil|la|lodges|partners)|nat-?geo((|maps|media|tv|fesb|feqa))|ngeo|natgeomaps).(org|co|bg|it|cz|de|ee|es|fr|ge|grid\.|jp|kz|lt|dk|fi|no|ru|se|ro|dk|no|fi|nl|pl|rs|sapo\.|si))|(ng.hu|ng(thai|mservice|alarabiya|cjapan|ckorea|enespanol|mfarsi).com)/i.test(location.hostname))mcidTemp=
"5BFD123F5245AECB0A490D45@AdobeOrg";else if(/dataproducts.dtci(sb|qa)?.technology/i.test(location.hostname))mcidTemp="C83C02BE532E70D50A490D4C@AdobeOrg";else if(/abc|freeform/i.test(location.hostname))mcidTemp="CB793704532E6E4D0A490D44@AdobeOrg";else if(/fivethirtyeight|goodmorningamerica/i.test(location.hostname))mcidTemp="C7A21CFE532E6E920A490D45@AdobeOrg";if(adobeType==="a"&&window.s_omni&&!window.s_omni.visitor)window.s_omni.visitor=window.Visitor.getInstance(mcidTemp);else if(adobeType==="b"){let scilRef=
null;for(adobeIndex=0;adobeIndex<window.s_c_il.length;adobeIndex++)if(s_c_il[adobeIndex].account!==undefined&&s_c_il[adobeIndex].track!==undefined){scilRef=s_c_il[adobeIndex];break}if(scilRef!==null&&!scilRef.visitor&&!!window.Visitor)scilRef.visitor=window.Visitor.getInstance(mcidTemp)}}var mediaConfig=new ADB.MediaConfig;mediaConfig.trackingServer=Bootstrapper.hbConfig.trackingServer;mediaConfig.playerName=Bootstrapper.hbConfig.playerName;mediaConfig.channel=Bootstrapper.hbConfig.channel;mediaConfig.appVersion=
Bootstrapper.hbConfig.appVersion;mediaConfig.debugLogging=Bootstrapper.hbConfig.debugLogging;mediaConfig.ssl=Bootstrapper.hbConfig.ssl;if(!!window.s_omni){if(typeof s_omni.account!=="string")s_omni.account=__dataLayer.adobeConfig.reportSuite;ADB.Media.configure(mediaConfig,s_omni);Bootstrapper.register("heartbeat")}else if(!!window.s_c_il){let scilRef=null;for(adobeIndex=0;adobeIndex<window.s_c_il.length;adobeIndex++)if(s_c_il[adobeIndex].account!==undefined&&s_c_il[adobeIndex].track!==undefined){scilRef=
s_c_il[adobeIndex];break}if(scilRef!==null){ADB.Media.configure(mediaConfig,scilRef);Bootstrapper.register("heartbeat")}}}},1E3);var playerDLname="dtci.media",playerCount=0;var ignoreEvents=["dtci.loaded","dtci.embedded"];Bootstrapper.last_hb_event="";Bootstrapper.last_playHead=-1;Bootstrapper.afterAds=null;function handleMediaEvent(eventName,eventData,currentPlayer){if(typeof eventName==="object"&&eventName.length>0){currentPlayer=eventName[2]||Bootstrapper.fallbackPlayer||{};eventData=eventName[1]||
{};eventName=eventName[0];if(!Bootstrapper.fallbackPlayer)Bootstrapper.fallbackPlayer=currentPlayer}if(eventName&&(ignoreEvents.indexOf(eventName)>-1||/adProvider/i.test(eventName)))return;if(eventName!=="dtci.timeupdate"&&eventName===Bootstrapper.last_hb_event)return;if(eventName=="dtci.qoe"){if(Bootstrapper.Conviva&&Bootstrapper.Conviva.ready&&eventData)Bootstrapper.Conviva.handleQOEEvent(currentPlayer,eventData);return}if(!currentPlayer){Bootstrapper.Logging.logMsg("A reference to the current player object was not passed, cannot process media event in 'handleMediaEvent'.");
return}if(eventName=="dtci.media")if(arguments.length>=4){eventName=arguments[1];eventData=arguments[2];currentPlayer=arguments[3]}else{Bootstrapper.Logging.logMsg("invalid media publish event",arguments);return}if(eventName=="dtci.programChange"&&Bootstrapper.last_hb_event!=="dtci.programChange"){currentPlayer.bundle_.player_.mediaItem=eventData;var tempAdobeTracker=adobeTrackers[adobeTrackers.length-1];tempAdobeTracker&&Bootstrapper.ADBhelper.end(tempAdobeTracker,"complete");var tempComscoreTracker=
Bootstrapper.comscoreAnalytics&&Bootstrapper.comscoreAnalytics.sa_array&&Bootstrapper.comscoreAnalytics.sa_array.length>=1?Bootstrapper.comscoreAnalytics.sa_array[Bootstrapper.comscoreAnalytics.sa_array.length-1]:null;tempComscoreTracker&&Bootstrapper.comscoreHelper.end(tempComscoreTracker);var tempNielsenTracker=nielsenInstances[nielsenInstances.length-1];if(tempNielsenTracker){Bootstrapper.nielsenHelper.end(tempNielsenTracker,Bootstrapper.last_playHead||0);Bootstrapper.nielsenHelper.contentEndFlag=
true}Bootstrapper.last_hb_event=eventName;try{var playhead=currentPlayer.bundle_.player_.cache_.currentTime||0;Bootstrapper.last_playHead=Math.floor(playhead);__dataLayer.media.lastPlayhead=playhead}catch(error){}var _cbv=window._cbv||(window._cbv=[]);if(Bootstrapper.chartbeatPlayer)_cbv.push(["removePlayer",Bootstrapper.chartbeatPlayer]);Bootstrapper.chartbeatPlayer=currentPlayer.bundle_.player_;_cbv.push(Bootstrapper.chartbeatPlayer);__dataLayer.updateMedia(playerDLname,eventName,eventData,currentPlayer);
__dataLayer.media.format="video";window.adobeTrackers=[];window.nielsenInstances=[];Bootstrapper.ADBhelper.sessionSetupStart(currentPlayer);Bootstrapper.nielsenHelper.sessionSetupStart(currentPlayer);Bootstrapper.comscoreHelper.sessionSetupStart(currentPlayer);handleMediaEvent("dtci.playing",null,currentPlayer);return}if(players.indexOf(currentPlayer)===-1){var playerID=currentPlayer.guid||++playerCount;if(playerIDs.indexOf(playerID)===-1){players.push(currentPlayer);playerIDs.push(playerID);var _cbv=
window._cbv||(window._cbv=[]);if(Bootstrapper.chartbeatPlayer)_cbv.push(["removePlayer",Bootstrapper.chartbeatPlayer]);Bootstrapper.chartbeatPlayer=currentPlayer.bundle_.player_;_cbv.push(Bootstrapper.chartbeatPlayer);__dataLayer.updateMedia(playerDLname,eventName,eventData,currentPlayer);Bootstrapper.ADBhelper.sessionSetupStart(currentPlayer);Bootstrapper.nielsenHelper.sessionSetupStart(currentPlayer);Bootstrapper.comscoreHelper.sessionSetupStart(currentPlayer);if(window.Storage&&window.sessionStorage){var firstVideoPlayed=
sessionStorage.getItem("s_fvp");if(!firstVideoPlayed){sessionStorage.setItem("s_fvp",1);__dataLayer.publish("firstVideoPlayed")}}__dataLayer.publish("videoPlaying")}}if(eventName.indexOf("playing")>-1){if(Bootstrapper.comscoreHelper.newSessionFlag){Bootstrapper.comscoreHelper.sessionSetupStart(currentPlayer);Bootstrapper.comscoreHelper.newSessionFlag=false}if(Bootstrapper.nielsenHelper.newSessionFlag){Bootstrapper.nielsenHelper.sessionSetupStart(currentPlayer);Bootstrapper.nielsenHelper.newSessionFlag=
false}}var curAdobeTracker=adobeTrackers.length>=players.indexOf(currentPlayer)+1?adobeTrackers[players.indexOf(currentPlayer)]:null;if(curAdobeTracker===undefined&&currentPlayer.guid)curAdobeTracker=Bootstrapper.adobeTrackerMap[currentPlayer.guid]||null;var curNielsenTracker=nielsenInstances.length>=players.indexOf(currentPlayer)+1?nielsenInstances[players.indexOf(currentPlayer)]:null;if(curNielsenTracker===undefined&&currentPlayer.guid)curNielsenTracker=Bootstrapper.nielsenTrackerMap[currentPlayer.guid]||
null;var curComscoreTracker=Bootstrapper.comscoreAnalytics&&Bootstrapper.comscoreAnalytics.sa_array&&Bootstrapper.comscoreAnalytics.sa_array.length>=1?Bootstrapper.comscoreAnalytics.sa_array[Bootstrapper.comscoreAnalytics.players.indexOf(currentPlayer)]:null;if(curComscoreTracker===undefined&&currentPlayer.guid)curComscoreTracker=Bootstrapper.comscoreTrackerMap[currentPlayer.guid]||null;if(eventName.indexOf("dispose")>-1){Bootstrapper.comscoreHelper.end(curComscoreTracker);Bootstrapper.ADBhelper.end(curAdobeTracker,
"liveswitch");Bootstrapper.nielsenHelper.end(curNielsenTracker,0);return}if(eventName.indexOf("timeupdate")&&!!eventData&&!!eventData.type&&eventData.type==="ad"){if(!eventData.currentTime)return;Bootstrapper.nielsenHelper.playheadUpdate(curNielsenTracker,eventData.currentTime)}if(eventName.indexOf("error")>-1)Bootstrapper.ADBhelper.error(curAdobeTracker,eventData);var playhead=currentPlayer.bundle_.player_.cache_.currentTime||0,tempMediaObject,tempContextData;if(Bootstrapper.last_playHead!==Math.floor(playhead)){Bootstrapper.ADBhelper.playheadUpdate(curAdobeTracker,
playhead);Bootstrapper.nielsenHelper.playheadUpdate(curNielsenTracker,playhead)}Bootstrapper.last_playHead=Math.floor(playhead);__dataLayer.media.lastPlayhead=playhead;if(curNielsenTracker&&eventName==="dtci.id3.cueChange"&&eventData&&eventData.text&&eventData.text.indexOf("nielsen.com")>-1){curNielsenTracker.ggPM("sendID3",eventData.text);Bootstrapper.Logging.logMsg("sending nielsen id3",eventData.text)}if(eventName.indexOf("ads.podStarted")>-1){__dataLayer.updateMedia(playerDLname,eventName,eventData,
currentPlayer);if(Bootstrapper.comscoreHelper.newSessionFlag){Bootstrapper.comscoreHelper.sessionSetupStart(currentPlayer);Bootstrapper.comscoreHelper.newSessionFlag=false}if(Bootstrapper.nielsenHelper.newSessionFlag){Bootstrapper.nielsenHelper.sessionSetupStart(currentPlayer);Bootstrapper.nielsenHelper.newSessionFlag=false}Bootstrapper.ADBhelper.adPodStart(curAdobeTracker,playhead,eventData)}if(eventName.indexOf("ads.adStarted")>-1){__dataLayer.updateMedia(playerDLname,eventName,eventData,currentPlayer);
Bootstrapper.ADBhelper.adStart(curAdobeTracker);Bootstrapper.nielsenHelper.adStart(curNielsenTracker,eventData.type);Bootstrapper.comscoreHelper.adStart(curComscoreTracker,currentPlayer.bundle?currentPlayer.bundle.player:currentPlayer.bundle_.player_,currentPlayer,eventData)}if(eventName.indexOf("ads.adSkipped")>-1)Bootstrapper.ADBhelper.simpleTrackEvent(curAdobeTracker,ADB.Media.Event.AdSkip);if(eventName.indexOf("ads.play")>-1)Bootstrapper.comscoreHelper.adPlay(curComscoreTracker);if(eventName.indexOf("ads.pause")>
-1)Bootstrapper.comscoreHelper.adPause(curComscoreTracker);if(eventName.indexOf("ads.adEnded")>-1){Bootstrapper.ADBhelper.simpleTrackEvent(curAdobeTracker,ADB.Media.Event.AdComplete);Bootstrapper.comscoreHelper.adEnd(curComscoreTracker);if(curNielsenTracker&&(__dataLayer.media.format!=="live"&&__dataLayer.media.contentType!=="live"))curNielsenTracker.ggPM("stop",playhead);Bootstrapper.afterAds=true}if(eventName.indexOf("ads.podEnded")>-1)Bootstrapper.ADBhelper.simpleTrackEvent(curAdobeTracker,ADB.Media.Event.AdBreakComplete);
if(eventName.indexOf("playing")>-1){Bootstrapper.comscoreHelper.play(curComscoreTracker,currentPlayer);Bootstrapper.ADBhelper.play(curAdobeTracker,playerDLname,eventName,eventData,currentPlayer);if(Bootstrapper.afterAds===null||Bootstrapper.afterAds===true||Bootstrapper.nielsenHelper.contentEndFlag===true){Bootstrapper.afterAds=false;Bootstrapper.nielsenHelper.contentEndFlag=false;Bootstrapper.nielsenHelper.play(curNielsenTracker)}}if(eventName.indexOf("pause")>-1){var pEVD=eventData||{};if(pEVD.userInitiated===
undefined||pEVD.userInitiated){Bootstrapper.ADBhelper.pause(curAdobeTracker);Bootstrapper.comscoreHelper.pause(curComscoreTracker);if(__dataLayer.media.format!=="live"&&__dataLayer.media.contentType!=="live")Bootstrapper.nielsenHelper.pause(curNielsenTracker,playhead)}}if(eventName.indexOf("dtci.seeking")>-1)Bootstrapper.comscoreHelper.seeking(curComscoreTracker);if(eventName.indexOf("contentEnded")>-1||eventName.indexOf("dtci.endcard.playNext")>-1||eventName.indexOf("ended")>-1){Bootstrapper.ADBhelper.end(curAdobeTracker,
"complete");Bootstrapper.comscoreHelper.end(curComscoreTracker);if(__dataLayer.media.format!=="live"&&__dataLayer.media.contentType!=="live"){Bootstrapper.nielsenHelper.end(curNielsenTracker,playhead);Bootstrapper.nielsenHelper.contentEndFlag=true}}if(Bootstrapper.mparticle){var ignoreMediaMParticleEvents=["dtci.timeupdate","dtci.load","dtci.id3.cueChange"];if(ignoreMediaMParticleEvents.indexOf(eventName)===-1)Bootstrapper.queue(["mparticle"],function(){if(typeof Bootstrapper.mParticle_log_handler===
"function"){var _dl=window.__dataLayer||{},media=_dl.media||{};var eventMeta={};for(var key in media)if(Object.hasOwnProperty.call(media,key))eventMeta[key]=media[key]||"";eventMeta.event_name=eventName;if(typeof eventData==="object")for(var key in eventData)if(Object.hasOwnProperty.call(eventData,key))eventMeta[key]=eventData[key]||"";if(Bootstrapper.hbConfig&&Bootstrapper.hbConfig.contextData){var ctxData=Bootstrapper.hbConfig.contextData;for(var key in ctxData)if(Object.hasOwnProperty.call(ctxData,
key))eventMeta[key]=ctxData[key]||""}Bootstrapper.mParticle_log_handler(eventMeta)}})}Bootstrapper.last_hb_event=eventName}Bootstrapper.queue(["heartbeat","datalayer"],function(){if(__dataLayer.mediaEvents)while(__dataLayer.mediaEvents.length>0){var mediaEvent=__dataLayer.mediaEvents.shift();handleMediaEvent.apply(__dataLayer,mediaEvent)}Bootstrapper.handleMediaEvent=handleMediaEvent;const onBeforeUnload=event=>{if(!!window.adobeTrackers&&window.adobeTrackers.length>0)adobeTrackers.forEach(curAdobeTracker=>
{Bootstrapper.ADBhelper.end(curAdobeTracker,"complete")});if(Bootstrapper.comscoreAnalytics&&Bootstrapper.comscoreAnalytics.sa_array&&Bootstrapper.comscoreAnalytics.sa_array.length>0)Bootstrapper.comscoreAnalytics.sa_array.forEach(curComscoreTracker=>{Bootstrapper.comscoreHelper.end(curComscoreTracker)});if(!!window.nielsenInstances&&nielsenInstances.length>0)nielsenInstances.forEach(curNielsenTracker=>{Bootstrapper.nielsenHelper.end(curNielsenTracker,0)})};window.addEventListener("beforeunload",
onBeforeUnload)})}},4044765,[4010591,4044775,4044017,4053064,4087592,4062932],666974,[645040,660779,671423,683385,686725,763742],-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.analytics=t():(n.ns_=n.ns_||{},n.ns_.analytics=t())}("undefined"!=typeof self?self:this,function(){return function(n){var t={};function e(i){if(t[i])return t[i].exports;var r=t[i]={t:i,i:!1,exports:{}};
return n[i].call(r.exports,r,r.exports,e),r.i=!0,r.exports}return e.o=n,e.c=t,e.d=function(n,t,i){e.u(n,t)||Object.defineProperty(n,t,{l:!0,get:i})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"v",{value:!0})},e._=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.v)return n;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{l:!0,value:n}),2&t&&"string"!=
typeof n)for(var r in n)e.d(i,r,function(t){return n[t]}.bind(null,r));return i},e.n=function(n){var t=n&&n.v?function(){return n["default"]}:function(){return n};return e.d(t,"a",t),t},e.u=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=56)}([function(n,t){var e=e||{};e.filter=function(n,t){var e={};for(var i in t)t.hasOwnProperty(i)&&n(t[i])&&(e[i]=t[i]);return e},e.extend=function(n){var t,e=arguments.length;n=n||{};for(var i=1;i<e;i++)if(t=arguments[i])for(var r in t)t.hasOwnProperty(r)&&
(n[r]=t[r]);return n},e.h=function(n,t){if(t=t||0,"object"!=typeof n)return n;var i;if(n instanceof Array){i=[];for(var r=0,o=n.length;r<o;r++)i[r]=e.h(n[r],t-1);return i}for(var u in i={},n)if(n.hasOwnProperty(u)){var s=n[u];"object"==typeof s&&t>0&&(s=e.h(s,t-1)),i[u]=s}return i},n.exports.filter=e.filter,n.exports.extend=e.extend,n.exports.h=e.h},function(n,t){var e,i=i||{};i.g=(e=1,function(){return+new Date+"_"+e++}),i.m=function(){var n=(new Date).getTime(),t="undefined"!=typeof performance&&
performance.now&&1E3*performance.now()||0;return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=16*Math.random();return n>0?(i=(n+i)%16|0,n=Math.floor(n/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"===e?i:3&i|8).toString(16)})},i.S=function(n){return n===undefined||null===n||""===n||n instanceof Array&&0===n.length},i.I=function(n){return!this.S(n)},i.P=function(n,t){return t=this.A(t)?t:"",this.A(n)?n:t},i.C=function(n){return void 0!==n&&("string"==typeof n?"true"===(n=n.toLowerCase())||
"1"===n||"on"===n:!!n)},i.L=function(n,t,e,i,r){if(t<0||i<0||t+r>n.length||i+r>e.length)return!1;for(;--r>=0;)if(n.charAt(t++)!=e.charAt(i++))return!1;return!0},i.A=function(n){return void 0!==n&&null!=n},i.D=function(n){return!!(n&&n.constructor&&n.call&&n.apply)},i.N=function(){return(new Date).getTime()},n.exports.N=i.N,n.exports.D=i.D,n.exports.A=i.A,n.exports.L=i.L,n.exports.C=i.C,n.exports.P=i.P,n.exports.I=i.I,n.exports.S=i.S,n.exports.g=i.g,n.exports.uuid=i.m},function(n,t){var e,i=(e=["play",
"pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,
VIDEO:24,SUBS:25,CDN:26,toString:function(n){return e[n]}}),r=function(){var n=["c","s","r"];return{T:0,O:1,k:2,toString:function(t){return n[t]}}}();n.exports.R=i,n.exports.M={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},n.exports.U=r},function(n,t,e){var i=
e(0),r=e(60),o=e(61),u=e(6),s=e(62),a=e(66),f=e(67),c=e(68),l=e(69),d=e(71),v=e(74),_=e(75),h=e(76),p=e(77),g=e(78),m=e(39),y=e(81),b=e(82),S={W:"PLATFORM",F:"defaultLiveEndpointUrl",V:"defaultSecureLiveEndpointUrl",B:"defaultLiveEndpointUrlNoCookies",j:"defaultSecureLiveEndpointUrlNoCookies",G:"httpGet",H:"httpPost",Storage:"Storage",K:"offlineCache",J:"migratedStorage",Y:"migratedIO",X:"defaultStorageWriteInterval",Z:"onDataFetch",nn:"getCrossPublisherUniqueDeviceId",tn:"getApplicationName",en:"getApplicationVersion",
"in":"getPublisherSpecificUniqueDeviceId",rn:"getPublisherSpecificUniqueDeviceIdSuffix",un:"getDeviceModel",sn:"getPlatformVersion",an:"getPlatformName",fn:"getRuntimeName",cn:"getRuntimeVersion",ln:"getDisplayResolution",dn:"getApplicationResolution",vn:"getLanguage",_n:"getPackageName",setPlatformAPI:"setPlatformAPI",setTimeout:"setTimeout",setInterval:"setInterval",clearTimeout:"clearTimeout",clearInterval:"clearInterval",hn:"getDeviceArchitecture",pn:"getConnectionType",gn:"getDeviceJailBrokenFlag",
mn:"updateMeasurementLabels",yn:"standardOutputLog",bn:"defaultSystemClockJumpDetectorNormalContextInterval",Sn:"defaultSystemClockJumpDetectorAlternativeContextInterval",wn:"isNormalContext",En:"addContextChangeListener",In:"removeContextChangeListener",Pn:"addEnvironmentExitListener",An:"removeEnvironmentExitListener",Cn:"overrideCollectedC12Value",Ln:"defaultC12OverrideValue",Dn:"getPlatformEnvironmentProperties",Nn:"tcfIntegration",Tn:"firstPartyCookie"};n.exports=new function(){var n,t,e=this;
function w(e){if(!n)switch(n=!0,e){case o.SmartTV:i.extend(t,s);break;case o.Netcast:i.extend(t,a);break;case o.Cordova:i.extend(t,c);break;case o.Trilithium:i.extend(t,l);break;case o.AppleTV:i.extend(t,d);break;case o.Chromecast:i.extend(t,_);break;case o.Xbox:i.extend(t,v);break;case o.webOS:i.extend(t,f);break;case o.tvOS:i.extend(t,h);break;case o.JSMAF:i.extend(t,p);break;case o.nodejs:i.extend(t,g);break;case o.html5:i.extend(t,m);break;case o.WebBrowser:i.extend(t,y);break;case o.SamsungTizenTV:i.extend(t,
b)}}i.extend(e,{On:null,PlatformApis:o,kn:null,Rn:function(){n||w(o.WebBrowser)},setPlatformApi:function(n,e){var r,u;if("number"==typeof n)r=n,u=e||{};else{if("object"!=typeof n)return;r=o.Skeleton,u=n}w(r),i.extend(t,function(n){var t={};for(var e in S){var i=S[e];i in n&&(t[e]=n[i])}return t}(u))}}),n=!1,e.kn=t=i.h(u),e.On=new r(e)}},function(n,t){n.exports={Mn:"unknown",Un:"0x0",xn:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},
function(n,t){t.Wn=function(n,t){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest;e.open("GET",n,!0),e.onreadystatechange=function(){4===e.readyState&&(t&&t(e.status),e=null)},e.send()}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},t.Fn=function(n,t,e){if("undefined"!=typeof XMLHttpRequest){var i=new XMLHttpRequest;i.open("POST",n,!0),i.onreadystatechange=function(){4===i.readyState&&(e&&e(i.status),i=null)},i.send(t)}else"function"==typeof setTimeout?e&&setTimeout(e,
0):e&&e()}},function(n,t,e){var i=e(17),r=e(12),o=e(7),u=e(4),s=e(9),a=u.Mn,f=u.Un,c=e(13),l={W:"generic",F:c.Vn,B:c.Vn,V:c.Bn,j:c.Bn,G:r,H:null,Storage:o,K:!1,J:null,Y:null,X:0,Nn:!1,Tn:!1,Z:function(n){n()},nn:function(){return null},tn:function(){return a},en:function(){return a},"in":function(){return+new Date+~~(1E3*Math.random())},rn:function(){return"72"},un:function(){return a},sn:function(){return a},an:function(){return"js"},fn:function(){return a},cn:function(){return a},ln:function(){return f},
dn:function(){return f},vn:function(){return a},_n:function(){return a},setPlatformAPI:function(){},setTimeout:function(n,t){return setTimeout(n,t)},setInterval:function(n,t){return setInterval(n,t)},clearTimeout:function(n){return clearTimeout(n)},clearInterval:function(n){return clearInterval(n)},hn:function(){return a},pn:function(){return s.UNKNOWN},gn:function(){return a},mn:function(n){},yn:function(n){console.log(n)},bn:3E3,Sn:3E4,wn:function(){return!i.qn()||!i.jn()},En:function(n){i.qn()&&
i.Gn(n)},In:function(n){i.qn()&&i.Hn(n)},Pn:function(n){},An:function(n){},Cn:!1,Ln:"_",Dn:function(){return"0","-0","-2","0-0-2"}};n.exports=l},function(n,t,e){var i=e(0);n.exports=function(n){var t;!function(){try{t="undefined"!=typeof localStorage?localStorage:null}catch(n){t=null}}(),i.extend(this,{storeProperties:function(n){if(t)try{"function"==typeof t.setItem?t.setItem("cs_settings",n):t&&(t.Kn=n)}catch(e){}},getProperties:function(){if(!t)return null;try{if("function"==typeof t.getItem)return t.getItem("cs_settings");
if(t)return t.Kn}catch(n){}},storeCache:function(n){if(t)try{"function"==typeof t.setItem?t.setItem("cs_cache",n):t&&(t.Jn=n)}catch(e){}},getCache:function(){if(!t)return null;try{if("function"==typeof t.getItem)return t.getItem("cs_cache");if(t)return t.Jn}catch(n){}}})}},function(n,t){var e={Yn:function(n,t,e){return null!=t&&t+""!=""&&(null!=e&&(n[t+""]=e+"",!0))},zn:function(n,t){for(var i in t)t.hasOwnProperty(i)&&e.Yn(n,i,t[i])}};n.exports.Yn=e.Yn,n.exports.zn=e.zn},function(n,t){n.exports=
{UNKNOWN:0,UNAVAILABLE:1,DISCONNECTED:2,CONNECTED:3,ETHERNET:4,WIFI:5,WWAN:6,BLUETOOTH:7,EMULATOR:8}},function(n,t,e){var i=e(0);n.exports=function(){var n="undefined"!=typeof localStorage?localStorage:null;i.extend(this,{get:function(t){try{return n&&"function"==typeof n.getItem?n.getItem("cs_"+t):n?n["cs_"+t]:n}catch(e){}},remove:function(t){try{n&&"function"==typeof n.removeItem?n.removeItem("cs_"+t):n&&delete n["cs_"+t]}catch(e){}},clear:function(){try{for(var t=0;n&&t<n.length;++t){var e=n.key(t);
"cs_"===e.substr(0,"cs_".length)&&("function"==typeof n.removeItem?n.removeItem(e):delete n[e])}}catch(i){}}})}},function(n,t){n.exports={Xn:"ocdrm",Qn:"ltrts",$n:"pappv",Zn:"fits",nt:"cits",tt:"cpidmd5",et:"cpidrsa",it:"c12s",rt:"lappaccts",ot:"lsaccts",ut:"lappsts",st:"ftrsc",ft:"accft",ct:"accbt",lt:"accit",dt:"tft",vt:"tbt",_t:"tit",ht:"accappst",pt:"appsc",gt:"g",yt:"lrt",bt:"dc",St:"dco",wt:"csc",Et:"sl"}},function(n,t){n.exports=function(n,t,e){if("undefined"!=typeof Image){var i=new Image;
i.onload=function(){t&&t(200),i=null},i.onerror=function(){t&&t(),i=null},i.src=n}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},function(n,t,e){var i={VERSION:"7.8.0+2310050509",It:!0,Pt:5E3,At:!0,Ct:e(21).STANDARD,Lt:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ar","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ns_ap_sv","ns_ap_bv",
"ns_ap_cv","ns_ap_smv","ns_type","cs_partner","cs_xcid","cs_impid","cs_proid","cs_dc_di","cs_dc_ci","cs_dc_ei","ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_ap_ut","ns_ap_er","cs_fpcu","cs_fpid","cs_fpit","cs_fpdm","cs_fpdt","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_cn","ns_st_ev","ns_st_sp","ns_st_sc","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_dppc","ns_st_dapc","ns_st_dspc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_po","ns_st_lda",
"ns_st_ldw","ns_st_ldo","ns_st_hc","ns_st_hd","ns_st_mp","ns_st_mv","ns_st_cl","ns_st_sl","ns_st_pn","ns_st_tp","ns_st_ct","ns_st_ad","ns_st_li","ns_st_ty","ns_st_ci","ns_st_si","ns_ap_et","ns_ap_ar","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_cs","ns_ap_fg","ns_ap_dft","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_usage","ns_category","category","ns_radio","ns_st_pt","ns_st_ipt","ns_st_iap","ns_st_iet","ns_st_iupc","ns_st_iupa","ns_st_ilpc","ns_st_ilpa","ns_st_ibc",
"ns_st_ibt","ns_st_itpc","ns_st_icpc","ns_st_ae","ns_st_er","ns_st_cfg","ns_st_rcn","ns_st_cpo","ns_st_ui","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c6","ca6","cb6","cc6","cd6","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_ce","ns_st_ia","ns_st_pu","ns_st_st","ns_st_stc","ns_st_sta","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_ge","ns_st_tge","ns_st_cs","ns_st_ft","ns_st_amg",
"ns_st_ami","ns_st_amp","ns_st_amw","ns_st_amt","ns_st_ams","ns_st_cde","ns_st_cds","ns_st_cdc","ns_st_cda","ns_st_cdm","ns_st_cmt","ns_st_amd","ns_st_amo","ns_st_sr","ns_st_pl","ns_st_ca","ns_st_cp","ns_st_fee","ns_st_dskc","ns_st_dska","ns_st_skd","ns_st_dskt","ns_st_dpc","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","cs_ucfr","gdpr","gdpr_p1t","gdpr_li","gdpr_pcc","gdpr_purps","gdpr_consent","gpp","gpp_sid","cs_ucc","cs_cmp_id","cs_cmp_sv","cs_cmp_rt","c5","c10","c11","c13",
"c14","c15","c16","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_ft","ns_ap_bt","ns_ap_it","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_lang","ns_ap_miss","ns_ap_jb","ns_ap_oc","ns_c","ns_st_cev","ns_st_lt","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_rp","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_pb","ns_st_dpt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc",
"ns_st_upa","ns_st_dupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_dtpc","ns_st_dcpc","ns_st_skc","ns_st_ska","ns_st_skt","ns_st_pc","ns_st_pp","ns_st_pa","c7","c8","c9","ns_st_cu","ns_st_amc"],Dt:"http://b.scorecardresearch.com/p",Vn:"http://b.scorecardresearch.com/p2",Nt:"https://sb.scorecardresearch.com/p",Bn:"https://sb.scorecardresearch.com/p2"};n.exports=i},function(n,t,e){var i=e(22),r=e(0);n.exports=function(){var n=this,
t="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,e="undefined"!=typeof decodeURIComponent?decodeURIComponent:unescape,o="undefined"!=typeof localStorage?localStorage:null,u={},s=o&&t&&e;r.extend(n,{dir:function(n){if(!s)return null;var t="cs_dir_"+n,i=u[t];if(i)return i.slice();var r=o.getItem(t);if(r){i=[];for(var a=0,f=(r=r.split("|")).length;a<f;a++)r[a].length>0&&i.push(e(r[a]));return u[t]=i,i.slice()}return null},append:function(t,e,i){if(s){var r=n.read(t,e);r?r+=i:r=i,n.write(t,
e,r)}},write:function(e,r,a){if(s){var f=n.dir(e);f||(!function(n){var t="cs_dir_"+n;"function"==typeof o.setItem?o.setItem(t,""):o[t]="",u[t]=[]}(e),f=[]),-1==i.indexOf(r,f)&&function(n,e){var i="cs_dir_"+n;try{"function"==typeof o.setItem?o.setItem(i,o.getItem(i)+"|"+t(e)):o[i]=o.getItem(i)+"|"+t(e)}catch(r){}u[i].push(e)}(e,r),function(n,t,e){try{"function"==typeof o.setItem?o.setItem("cs_file_"+n+t,e):o["cs_file_"+n+t]=e}catch(i){}}(e,r,a)}},deleteFile:function(e,r){if(!s)return!1;var a=n.dir(e);
return!!a&&(-1!=i.indexOf(r,a)&&(function(n,e){var r="cs_dir_"+n,s=u[r];s.splice(i.indexOf(e,s),1);for(var a=[],f=0,c=s.length;f<c;f++)a.push(t(s[f]));try{"function"==typeof o.setItem?o.setItem(r,a.join("|")):o[r]=a.join("|"),"function"==typeof o.removeItem?o.removeItem("cs_file_"+n+e):delete o["cs_file_"+n+e]}catch(l){}}(e,r),!0))},read:function(t,e){if(!s)return null;var r=n.dir(t);return r?-1==i.indexOf(e,r)?null:function(n,t){try{return"function"==typeof o.getItem?o.getItem("cs_file_"+n+t):o["cs_file_"+
n+t]}catch(e){}}(t,e):null}})}},function(n,t,e){var i=e(0),r=e(2).M;t.Tt=function(n){var t={};for(var e in n){var i=n[e];null===i||i===undefined?t[e]=i:t[e]=n[e]+""}return t},t.Ot=function(n,t){var e,i=[];for(e in n)t&&!t.test(e)||!n.hasOwnProperty(e)||(i[i.length]=e);return i},t.kt=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.Rt=function(n,t,e,r){var o=i.h(n,1),u={start:t,end:e};if(u.start>=u.end)return o;for(var s=0;s<o.length;++s){var a=o[s];if(a.start<=u.start&&
u.end<=a.end)break;if(a.start<=u.start&&u.start<=a.end&&a.end<=u.end)break;if(u.start<=a.start&&a.start<=u.end&&u.end<=a.end)break;if(u.end<=a.start)break}o.splice(s,0,u);for(var f=1;f<o.length;){var c=o[f],l=o[f-1];l.start<=c.start&&c.end<=l.end?o.splice(f,1):c.start<=l.start&&l.end<=c.end?o.splice(f-1,1):l.start<=c.start&&c.start<=l.end+r&&l.end<=c.end?o.splice(f-1,2,{start:l.start,end:c.end}):c.start<=l.start&&l.start-r<=c.end&&c.end<=l.end?o.splice(f-1,2,{start:c.start,end:l.end}):f++}return o},
t.Mt=function(n){for(var t in r)if(r.hasOwnProperty(t)&&r[t]==n)return t},t.Ut=function(n){return n==r.IDLE||n==r.BUFFERING_BEFORE_PLAYBACK||n==r.SEEKING_BEFORE_PLAYBACK||n==r.PLAYBACK_NOT_STARTED},t.xt=function(n,t){for(var e="hash:",i=0;i<t.length;i++)n[t[i]]&&(e+=t[i]+":"+n[t[i]]+";");return e}},function(n,t,e){var i=e(1);n.exports=function(n){var t=this;t.Wt=n,t.Ft={},t.Vt={},t.Bt=i.N(),t.setLabel=function(n,e){t.Vt[n]=e}}},function(n,t){var e={};e.qt=function(){try{return"undefined"!=typeof document}catch(n){return!1}},
e.jt=function(){try{return"undefined"!=typeof navigator}catch(n){return!1}},e.qn=function(){if(!e.qt())return!1;var n=!1;return("undefined"!=typeof document.hidden||"undefined"!=typeof document.mozHidden||"undefined"!=typeof document.msHidden||"undefined"!=typeof document.webkitHidden)&&(n=!0),n},e.Gt=function(){if(!e.qt())return null;var n,t,i;"undefined"!=typeof document.hidden?(n="hidden",t="visibilitychange",i="visibilityState"):"undefined"!=typeof document.mozHidden?(n="mozHidden",t="mozvisibilitychange",
i="mozVisibilityState"):"undefined"!=typeof document.msHidden?(n="msHidden",t="msvisibilitychange",i="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(n="webkitHidden",t="webkitvisibilitychange",i="webkitVisibilityState");var r={hidden:n,Ht:t,state:i};return function(){return r}}(),e.jn=function(){if(!e.qt())return!1;if(!e.qn())return!1;var n=e.Gt();return document[n.hidden]},e.Gn=function(n){if(e.qt()&&e.qn()){var t=e.Gt();document.addEventListener(t.Ht,n,!1)}},e.Hn=function(n){if(e.qt()&&
e.qn()){var t=e.Gt();document.removeEventListener(t.Ht,n,!1)}},e.Kt=function(){if(!e.jt())return"";var n,t,i=navigator.userAgent||"",r=navigator.appName||"";return-1!=(t=i.indexOf("Opera"))||-1!=(t=i.indexOf("OPR/"))?r="Opera":-1!=(t=i.indexOf("Android"))?r="Android":-1!=(t=i.indexOf("Chrome"))?r="Chrome":-1!=(t=i.indexOf("Safari"))?r="Safari":-1!=(t=i.indexOf("Firefox"))?r="Firefox":-1!=(t=i.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":
(n=i.lastIndexOf(" ")+1)<(t=i.lastIndexOf("/"))?(r=i.substring(n,t)).toLowerCase()==r.toUpperCase()&&(r=navigator.appName):r="unknown",r},e.Jt=function(){if(!e.jt())return"";var n,t,i,r=navigator.userAgent||"",o=navigator.appName||"",u=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=r.indexOf("Opera"))?(u=r.substring(t+6),-1!=(t=r.indexOf("Version"))&&(u=r.substring(t+8))):-1!=(t=r.indexOf("OPR/"))?u=r.substring(t+4):-1!=(t=r.indexOf("Android"))?u=r.substring(t+11):-1!=(t=
r.indexOf("Chrome"))?u=r.substring(t+7):-1!=(t=r.indexOf("Safari"))?(u=r.substring(t+7),-1!=(t=r.indexOf("Version"))&&(u=r.substring(t+8))):-1!=(t=r.indexOf("Firefox"))?u=r.substring(t+8):"Microsoft Internet Explorer"==o?null!=(new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})")).exec(r)&&(u=parseFloat(RegExp.$1)):"Netscape"==o?null!=(new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")).exec(r)&&(u=parseFloat(RegExp.$1)):u=r.lastIndexOf(" ")+1<(t=r.lastIndexOf("/"))?r.substring(t+1):"unknown",-1!=(i=(u=u.toString()).indexOf(";"))&&
(u=u.substring(0,i)),-1!=(i=u.indexOf(" "))&&(u=u.substring(0,i)),-1!=(i=u.indexOf(")"))&&(u=u.substring(0,i)),n=parseInt(""+u,10),isNaN(n)&&(u=""+parseFloat(navigator.appVersion)),u},e.Yt=function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},e.kt=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},e.zt=function(){return!!e.qt()&&"s"===document.location.href.charAt(4)},n.exports.qn=e.qn,n.exports.Gt=e.Gt,n.exports.jn=e.jn,n.exports.Kt=e.Kt,n.exports.Jt=e.Jt,
n.exports.Yt=e.Yt,n.exports.kt=e.kt,n.exports.zt=e.zt,n.exports.Gn=e.Gn,n.exports.Hn=e.Hn},function(n,t){n.exports={PERSISTENT_LABELS:0,PARTNER:1,PUBLISHER:2,KEEP_ALIVE:3,LIVE_TRANSMISSION_MODE:4,OFFLINE_CACHE_MODE:5,DISABLE:6,TIME_WINDOW_ELAPSED:7,START_LABELS:8,LABEL_ORDER:9,DISABLED_TCF_INTEGRATION:10,Xt:11}},function(n,t,e){var i=e(0),r=e(29);function o(){var n=new r,t=[],e=!0;i.extend(this,n),i.extend(this,{Qt:function(n){t=n},$t:function(){return t},Zt:function(n){e=n},ne:function(){return e}})}
o.prototype=Object.create(r.prototype),n.exports=o},function(n,t,e){var i=e(0),r=e(58),o={te:function(n,t,e){return-1==n.indexOf("?")?n+="?":n+="\x26",n+o.ee(t,e)},ie:function(n,t){return i.extend(n,o.Tt(t||{}))},Tt:function(n){var t={};for(var e in n)if(n.hasOwnProperty(e)){var i=n[e];null===i||i===undefined?t[e]=i:t[e]=n[e]+""}return t},ee:function(n,t){var e=!1,r="";n=i.h(n);for(var o="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,u=0;u<t.length;++u){var s=t[u];null!=n[s]&&(e&&
(r+="\x26"),e=!0,r+=o(s)+"\x3d"+o(n[s]),delete n[s])}for(s in n)null!=n[s]&&(e&&(r+="\x26"),e=!0,r+=o(s)+"\x3d"+o(n[s]));return r},re:function(n){return"unknown"==n?"unknown":r.oe(n)?"1":"0"}};n.exports=o},function(n,t){n.exports={STANDARD:1,LAN:2,CACHE:3}},function(n,t){var e={};e.indexOf=function(n,t){var i=-1;return e.forEach(t,function(t,e){t==n&&(i=e)}),i},e.forEach=function(n,t,e){try{if("function"==typeof t)if(e=void 0!==e?e:null,"number"!=typeof n.length||"undefined"==typeof n[0]){var i="undefined"!=
typeof n.__proto__;for(var r in n)n.hasOwnProperty(r)&&(!i||i&&"undefined"==typeof n.__proto__[r])&&"function"!=typeof n[r]&&t.call(e,n[r],r)}else for(var o=0,u=n.length;o<u;o++)t.call(e,n[o],o)}catch(s){}},t.indexOf=e.indexOf,t.forEach=e.forEach},function(n,t){n.exports=require("os")},function(n,t){var e={};e.ue=function(){function n(n,t){var u=n[0],s=n[1],a=n[2],c=n[3];u=e(u,s,a,c,t[0],7,-680876936),c=e(c,u,s,a,t[1],12,-389564586),a=e(a,c,u,s,t[2],17,606105819),s=e(s,a,c,u,t[3],22,-1044525330),
u=e(u,s,a,c,t[4],7,-176418897),c=e(c,u,s,a,t[5],12,1200080426),a=e(a,c,u,s,t[6],17,-1473231341),s=e(s,a,c,u,t[7],22,-45705983),u=e(u,s,a,c,t[8],7,1770035416),c=e(c,u,s,a,t[9],12,-1958414417),a=e(a,c,u,s,t[10],17,-42063),s=e(s,a,c,u,t[11],22,-1990404162),u=e(u,s,a,c,t[12],7,1804603682),c=e(c,u,s,a,t[13],12,-40341101),a=e(a,c,u,s,t[14],17,-1502002290),u=i(u,s=e(s,a,c,u,t[15],22,1236535329),a,c,t[1],5,-165796510),c=i(c,u,s,a,t[6],9,-1069501632),a=i(a,c,u,s,t[11],14,643717713),s=i(s,a,c,u,t[0],20,-373897302),
u=i(u,s,a,c,t[5],5,-701558691),c=i(c,u,s,a,t[10],9,38016083),a=i(a,c,u,s,t[15],14,-660478335),s=i(s,a,c,u,t[4],20,-405537848),u=i(u,s,a,c,t[9],5,568446438),c=i(c,u,s,a,t[14],9,-1019803690),a=i(a,c,u,s,t[3],14,-187363961),s=i(s,a,c,u,t[8],20,1163531501),u=i(u,s,a,c,t[13],5,-1444681467),c=i(c,u,s,a,t[2],9,-51403784),a=i(a,c,u,s,t[7],14,1735328473),u=r(u,s=i(s,a,c,u,t[12],20,-1926607734),a,c,t[5],4,-378558),c=r(c,u,s,a,t[8],11,-2022574463),a=r(a,c,u,s,t[11],16,1839030562),s=r(s,a,c,u,t[14],23,-35309556),
u=r(u,s,a,c,t[1],4,-1530992060),c=r(c,u,s,a,t[4],11,1272893353),a=r(a,c,u,s,t[7],16,-155497632),s=r(s,a,c,u,t[10],23,-1094730640),u=r(u,s,a,c,t[13],4,681279174),c=r(c,u,s,a,t[0],11,-358537222),a=r(a,c,u,s,t[3],16,-722521979),s=r(s,a,c,u,t[6],23,76029189),u=r(u,s,a,c,t[9],4,-640364487),c=r(c,u,s,a,t[12],11,-421815835),a=r(a,c,u,s,t[15],16,530742520),u=o(u,s=r(s,a,c,u,t[2],23,-995338651),a,c,t[0],6,-198630844),c=o(c,u,s,a,t[7],10,1126891415),a=o(a,c,u,s,t[14],15,-1416354905),s=o(s,a,c,u,t[5],21,-57434055),
u=o(u,s,a,c,t[12],6,1700485571),c=o(c,u,s,a,t[3],10,-1894986606),a=o(a,c,u,s,t[10],15,-1051523),s=o(s,a,c,u,t[1],21,-2054922799),u=o(u,s,a,c,t[8],6,1873313359),c=o(c,u,s,a,t[15],10,-30611744),a=o(a,c,u,s,t[6],15,-1560198380),s=o(s,a,c,u,t[13],21,1309151649),u=o(u,s,a,c,t[4],6,-145523070),c=o(c,u,s,a,t[11],10,-1120210379),a=o(a,c,u,s,t[2],15,718787259),s=o(s,a,c,u,t[9],21,-343485551),n[0]=f(u,n[0]),n[1]=f(s,n[1]),n[2]=f(a,n[2]),n[3]=f(c,n[3])}function t(n,t,e,i,r,o){return t=f(f(t,n),f(i,o)),f(t<<
r|t>>>32-r,e)}function e(n,e,i,r,o,u,s){return t(e&i|~e&r,n,e,o,u,s)}function i(n,e,i,r,o,u,s){return t(e&r|i&~r,n,e,o,u,s)}function r(n,e,i,r,o,u,s){return t(e^i^r,n,e,o,u,s)}function o(n,e,i,r,o,u,s){return t(i^(e|~r),n,e,o,u,s)}function u(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var s="0123456789abcdef".split("");function a(n){for(var t="",e=0;e<4;e++)t+=s[n>>8*e+4&15]+s[n>>8*e&15];return t}function f(n,
t){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return function(t){return function(n){for(var t=0;t<n.length;t++)n[t]=a(n[t]);return n.join("")}(function(t){var e,i=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)n(r,u(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(r,o),e=0;e<16;e++)o[e]=0;return o[14]=8*i,n(r,
o),r}(t))}}(),n.exports=e.ue},function(n,t){n.exports={DISABLED:4,LAN:3,MANUAL_FLUSH:2,ENABLED:1}},function(n,t,e){var i=e(0),r=e(3).kn,o=e(11),u=e(1),s=e(27),a={se:2,ae:3,fe:4},f={ce:1,le:2,fe:3};function c(n,t){var e,s,c,l,d,v,_,h,p,g,m,y,b,S,w,E,I,P,A,C,L,D=this,N=[],T=[];function O(n){var t;(t=s?f.ce:c?f.le:f.fe)!=l&&function(n,t){l!=n&&(!function(n,t){switch(n){case f.fe:break;case f.le:case f.ce:M()}for(var e=0;e<T.length;++e)T[e].de(n,t)}(l,t),function(n,t){switch(n){case f.fe:break;case f.le:d||
R();break;case f.ce:R(),v++}for(var e=0;e<T.length;++e)T[e].ve(n,t)}(n,t),k(t,!0),l=n)}(t,n)}function k(t,e){var i=t-_;switch(l){case f.ce:h+=i,p+=i;break;case f.le:g+=i,m+=i;break;case f.fe:y+=i,b+=i}_=t,e&&(n.put(o.rt,_),n.put(o.st,v),n.put(o.ft,h),n.put(o.ct,g),n.put(o.lt,y),n.put(o.dt,p),n.put(o.vt,m),n.put(o._t,b))}function R(){M(),A>0&&(L=r.setTimeout(function(){D._e(u.N(),!0),L=null,R(),n.he()},A))}function M(){L&&(r.clearTimeout(L),L=null)}function U(n){var t;(t=c?a.se:s?a.ae:a.fe)!=e&&function(n,
t){e!=n&&(!function(n,t){switch(n){case a.se:case a.ae:S=t;break;case a.fe:W(t)||(w+=t-E)}for(var e=0;e<N.length;++e)N[e].pe(n,t)}(e,t),function(n,t){switch(n){case a.se:case a.ae:W(t)}for(var e=0;e<N.length;++e)N[e].ge(n,t)}(n,t),x(t,!0),e=n)}(t,n)}function x(t,i){var r=t-E;switch(e){case a.se:case a.ae:w+=r,S=t}E=t,i&&(n.put(o.ot,E),n.put(o.ut,S),n.put(o.ht,w),n.put(o.gt,I),n.put(o.pt,C))}function W(t){var e=!1;return t-S>18E5&&(I=t,n.put(o.gt,I),C++,e=!0),S=t,e}v=0,d=!1,l=f.fe,e=a.fe,s=!1,c=!1,
p=0,m=0,b=0,g=0,h=0,y=0,w=0,I=-1,P=-1,_=-1,E=-1,S=-1,A=0,C=0,_=n.get(o.rt,-1),E=n.get(o.ot,-1),S=n.get(o.ut,-1),v=n.get(o.st,0),h=n.get(o.ft,0),g=n.get(o.ct,0),y=n.get(o.lt,0),p=n.get(o.dt,0),m=n.get(o.vt,0),b=n.get(o._t,0),w=n.get(o.ht,0),C=n.get(o.pt,0),function(t){P=n.get(o.yt,0),(I=n.get(o.gt,-1))<0?(I=t,n.put(o.gt,I),P=0,n.put(o.yt,P),S=I,C++):(W(t)||(w+=t-E,n.put(o.ht,w)),S=I)}(t),function(t){if(_>0){var e=t-_;y+=e,n.put(o.lt,y),b+=e,n.put(o._t,b)}E=_=t,n.put(o.ot,E),n.put(o.rt,_),n.put(o.ut,
S)}(t),i.extend(D,{me:function(){return l},notifyUxActive:function(t){c||(c=!0,O(t),U(t),n.he())},notifyUxInactive:function(t){c&&(c=!1,O(t),U(t),n.he())},notifyEnterForeground:function(t){s||(s=!0,O(t),U(t),n.he())},notifyExitForeground:function(t){s&&(s=!1,O(t),U(t),n.he())},_e:function(n,t){k(n,t),x(n,t)},ye:function(n,t){A=1E3*n,d=t,n>0&&(l==f.ce||l==f.le&&!t)?R():M()},be:function(t){t===undefined&&(t=!0);var e=C;return t&&(C=0,n.put(o.pt,C)),e},Se:function(t){t===undefined&&(t=!0);var e=w;return t&&
(w=0,n.put(o.ht,w)),e},we:function(t){t===undefined&&(t=!0);var e=y;return t&&(y=0,n.put(o.lt,y)),e},Ee:function(t){t===undefined&&(t=!0);var e=b;return t&&(b=0),n.put(o._t,b),e},Ie:function(t){t===undefined&&(t=!0);var e=g;return t&&(g=0,n.put(o.ct,g)),e},Pe:function(t){t===undefined&&(t=!0);var e=h;return t&&(h=0,n.put(o.ft,h)),e},Ae:function(t){t===undefined&&(t=!0);var e=p;return t&&(p=0),n.put(o.dt,p),e},Ce:function(t){t===undefined&&(t=!0);var e=v;return t&&(v=0,n.put(o.st,v)),e},Le:function(t){t===
undefined&&(t=!0);var e=m;return t&&(m=0),n.put(o.vt,m),e},De:function(){return I},Ne:function(){return P},Te:function(n){T.push(n)},Oe:function(n){var t=T.indexOf(n);-1!=t&&T.splice(t,1)},ke:function(n){N.push(n)},Re:function(n){var t=N.indexOf(n);-1!=t&&N.splice(t,1)},Me:function(){M()}})}c.Ue=s.FOREGROUND_ONLY,c.xe=60,c.We=a,c.Fe=f,n.exports=c},function(n,t){n.exports={DISABLED:2,FOREGROUND_AND_BACKGROUND:1,FOREGROUND_ONLY:0}},function(n,t,e){var i,r=e(0),o=e(3).kn,u={Ve:1,Be:2,qe:3},s=+new Date;
function a(){var n,t,e,i,a,f,c,l,d,v;function _(){c=o.wn(),n&&(g(),h())}function h(){var t=c?l:d;i=+new Date,a=i+t,n=o.setInterval(function(){var n=(i=+new Date)-a;(a=i+t,Math.abs(n)>v)&&p(n>0?u.qe:i<e?u.Be:u.Ve)},t)}function p(n){for(var t=0;t<f.length;++t)f[t](n)}function g(){n&&(o.clearInterval(n),n=null)}r.extend(this,{je:function(e){e.Ge()&&(l=e.He(),d=e.Ke(),v=e.Je(),c=o.wn(),n||h(),t||(t=!0,o.En(_)))},Ye:function(){g(),t&&(o.In(_),t=!1)},ze:function(n){f.push(n)},Xe:function(n){var t=f.indexOf(n);
-1!=t&&f.splice(t,1)},Qe:function(t){var r;n?a<t&&t-a>v?r=u.qe:e>t?r=u.Be:i>t&&(r=u.Ve):e>t&&(r=u.Be),r&&(p(r),n&&(g(),h())),e=t}}),n=null,t=!1,f=[],e=s,c=!0,l=-1,d=-1,v=1E3}a.$e=1E3,a.ENABLED=!0,a.Ze=u,a.ni=function(){return i||(i=new a),i},n.exports=a},function(n,t,e){var i=e(0),r=e(8);n.exports=function(){var n={},t=[],e={};i.extend(this,{addLabels:function(t){r.zn(n,t)},getLabels:function(){return n},setLabel:function(t,e){r.Yn(n,t,e)},getIncludedPublishers:function(){return t},addIncludedPublisher:function(n){t&&
-1==t.indexOf(n)&&t.push(n)},addPublisherLabels:function(n,t){n&&(e[n]=e[n]||{},r.zn(e[n],t))},setPublisherLabel:function(n,t,i){n&&(e[n]=e[n]||{},r.Yn(e[n],t,i))},getPublisherLabels:function(n){return e[n]||{}}})}},function(n,t,e){Object.defineProperty(t,"v",{value:!0}),t.ti=t.ei=t.ii=void 0;var i=e(31),r=function(){function n(n){this.ri={oi:!1},this.ui=[],this.si=!1,this.ai=n}return n.prototype.fi=function(){return this.ci(),this.ri},n.prototype.li=function(n){this.ui.indexOf(n)>-1||(this.ui.push(n),
this.ci())},n.prototype.ci=function(){var n=this;if(!this.si){this.si=!0;var t=+new Date,e=-1;try{this.ai("addEventListener",2,function(r,o){o&&(n.ri={oi:!1},"tcloaded"!=r.eventStatus&&"useractioncomplete"!=r.eventStatus||(-1==e&&(e=+new Date-t),n.ri=(0,i.di)(r,{cs_cmp_id:r.cmpId,cs_cmp_sv:r.cmpVersion,cs_cmp_rt:e}),n.ri.oi&&n.vi()))})}catch(r){}}},n.prototype.vi=function(){for(var n=0,t=this.ui;n<t.length;n++)(0,t[n])()},n}();t.ii=r,t.ei=function(){return"function"==typeof __tcfapi},t.ti=function(){return __tcfapi}},
function(n,t,e){var i=this&&this._i||function(){return(i=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)};function r(n){var e={};if(!n)return e;for(var i=0,r=t.hi;i<r.length;i++){var o=r[i];e[o]=n.purpose.consents[o]}return e}function o(n){return{oi:!0,pi:!0,gi:!0,mi:i({gdpr:0,cs_ucc:1},n)}}Object.defineProperty(t,"v",{value:!0}),t.yi=t.di=t.hi=t.bi=void 0,t.bi=77,
t.hi=[1,7,8,9,10],t.di=function(n,e){return n.gdprApplies?function(n,t){var e,r={};r.gdpr=1,r.gdpr_li=n.Si?1:0,r.gdpr_pcc=n.wi,n.Ei&&n.purposeOneTreatment?(r.gdpr_p1t=1,e=!0):(r.gdpr_p1t=0,e=!!n.consents[1]);var o=!1;if(n.Ii){o=e;var u=[];e&&u.push(1),n.consents[7]&&u.push(7),n.consents[8]&&u.push(8),n.consents[9]&&u.push(9),n.consents[10]&&u.push(10),r.gdpr_purps=u.join(",")}else r.gdpr_purps="";return{oi:!0,pi:o,gi:!0,mi:i(i({cs_ucc:1},r),t)}}({Ei:n.isServiceSpecific,purposeOneTreatment:n.purposeOneTreatment,
Si:n.vendor.legitimateInterests[t.bi],Ii:n.vendor.consents[t.bi],consents:r(n),wi:n.publisherCC||""},i({},e)):o(e)},t.yi=o},function(n,t,e){var i=e(0),r=e(8),o=e(54);function u(){var n,t,e,u,a,f=this;function c(n,t){null!=n&&l("ns_st_ct",(t?"ac":"vc")+n)}function l(n,e){r.Yn(t,n,e)}function d(n){delete t[n]}t={},a=!1,e={},n=new o,l("ns_st_li","0"),l("ns_st_ty","video"),i.extend(f,n),i.extend(f,{setMediaType:function(n){(u=n)==s.LIVE||u==s.USER_GENERATED_LIVE?l("ns_st_li","1"):l("ns_st_li","0"),c(u,
a)},classifyAsAudioStream:function(n){null==n&&(n=!0),l("ns_st_ty",(a=n)?"audio":"video"),c(u,a)},classifyAsCompleteEpisode:function(n){null==n&&(n=!0),n?l("ns_st_ce","1"):d("ns_st_ce")},carryTvAdvertisementLoad:function(n){null==n&&(n=!0),n?l("ns_st_ia","1"):d("ns_st_ia")},setLength:function(n){l("ns_st_cl",n)},setTotalSegments:function(n){l("ns_st_tp",n)},setClipUrl:function(n){l("ns_st_cu",n)},setFeedType:function(n){l("ns_st_ft",n)},setVideoDimensions:function(n,t){l("ns_st_cs",(n=n||0)+"x"+(t=
t||0))},setStack:function(n,t){e[n]=t},getStandardLabels:function(){return i.extend({},n.getStandardLabels(),t)},getMetadataLabels:function(){return i.extend({},f.getStandardLabels(),f.getCustomLabels())},getStacks:function(){return e}})}i.extend(u,o);var s={LONG_FORM_ON_DEMAND:"12",SHORT_FORM_ON_DEMAND:"11",LIVE:"13",USER_GENERATED_LONG_FORM_ON_DEMAND:"22",USER_GENERATED_SHORT_FORM_ON_DEMAND:"21",USER_GENERATED_LIVE:"23",BUMPER:"99",OTHER:"00"};u.ContentType=s,u.ContentFeedType={EAST_HD:"EASTHD",
WEST_HD:"WESTHD",EAST_SD:"EASTSD",WEST_SD:"WESTSD",OTHER:"OTHER"},n.exports=u},function(n,t,e){var i,r=e(0),o=e(34),u=e(87),s=e(18),a=e(29),f=e(19),c=e(3).kn,l=e(26),d=e(27),v=e(90),_=e(91),h=e(43),p=e(35),g=e(92),m=e(45),y=e(93),b=e(11),S=e(94),w=e(13),E=e(40),I=e(28),P=e(95),A=e(100),C=e(1);i=new function(){var n,t,e,i,L,D,N,T,O,k,R,M,U,x,W,F,V,B,q,j,G=this;function H(){var n;W.Pi()||V.Ai(function(n){n.pi&&L.Ci()}),((n=L.Di()).Li||n.Ni)&&W.Ti(n.Oi)}function K(n){j.push(function(){e.ki(n,X(),W)})}
function J(r){switch(r){case s.DISABLE:!function(){O&&(O=!1,R&&c.clearTimeout(q),x&&(T.stop(),I.ni().Ye()),(k||R)&&(t.Oe(this),t.Re(this),t.Me(),F.Ri()),N&&N.Mi())}();break;case s.TIME_WINDOW_ELAPSED:V.Ai(function(r){!function(r){e=new u(t,n,N,i,D,L,V,B),(T=new h(n)).Ui(G),r.pi&&z(),W.xi()>=0&&t.ye(W.xi(),W.Wi()==d.FOREGROUND_ONLY),T.Fi(W.isKeepAliveMeasurementEnabled()),I.ni().je(W),x=!0,n.he()}(r),function(){for(var n=0;n<j.length;++n)(0,j[n])();j=[]}()});break;case s.PARTNER:case s.PUBLISHER:x&&
(V.Ai(function(t){t.pi&&(z(),n.he())}),n.he());break;case s.OFFLINE_CACHE_MODE:break;case s.KEEP_ALIVE:x&&T.Fi(W.isKeepAliveMeasurementEnabled());break;case s.DISABLED_TCF_INTEGRATION:V.disableTcfIntegration(),B.disableTcfIntegration();break;case s.Xt:c.Tn&&B.enableFirstPartyCookie()}}function Y(n,e,i,r){var o;k&&x?n():U?j.push(n):i?(j.push(n),K(e),M=!0):(M||(o=e,j.push(function(){t.notifyEnterForeground(o)}),M=!0),r||K(e),j.push(n),U=!0)}function z(){for(var t=n.get(b.it,{}),i=W.getPublisherConfigurations(),
r="a".charCodeAt(0)-1,o=0;o<i.length;++o){var u=i[o],s=u.getPublisherId(),a=L.Vi(u.getPublisherSecret()),f=t[s],c="";r>="a".charCodeAt(0)&&(c="c"+String.fromCharCode(r)+"_"),r++,f&&f!=a&&e.Bi(c+"cs_c12u",f),t[s]=a,u.setPublisherUniqueDeviceId(a)}n.put(b.it,t)}function X(n){var t;if(n instanceof a)t=n;else{t=new a,"object"==typeof n&&t.addLabels(n);var e=W.getIncludedPublishers();if(e.length>0)for(var i=0;i<e.length;++i)t.addIncludedPublisher(e[i])}return t.getIncludedPublishers().length>0&&W.getPartnerConfigurations().length>
0&&t.addIncludedPublisher(o.qi),t}i=new _(H),O=!0,k=!1,R=!1,M=!1,U=!1,x=!1,W=new o,V=new P,B=new A,j=[],W.addListener(J),r.extend(G,{configuration:W,start:function(){if(W.ji(),!k&&!R){R=!0;var i,r,o=C.N();if(F=new E(W),function(n){var t=new y;t.Gi(n),t.Hi(n)}(n=new v(F)),N=new p(n,F),(i=new S(F,n,N)).Ki(),i.Ji(),L=new m(n,V),O)D=new g(n,W),(t=new l(n,o)).Te(G),t.ke(G),U||(r=o,O&&Y(function(){0==e.Yi()&&e.ki(r,X(),W)},r,!1,!0),U=!0),k=!0,n.he(),V.zi(),q=c.setTimeout(function(){V.Ai(function(t){t.pi||
V.Xi(n),q=null,W.Qi()})},w.Pt)}},$i:function(n){if(O){var t=C.N();Y(function(){e.$i(t,X(n),W)},t)}},notifyDistributedContentViewEvent:function(n,t){if(W.getPartnerConfiguration(n)){var e=new f;e.Zt(!1),e.addIncludedPublisher(o.qi),e.setLabel("ns_ap_ev","distributed_view"),e.setLabel("cs_dc_di",n),e.setLabel("cs_dc_ci",t),G.Zi(e)}},Zi:function(n){if(O){var t=C.N();Y(function(){e.Zi(t,X(n),W)},t)}},notifyUxActive:function(){if(O){var n=C.N();Y(function(){t.notifyUxActive(n)},n)}},notifyUxInactive:function(){if(O){var n=
C.N();Y(function(){t.notifyUxInactive(n)},n)}},notifyEnterForeground:function(){if(O){var n=C.N();Y(function(){t.notifyEnterForeground(n)},n,!0)}},notifyExitForeground:function(){if(O){var n=C.N();Y(function(){t.notifyExitForeground(n)},n,!0)}},flushOfflineCache:function(){O&&k&&Y(function(){N.flush(W,!0),N.nr(),n.he()},C.N())},clearOfflineCache:function(){O&&k&&Y(function(){N.Mi(),N.nr(),n.he()},C.N())},clearInternalData:function(){O&&k&&Y(function(){n.clear(),n.he()},C.N())},tr:function(){e.er(C.N(),
X(),W),n.he()},de:function(n,t){O&&n==l.Fe.fe&&(x?T.start(h.ir):j.push(function(){T.start(h.ir)}))},ve:function(n,t){if(O){var e=function(){n==l.Fe.fe&&(x?T.stop():j.push(function(){T.stop()}))};x?e():j.push(e)}},pe:function(n,t){},ge:function(n,t){}})},n.exports=i},function(n,t,e){var i=e(0),r=e(8),o=e(1),u=e(35),s=e(25),a=e(13),f=e(4),c=e(26),l=e(40),d=e(18),v=e(85),_=e(44),h=e(41),p=e(3),g=p.kn,m=e(28),y=f.Mn;function b(){var n,t,e,f,S,w,E,I,P,A,C,L,D,N,T,O,k,R,M,U,x,W,F,V,B,q,j,G,H,K,J,Y,z,X,
Q,$,Z,nn,tn,en,rn=this;function on(){(function(){if(V.length>0){for(var n=!1,t=0;t<N.length;++t){var e=N[t];if(-1!=V.indexOf(e.getPublisherId())){n=!0;break}}return!n&&T.length>0&&-1!=V.indexOf("21193409")&&(n=!0),n}return!0})()&&(sn(),C&&function(){var n=C.split("?");if(C=n[0],!n[1])return;for(var t=n[1].split("\x26"),e=0;e<t.length;e++){var i=t[e].split("\x3d");E[i[0]]=i[1]?i[1]:""}}(),D&&D!=u.rr||(D=n?u.or:u.rr),T.length>0&&0==N.length&&un(),f=!0,an(d.TIME_WINDOW_ELAPSED))}function un(){if(!w){w=
!0;var n=new _({publisherId:J.getPublisherId(),publisherSecret:J.getPublisherSecret()});N.push(n),an(d.PUBLISHER)}}function sn(){!function(){if(0==N.length)return;for(var e=0;e<N.length;++e){var i=N[e];i.getPublisherId()!=J.getPublisherId()&&(n=i.isSecureTransmissionEnabled(),P=i.isKeepAliveMeasurementEnabled(),t=i.isHttpRedirectCachingEnabled())}}(),function(){if(0==T.length)return;for(var e=1==N.length&&N[0].getPublisherId()==J.getPublisherId(),i=0;i<T.length;++i){var r=T[i];e&&r.isSecureTransmissionEnabled()&&
(n=!0),P=r.isKeepAliveMeasurementEnabled(),t=r.isHttpRedirectCachingEnabled()}}()}function an(n){for(var t=x.slice(),e=0;e<t.length;++e)t[e](n)}i.extend(rn,{ji:function(){p.Rn(),X=-1==X?g.bn:X,Q=-1==Q?g.Sn:Q,R=R||g.tn(),M=M||g.en()},addListener:function(n){o.D(n)&&x.push(n)},Qi:function(){S||(S=!0,(T.length>0||N.length>0)&&on())},addClient:function(n){n instanceof h&&function(n){if(n.getPartnerId()){for(var t=0;t<T.length;++t)if(T[t].getPartnerId()==n.getPartnerId())return;T.push(n),un(),S&&(f?sn():
on()),an(d.PARTNER)}}(n),n instanceof _&&function(n){if(n.getPublisherId()&&n.getPublisherSecret()&&n.getPublisherId()!=b.qi){for(var t=0;t<N.length;++t)if(N[t].getPublisherId()==n.getPublisherId())return;N.length>0&&N[N.length-1].getPublisherId()==J.getPublisherId()?N.splice(N.length-1,0,n):N.push(n),S&&(f?sn():on()),an(d.PUBLISHER)}}(n)},ur:function(){var i="";return i+=n?"1":"0",i+=P?"1":"0",i+=t?"1":"0",i+=e?"1":"0",i+=z?"1":"0",i+=Z?"1":"0",i+=O?"1":"0",i+=k?"1":"0",i+="-",i+=A+"",i+=L+"",i+=
H+"",i+="-",i+=K.toString(16).toUpperCase(),i+="-",i+=B.toString(16).toUpperCase(),i+="-",i+=q.toString(16).toUpperCase(),i+="-",i+=G.toString(16).toUpperCase(),i+="-",i+=j.toString(16).toUpperCase(),i+="-",i+=(X/100).toString(16).toUpperCase(),i+="-",i+=(Q/100).toString(16).toUpperCase(),i+="-",i+=($/100).toString(16).toUpperCase()},sr:function(n){for(var t=0;t<N.length;++t)if(N[t].getPublisherId()==n)return!0;return!1},ar:function(n){for(var t=0;t<T.length;++t)if(T[t].getPartnerId()==n)return!0;
return!1},getPartnerConfiguration:function(n){for(var t=0;t<T.length;++t){var e=T[t];if(e.getPartnerId()==n)return e}return null},getPublisherConfiguration:function(n){for(var t=0;t<N.length;++t){var e=N[t];if(e.getPublisherId()==n)return e}return null},cr:function(){for(var n=[],t=0;t<N.length;++t){var e=N[t];n.push(e.getPublisherId())}return n},getPublisherConfigurations:function(){return N},getPartnerConfigurations:function(){return T},getLabelOrder:function(){return U},setLabelOrder:function(n){n instanceof
Array&&(U=i.h(n),an(d.LABEL_ORDER))},lr:function(){return C},setLiveEndpointUrl:function(n){f||(C=n)},dr:function(){return D},setOfflineFlushEndpointUrl:function(n){f||(D=n)},tn:function(){return R},setApplicationName:function(n){f||(R=n)},setApplicationVersion:function(n){f||(M=n)},en:function(){return M},vr:function(){return g._n()},setPersistentLabel:function(n,t){r.Yn(E,n,t)&&an(d.PERSISTENT_LABELS)},removeAllPersistentLabels:function(){E={},an(d.PERSISTENT_LABELS)},removePersistentLabel:function(n){delete E[n],
an(d.PERSISTENT_LABELS)},getPersistentLabels:function(){return E},getPersistentLabel:function(n){return E[n]},containsPersistentLabel:function(n){return null!=E[n]},addPersistentLabels:function(n){r.zn(E,n),an(d.PERSISTENT_LABELS)},setStartLabel:function(n,t){r.Yn(I,n,t)&&an(d.START_LABELS)},removeAllStartLabels:function(){I={},an(d.START_LABELS)},removeStartLabel:function(n){delete I[n],an(d.START_LABELS)},addStartLabels:function(n){r.zn(I,n),an(d.START_LABELS)},getStartLabels:function(){return I},
_r:function(n){return I[n]},containsStartLabel:function(n){return null!=I[n]},isKeepAliveMeasurementEnabled:function(){return P},isSecureTransmissionEnabled:function(){return n},isHttpRedirectCachingEnabled:function(){return t},setLiveTransmissionMode:function(n){n&&(A=n,an(d.LIVE_TRANSMISSION_MODE))},hr:function(){return A},enableImplementationValidationMode:function(){f||(e=!0)},pr:function(){return e},setOfflineCacheMode:function(n){n&&(L=n,an(d.OFFLINE_CACHE_MODE))},gr:function(){return L},setUsagePropertiesAutoUpdateMode:function(n){n&&
(f||(H=n))},Wi:function(){return H},setUsagePropertiesAutoUpdateInterval:function(n){f||(K=n)},xi:function(){return K},setCacheMaxMeasurements:function(n){f||(B=n)},mr:function(){return B},setCacheMaxFlushesInARow:function(n){f||(q=n)},yr:function(){return q},setCacheMinutesToRetry:function(n){f||(j=n)},br:function(){return j},setCacheMeasurementExpiry:function(n){f||(G=n)},Sr:function(){return G},isEnabled:function(){return F},wr:function(){return f},disable:function(){F&&(F=!1,an(d.DISABLE))},disableTcfIntegration:function(){O&&
(O=!1,an(d.DISABLED_TCF_INTEGRATION))},enableFirstPartyCookie:function(){f||(k=!0,an(d.Xt))},removeListener:function(n){if(o.D(n)){var t=x.indexOf(n);-1!=t&&x.splice(t,1)}},Er:function(){return rn.getPublisherConfiguration("21193409")},setDebugEnabled:function(n){f||(Y=n)},Ir:function(){return Y},setSystemClockJumpDetectionEnabled:function(n){f||(z=n)},Ge:function(){return z},setSystemClockJumpDetectionInterval:function(n){f||(n=100*Math.floor(n/100),X=n)},setSystemClockJumpDetectionAlternativeContextInterval:function(n){f||
(n=100*Math.floor(n/100),Q=n)},He:function(){return X},Ke:function(){return Q},setSystemClockJumpDetectionPrecision:function(n){f||(n=100*Math.floor(n/100),$=n)},Je:function(){return $},setStorageWriteInterval:function(n){0!=nn&&(n<l.Pr||n>l.Ar)||(tn=!0,nn=n)},Cr:function(){return tn?nn:g.X},addIncludedPublisher:function(n){-1==V.indexOf(n)&&V.push(n)},getIncludedPublishers:function(){return V},addCrossPublisherUniqueDeviceIdChangeListener:function(n){o.D(n)&&-1===W.indexOf(n)&&W.push(n)},removeCrossPublisherUniqueDeviceIdChangeListener:function(n){var t=
W.indexOf(n);-1!==t&&W.splice(t,1)},Ti:function(n){if("string"==typeof n)for(var t=0;t<W.length;t++)W[t](n)},enableChildDirectedApplicationMode:function(){f||(Z=!0)},Pi:function(){return Z},Lr:null}),F=!0,w=!1,f=!1,S=!1,j=u.Dr,B=u.Nr,q=u.Tr,G=u.Or,H=c.Ue,K=c.xe,E={},I={},U=a.Lt,V=[],J=new _({publisherId:"21193409"}),A=a.Ct,L=s.ENABLED,P=J.isKeepAliveMeasurementEnabled(),n=!1,t=!0,e=!1,x=[],W=[],T=[],N=[],O=!0,k=!1,Y=!1,z=m.ENABLED,X=-1,Q=-1,$=m.$e,Z=!1,nn=l.kr,tn=!1,R=y,M=y,en=new v(rn),rn.Lr=en}
b.qi="21193409",n.exports=b},function(n,t,e){var i=e(0),r=e(20),o=e(59),u=e(25),s=e(83),a=e(24),f=e(3).kn,c=e(9),l=e(11),d=e(1);function v(n,t){var e,v,_,h,p,g=this;function m(t,i){var r=t.gr(),o=f.pn();return r!=u.DISABLED&&(!(r==u.MANUAL_FLUSH&&!i)&&((r!=u.LAN||o!=c.WWAN&&o!=c.BLUETOOTH&&o!=c.DISCONNECTED)&&(!function(t){var e=60*t.br()*1E3,i=t.yr();d.N()-n.get(l.Qn,-1)>e&&(p=0);return p>i}(t)&&(0!=e.length&&!v))))}function y(n){v=!0;var t=n.dr(),i={};i.c2=n.getPublisherConfigurations()[0].getPublisherId();
var u="JetportGotAMaskOfThe"+n.getPublisherConfigurations()[0].getPublisherSecret()+"S.D_K-";u=a(u),i.s=u;var f=r.te(t,i,n.getLabelOrder());!function(n){for(var t=d.N()-24*n.Sr()*60*60*1E3,i=0;i<e.length;){var r=e[i];parseInt(r.ns_ts)<t?(e.splice(i,1),h++):i++}}(n),_=e,e=[],p++;var c=o.Rr(n,_,h);(new s(f,c,g,n)).Mr()}v=!1,e=[],_=null,h=n.get(l.Xn,0),p=0,function(){var n=t.getCache();if(null!=n)try{var i=JSON.parse(n);if(!(i instanceof Array))return;e=i}catch(r){}}(),i.extend(g,{nr:function(){f.K&&
n.put(l.Xn,h)},Ur:function(){if(f.K){var n=JSON.stringify(e);t.storeCache(n)}},onSuccess:function(){v=!1,_=null,h=0,g.Ur()},onFailure:function(){v=!1,e=_.concat(e),_=null,g.Ur()},xr:function(n,t){f.K&&t.gr()!=u.DISABLED&&(!function(n){return e.length<=n.mr()}(t)?h++:e.push(n.getLabels()))},Wr:function(n){if(f.K){for(var t=[],i=0;i<n.length;++i)t.push(n[i].getLabels());e=t.concat(e)}},flush:function(n,t){f.K&&m(n,t)&&y(n)},Fr:function(){return e.length},Mi:function(){e=[]}})}v.Or=31,v.Nr=2E3,v.rr=
"http://udm.scorecardresearch.com/offline",v.or="https://udm.scorecardresearch.com/offline",v.Tr=10,v.Dr=30,n.exports=v},function(n,t){t.Vr=function(n,t){if("undefined"!=typeof atv&&"undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest;e.open("GET",n,!0),e.onreadystatechange=function(){4==e.readyState&&(t&&t(e.status),e=null)},e.send()}else"undefined"!=typeof atv&&"function"==typeof atv.setTimeout?t&&atv.setTimeout(t,0):t&&t()},t.Br=function(n,t,e){if("undefined"!=typeof atv&&"undefined"!=
typeof XMLHttpRequest){var i=new XMLHttpRequest;i.open("POST",n,!0),i.onreadystatechange=function(){4===i.readyState&&(e&&e(i.status),i=null)},i.send(t)}else"undefined"!=typeof atv&&"function"==typeof atv.setTimeout?e&&atv.setTimeout(e,0):e&&e()}},function(n,t){t.qr=function(n,t){"undefined"!=typeof WinJS&&"undefined"!=typeof WinJS.xhr?WinJS.xhr({url:n}).then(function(n){t&&t(n.status)},function(){t&&t()}):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},t.jr=function(n,t,e){"undefined"!=
typeof WinJS&&"undefined"!=typeof WinJS.xhr?WinJS.xhr({type:"post",url:n,data:t,headers:{"Content-type":"application/xml"}}).then(function(n){e&&e(n.status)},function(){e&&e()}):"function"==typeof setTimeout?e&&setTimeout(e,0):e&&e()}},function(n,t,e){var i=e(17),r=[],o=!1;function u(){for(var n=0;n<r.length;++n)r[n]()}n.exports={Gr:function(n){r.push(n),o||i.kt()&&(window.addEventListener?(window.addEventListener("unload",u,!1),o=!0):window.attachEvent&&(window.attachEvent("onunload",u),o=!0))},
Hr:function(n){for(var t=0;t<r.length;++t)if(r[t]==n){r.splice(t,1);break}0==r.length&&i.kt()&&(window.removeEventListener?(window.removeEventListener("unload",u,!1),o=!1):window.detachEvent&&(window.detachEvent("onunload",u),o=!1))}}},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(17),s=e(4),a=e(12),f=e(5).Wn,c=e(5).Fn,l=e(7),d=e(14),v=e(10),_=e(38),h="undefined"!=typeof document&&document||undefined,p=s.Mn,g=s.Un,m=i.extend({},r,{W:"html5",G:function(){return"undefined"!=typeof Image?a.apply(this,
arguments):f.apply(this,arguments)},H:c,Storage:l,J:v,Y:d,K:!0,X:6E4,tn:function(){return h&&o.A(h.title)&&h.title||p},"in":function(){return this.un()+ +new Date+~~(1E3*Math.random())},rn:function(){return"72"},un:function(){return"undefined"!=typeof window&&o.A(window.navigator)&&o.P(window.navigator.platform,"")||""},sn:function(){return o.P(u.Kt()+" "+u.Jt(),"")},fn:function(){return"html"},cn:function(){return"5"},ln:function(){var n,t;"undefined"!=typeof window&&window.screen&&window.screen.width&&
(n=window.screen.width),"undefined"!=typeof window&&window.screen&&window.screen.width&&(t=window.screen.height);var e=1;return"undefined"!=typeof window&&window.devicePixelRatio&&(e=window.devicePixelRatio),n>0&&t>0?(n*=e)+"x"+(t*=e):g},dn:function(){var n,t;"undefined"!=typeof window&&window.innerWidth&&(n=window.innerWidth),"undefined"!=typeof window&&window.innerHeight&&(t=window.innerHeight);var e=1;return"undefined"!=typeof window&&window.devicePixelRatio&&(e=window.devicePixelRatio),n>0&&t>
0?(n*=e)+"x"+(t*=e):g},vn:function(){return"undefined"!=typeof window&&o.A(window.navigator)&&o.P(window.navigator.language,"")||p},Pn:function(n){_.Gr(n)},An:function(n){_.Hr(n)}});n.exports=m},function(n,t,e){var i=e(0),r=e(3).kn,o=e(84);function u(n){var t,e,u,s,a,f;function c(){u&&(u=!1,t.storeProperties(e)),a&&(a=!1,t.storeCache(s))}function l(){if(-1==f){var t=n.Cr();0==t?c():f=r.setTimeout(function(){f=-1,c()},t)}}i.extend(this,{storeProperties:function(n){e=n,u=!0,l()},getProperties:function(){return u?
e:t.getProperties()},storeCache:function(n){s=n,a=!0,l(),t.storeCache(n)},getCache:function(){return a?s:t.getCache()},Ri:function(){-1!=f&&(r.clearTimeout(f),f=-1)}}),t="function"==typeof r.Storage?new r.Storage(n):new o,e="",s="",u=!1,a=!1,f=-1}u.Pr=6E4,u.Ar=3E5,u.kr=0,n.exports=u},function(n,t,e){var i=e(0),r=e(42);n.exports=function(n){var t,e,o;function u(t,e){return n&&null!=n[t]?n[t]:e}t=new r(n=n||{}),i.extend(this,t),i.extend(this,{getPartnerId:function(){return e},getExternalClientId:function(){return o}}),
e=u("partnerId",""),o=u("externalClientId","")}},function(n,t,e){var i=e(0),r=e(8),o=e(13),u=e(43);n.exports=function(n){var t,e,s,a,f;function c(t,e){return n&&null!=n[t]?n[t]:e}i.extend(this,{addPersistentLabels:function(n){r.zn(e,n)},setPersistentLabel:function(n,t){r.Yn(e,n,t)},removeAllPersistentLabels:function(){e={}},removePersistentLabel:function(n){delete e[n]},getStartLabels:function(){return t},getPersistentLabels:function(){return e},containsPersistentLabel:function(n){return null!=e[n]},
containsStartLabel:function(n){return null!=t[n]},getPersistentLabel:function(n){return e[n]},isKeepAliveMeasurementEnabled:function(){return s},isSecureTransmissionEnabled:function(){return a},isHttpRedirectCachingEnabled:function(){return f}}),s=u.ENABLED,a=o.At,f=o.It,e={},t=c("startLabels",t={}),e=c("persistentLabels",e),s=c("keepAliveMeasurement",s),a=c("secureTransmission",a),f=c("httpRedirectCaching",f)}},function(n,t,e){var i=e(0),r=e(3).kn,o=e(11),u=e(1);function s(n){var t,e,s,a,f=this;
t=!0,e=!1,i.extend(f,{start:function(i){f.stop(),t&&(e=!0,s=r.setTimeout(function(){if(function(){if(t){var e=n.get(o.Qn,0),i=u.N()-e;e>0&&i>86399E3&&a&&a.tr()}}(),e){var i=n.get(o.Qn,0);if(0==i)f.start(3E3);else{var r=864E5-(u.N()-i);f.start(r)}}},i))},stop:function(){e&&(e=!1,r.clearTimeout(s),s=null)},Fi:function(n){t=n},Ui:function(n){a=n}})}s.ENABLED=!0,s.ir=3E3,n.exports=s},function(n,t,e){var i=e(0),r=e(42),o=e(45);n.exports=function u(n){var t,e,s,a,f;function c(t,e){return n&&null!=n[t]?
n[t]:e}n=i.h(n||{}),e=c("publisherId",e),f=c("publisherUniqueDeviceIdListener"),s=o.Kr(e),a=null,t=new r(n),i.extend(this,t),i.extend(this,{getPublisherId:function(){return e},getPublisherSecret:function(){return s},getPublisherUniqueDeviceId:function(){return a},setPublisherUniqueDeviceId:function(n){a=n,"function"==typeof f&&f(n)},copy:function(t){return new u(t=i.extend(n,t))}})}},function(n,t,e){var i=e(0),r=e(3).kn,o=e(11),u=e(24),s=e(86);function a(n){var t=null,e=null,a=!0,f=!1,c={};i.extend(this,
{Ci:function(){var i=(r.nn()||"null").split(" "),l=i[0]&&"null"!=i[0]?i[0]:null;if(null==l)return t=null,e=null,void(c={Oi:null,Li:!1,Ni:a});e||(t=n.get(o.tt,null),e=n.get(o.et,null)),e?"none"==l&&"none"==e||!a&&"none"==e||"none"!=l&&u(l)==t||(f=!0,a&&"none"!=l?(t=u(l),e=s(l)):(t=null,e="none"),n.put(o.et,e),null==t?n.remove(o.tt):n.put(o.tt,t)):("none"==l?(t=null,e="none"):(t=u(l),e=s(l)),n.put(o.et,e),null==t?n.remove(o.tt):n.put(o.tt,t)),c={Oi:e,Li:f,Ni:a},a=!1},Di:function(){return c},nr:function(){},
Vi:function(n){var t=r["in"](),e=r.rn();return u(t+n)+"-cs"+e}})}a.Kr=function(n){return u("zutphen2011comScore@"+n)},n.exports=a},function(n,t,e){var i=e(0);n.exports=function(){var n,t={};i.extend(this,{Jr:function(n){return null!=t[n]},Yr:function(n){return t[n]},addLabels:function(n){i.extend(t,n)},setLabel:function(n,e){t[n]=e+""},zr:function(){return"start"==t.ns_ap_ev},getLabels:function(){return t},setLiveEndpointUrl:function(t){n=t},lr:function(){return n}})}},function(n,t,e){var i=e(2).R,
r=e(0),o=e(16);function u(n){var t,e,u,s=this;function a(){var t=new o(i.KEEPALIVE);n.Qr().Xr(t),s.start()}function f(){null!=u&&(n.Qr().$r().clearTimeout(u),u=null)}r.extend(s,{start:function(){t&&(f(),u=n.Qr().$r().setTimeout(a,e))},stop:function(){t&&f()}}),t=n.getConfiguration().Zr,e=n.getConfiguration().no}u.to=12E5,u.eo=6E4,u.ENABLED=!0,n.exports=u},function(n,t,e){var i=e(0),r=e(1);function o(n){var t,e,o,u,s,a,f=this;function c(){s++,u=0,f.resume(),n.Qr().io()}function l(){null!=o&&(n.Qr().$r().clearTimeout(o),
o=null)}i.extend(this,{ro:function(){return s},oo:function(n){var t=0;if(null!=e)for(var i=0;i<e.length;i++){var r=e[i],o=r.uo;if(!o||n<o){t=r.interval;break}}return t},resume:function(){if(t){l();var e=f.oo(n.fo().ao().so()+(r.N()-n.fo().ao().co()));if(e>0){var i=u>0?u:e;a=r.N()+i,o=n.Qr().$r().setTimeout(c,i)}u=0}},pause:function(){if(t){l();var e=f.oo(n.fo().ao().so()+(r.N()-n.fo().ao().co()));u=e-(n.fo().ao().so()+(r.N()-n.fo().ao().co()))%e}},reset:function(){t&&(l(),u=0,s=0)},lo:function(n){return null==
o?-1:a-n}}),u=0,s=0,t=n.getConfiguration()["do"],e=i.h(n.getConfiguration().vo)}o.ENABLED=!0,o._o=[{uo:6E4,interval:1E4},{uo:null,interval:6E4}],o.ho=function(n,t){if(n.length!=t.length)return!1;for(var e=0;e<n.length;++e){var i=n[e],r=t[e];if(i.uo!=r.uo)return!1;if(i.interval!=r.interval)return!1}return!0},n.exports=o},function(n,t,e){var i=e(0),r=e(1),o=e(15),u=e(50),s=e(51).po,a=e(2).M,f=e(2).R,c=e(4),l=e(52),d=l.AdvertisementType,v=e(32),_=e(55),h=e(121),p=e(16);function g(n){var t,e,g,m,y,b,
S,w,E,I,P,A,C,L,D,N,T,O,k,R,M,U,x,W,F,V,B,q,j,G,H,K,J=this;i.extend(this,{mo:function(){var t=e,i=new v,r=_.xt(i);e=new _(n,i,r),_.mo(t,e)},addLabels:function(n){null!=n&&i.extend(w,n)},getLabels:function(){return w},setLabel:function(n,t){var e={};e[n]=t,J.addLabels(e)},Yr:function(n){return w[n]},ao:function(){return e},zn:function(n,t){var r=n;r.ns_st_pa=y+(isNaN(b)?0:t-b)+"",r.ns_st_pp=T+"",r.ns_st_sp=O+"",r.ns_st_bp=k+"",C||(r.ns_st_pb="1"),e.yo()&&(r.ns_st_ppc=L+"",r.ns_st_dppc=L-D+"",r.ns_st_psq=
N+""),r.ns_st_sc=M+"",i.extend(r,S)},bo:function(){O++},So:function(){T++},wo:function(n){if(!isNaN(b)){var t=J.so();t+=n-b,J.Eo(t),b=NaN}},Io:function(n){if(!isNaN(m)){var t=J.Po();t+=n-m,J.Ao(t),m=NaN}},Po:function(){return k},Ao:function(n){k=n},so:function(){return y},Co:function(n){m=n},Lo:function(){return m},Eo:function(n){y=n},Do:function(n){b=n},co:function(){return b},No:function(){return T},To:function(n){T=n},Oo:function(){return P},ko:function(n,i,r){var o;if(e.Ro(e.Mo()),e.Uo(e.xo()),
!q||n!=a.IDLE&&n!=a.PLAYBACK_NOT_STARTED&&n!=a.BUFFERING_BEFORE_PLAYBACK&&n!=a.SEEKING_BEFORE_PLAYBACK&&i!=a.PLAYING)if(n==a.IDLE){var s=t.Wo();o=u.Fo(e.Yr("ns_st_ad"))||j&&1==F?0:I[e.Vo()]&&s&&s.Vo()==e.Vo()?e.Bo():0}else o=n==a.PLAYING?e.qo(r):e.Bo();else o=V,q=!1;e.jo(o),e.Go(r)},Ho:function(n,t,i){var r,o=e.Ko();e.Ro(e.Mo()),e.Uo(e.xo()),e.Jo()?n==a.IDLE||n==a.BUFFERING_BEFORE_PLAYBACK||n==a.SEEKING_BEFORE_PLAYBACK||n==a.PLAYBACK_NOT_STARTED||t==a.PLAYING?(G?(G=!1,o=B):o=e.Yo(i),r=e.zo(i,o)):
n==a.PLAYING?(o=e.Xo(i),r=e.Qo(i)):(o=e.Yo(i),r=e.zo(i,o)):(G&&(G=!1,o=B),r=e.$o()-o),e.jo(r),e.Go(i),e.Zo(o),e.nu(i)},tu:function(){var n,i=t.Wo();n=u.Fo(e.Yr("ns_st_ad"))?1:j?F:I[e.Vo()]&&I[e.Vo()]&&i&&i.Vo()==e.Vo()?e.eu()?e.iu():e.iu()+1:1,e.ru(n),j=!1},ou:function(){t.uu(e),g&&t.uu(g);var n=e.su();if(A<n&&(A=n),u.Fo(e.Yr("ns_st_ad"))){var i=o.xt(e.getLabels(),s),r=parseInt(e.Yr("ns_st_an"));if((null==x[i]||x[i]<r)&&(x[i]=r),W[e.Vo()]=K,e.Jr("ns_st_rcn")){var a=parseInt(e.Yr("ns_st_rcn"));A<a&&
(A=a)}}E&&(J.bo(),J.au(0),E=!1),P=!0},fu:function(){I[e.Vo()]=!0,u.Fo(e.Yr("ns_st_ad"))||(1==e.iu()?H[e.Vo()]=1:(null==H[e.Vo()]&&(H[e.Vo()]=0),H[e.Vo()]++));for(var n=0;n<U.length;++n)U[n]()},cu:function(n){U.push(n)},lu:function(){return L},du:function(){L++},vu:function(n){C=n},au:function(n){N=n},_u:function(){N++},hu:function(){return S.ns_st_id},pu:function(n){n<0||(S.ns_st_ca=n+"")},gu:function(n){n<1||(S.ns_st_cp=n+"")},setMediaPlayerName:function(n){n&&(S.ns_st_mp=n+"")},setMediaPlayerVersion:function(n){n&&
(S.ns_st_mv=n+"")},setImplementationId:function(n){n&&(S.cs_impid=n+"")},loopPlaybackSession:function(){for(var n in I)if(I.hasOwnProperty(n)){var i=t.ao(n);i&&(i.Ro(0),i.mu(0),i.yu(!1),i.setDvrWindowLength(0),i.Zo(0)),I[n]=!1}J.startFromSegment(1),e.bu(!0),E=!0},startFromSegment:function(n){F=n,j=!0},startFromPosition:function(n){V=n,q=!0},startFromDvrWindowOffset:function(n){B=n,G=!0},Su:function(n){e.yo()&&(D=parseInt(n.ns_st_ppc)),R=!1},wu:function(i){if(n.Iu().Eu("setMetadata",i),i&&(i instanceof
v||i instanceof l)){var r=i.getMetadataLabels();if(n.Iu().Pu("Passed labels:",r),u.Fo(r.ns_st_ad)){if(null==r.ns_st_bn){var c=r.ns_st_ct;if((c=null!=c?c.slice(2):null)==d.ON_DEMAND_PRE_ROLL||c==d.BRANDED_ON_DEMAND_PRE_ROLL)r.ns_st_bn="1";else if(c==d.ON_DEMAND_POST_ROLL||c==d.BRANDED_ON_DEMAND_POST_ROLL)r.ns_st_bn="1";else if(c==d.ON_DEMAND_MID_ROLL||c==d.BRANDED_ON_DEMAND_MID_ROLL){var h="";i instanceof l&&i.getRelatedContentMetadata()&&(h=_.xt(i.getRelatedContentMetadata().getMetadataLabels())),
h&&null!=H[h]?r.ns_st_bn=H[h]:r.ns_st_bn="1"}}if(null==r.ns_st_an){var m=o.xt(r,s),y=1;null!=x[m]&&(y=x[m]+1),r.ns_st_an=y+""}!function(){if(null==r.ns_st_rcn){var n,e="";if(i instanceof l&&i.getRelatedContentMetadata()&&(e=_.xt(i.getRelatedContentMetadata().getMetadataLabels())),e)if(t.Au(e))n=t.ao(e).su();else n=null==r.ns_st_cn?A+2:parseInt(r.ns_st_cn)+1;else n=0;r.ns_st_rcn=n+""}}()}var b=_.xt(r),S="";i instanceof l&&i.getRelatedContentMetadata()&&(S=_.xt(i.getRelatedContentMetadata().getMetadataLabels()));
var w=e;if(b==w.Vo()&&!(j||q||E||null!=r.ns_st_pn))return n.Iu().Pu("Updating existing asset labels with the newly provided ones:",r),w.Cu(),w.Lu(),w.addLabels(r),void J.Du(i,w);var I,P=n.Tu().Nu();if(P!=a.IDLE){n.Iu().Pu("Ending the current Clip. It was in state:",o.Mt(P));var C=new p(f.END);C.Vt.ns_st_ae="1",n.Qr().Ou(C)}if(t.Au(b)?((I=t.ao(b)).ku(),I.Cu(),I.Lu(),I.addLabels(r)):(I=new _(n,r,b),null==r.ns_st_cn?I.Ru(A+1):I.Ru(parseInt(r.ns_st_cn))),function(){if(i instanceof l&&i.getRelatedContentMetadata()){var e=
i.getRelatedContentMetadata().getMetadataLabels(),r=_.xt(e);t.Au(r)?g=t.ao(r):(g=new _(n,e,r)).Ru(I.su()+1)}else g=null}(),u.Fo(I.Yr("ns_st_ad"))&&function(){var n;if(S)if(t.Au(S)){var e=I.Yr("ns_st_ct");n=(e=null!=e?e.slice(2):null)==d.ON_DEMAND_PRE_ROLL||e==d.BRANDED_ON_DEMAND_PRE_ROLL?0:t.ao(S).Mo()}else n=0;else n=0;I.Mu("ns_st_cpo",n+"")}(),J.Du(i,I),E&&I.bu(!0),e=I,K=S,R||M++,R=!0,n.getConfiguration().Uu)if(P==a.PLAYING){n.Iu().Pu("Resuming the new Asset.");var L=new p(f.PLAY);L.Vt.ns_st_ae=
"1",n.Qr().Ou(L)}else P!=a.BUFFERING_DURING_PLAYBACK&&P!=a.PAUSED_DURING_BUFFERING||(n.Iu().Pu("Starting buffering the new Asset."),n.Qr().Ou(new p(f.BUFFER)),n.Qr().xu())}else n.Iu().Pu("Ignoring API call. An AssetMetadata object was expected and received instead:",i)},Du:function(n,t){if(n instanceof l){var e=n.getStacks(),i=n.getRelatedContentMetadata()?n.getRelatedContentMetadata().getStacks():null,r=[];for(var o in e)if(e.hasOwnProperty(o)){var u=e[o],s=i&&i[o]||null;r.push(o);var a=u.getMetadataLabels(s);
t.Wu(o,a)}if(i)for(var f in i)if(i.hasOwnProperty(f)&&-1==r.indexOf(f)){var c=i[f];t.Wu(f,c.getMetadataLabels())}}else{var d=n.getStacks();for(var v in d)if(d.hasOwnProperty(v)){var _=d[v];t.Wu(v,_.getMetadataLabels())}}}}),function(){t=new h;var i=(new v).getMetadataLabels(),o=_.xt(i);e=new _(n,i,o),g=null,(S={}).ns_st_id=r.uuid(),S.ns_st_mp=c.Mn,S.ns_st_mv=c.Mn,w={},E=!1,I={},m=NaN,y=0,b=NaN,A=0,P=!1,C=!1,L=0,D=0,T=0,N=0,O=1,k=0,R=!0,M=1,U=[],x={},W={},F=-1,V=0,B=0,q=!1,j=!1,G=!1,H={},K=null}()}
g.Fu=function(n,t,e){for(var i=t.ao(),r=t.getLabels(),o={},u=0;e&&u<e.length;u++)r.hasOwnProperty(e[u])&&(o[e[u]]=r[e[u]]);n.fo().addLabels(o),_.mo(i,n.fo().ao(),e)},g.Vu=!0,n.exports=g},function(n,t){var e=e||{};e.Fo=function(n,t){return t=t||!1,n?"0"!=n:t},e.Bu=function(n,t){return null==n||isNaN(n)?t||0:parseInt(n)},e.qu=function(n,t){var e=Number(n);return null==n||isNaN(e)?t||0:e},e.toString=function(n){if(void 0===n)return"undefined";if("string"==typeof n)return n;if(n instanceof Array)return n.join(",");
var t="";for(var e in n)n.hasOwnProperty(e)&&(t+=e+":"+n[e]+";");return t||n.toString()},n.exports.Fo=e.Fo,n.exports.Bu=e.Bu,n.exports.qu=e.qu,n.exports.toString=e.toString},function(n,t){n.exports={ju:["ns_st_ci","ns_st_pu","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_st","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","c3","c4","c6","ns_st_tpr","ns_st_tep","ns_st_stc","ns_st_sta","ns_st_amg","ns_st_ami","ns_st_amt","ns_st_dt","ns_st_tm","ns_st_ddt",
"ns_st_dtm","ns_st_tdt","ns_st_ttm"],po:["ns_st_ci","ns_st_pu","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_st","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_ta","c3","c4","c6","ns_st_tpr","ns_st_tep","ns_st_stc","ns_st_sta","ns_st_dt","ns_st_tm","ns_st_ddt","ns_st_dtm","ns_st_tdt","ns_st_ttm"]}},function(n,t,e){var i=e(0),r=e(8),o=e(53),u=e(32);function s(){var n,t,e,s,f,c=this,l=new o,d=["ns_st_ct","ns_st_li","ns_st_ty","ns_st_cl","ns_st_fee","ns_st_cs","ns_st_cu"];
function v(n,t){r.Yn(f,n,t)}n=null,t={},s=!1,f={},v("ns_st_li","0"),v("ns_st_ty","video"),v("ns_st_ad","1"),v("ns_st_tp","1"),i.extend(c,l),i.extend(c,{setRelatedContentMetadata:function(t){t instanceof u||(t=null),n=t},getRelatedContentMetadata:function(){return n},setMediaType:function(n){if(null!=n){v("ns_st_ct",(s?"aa":"va")+(e=n));var t="1";e==a.ON_DEMAND_PRE_ROLL||e==a.BRANDED_ON_DEMAND_PRE_ROLL?t="pre-roll":e==a.ON_DEMAND_MID_ROLL||e==a.BRANDED_ON_DEMAND_MID_ROLL?t="mid-roll":e!=a.ON_DEMAND_POST_ROLL&&
e!=a.BRANDED_ON_DEMAND_POST_ROLL||(t="post-roll"),v("ns_st_ad",t),e==a.LIVE||e==a.BRANDED_DURING_LIVE?v("ns_st_li","1"):v("ns_st_li","0")}},classifyAsAudioStream:function(n){null==n&&(n=!0),s=n,null==e?delete f["ns_st_ct"]:v("ns_st_ct",(s?"aa":"va")+e),v("ns_st_ty",s?"audio":"video")},setVideoDimensions:function(n,t){v("ns_st_cs",(n=n||0)+"x"+(t=t||0))},setLength:function(n){v("ns_st_cl",n)},setBreakNumber:function(n){v("ns_st_bn",n)},setTotalBreaks:function(n){v("ns_st_tb",n)},setNumberInBreak:function(n){v("ns_st_an",
n)},setTotalInBreak:function(n){v("ns_st_ta",n)},setClipUrl:function(n){v("ns_st_cu",n)},setServer:function(n){v("ns_st_ams",n)},setCallToActionUrl:function(n){v("ns_st_amc",n)},setDeliveryType:function(n){v("ns_st_amd",n)},setOwner:function(n){v("ns_st_amo",n)},setStack:function(n,e){t[n]=e},getStacks:function(){return t},getStandardLabels:function(){return i.extend({},l.getStandardLabels(),f)},getMetadataLabels:function(){var t={};if(n){var e=n.getStandardLabels();for(var r in e)e.hasOwnProperty(r)&&
-1==d.indexOf(r)&&(t[r]=e[r])}return i.extend(t,c.getStandardLabels(),n?n.getCustomLabels():null,c.getCustomLabels())}})}var a={ON_DEMAND_PRE_ROLL:"11",ON_DEMAND_MID_ROLL:"12",ON_DEMAND_POST_ROLL:"13",LIVE:"21",BRANDED_ON_DEMAND_PRE_ROLL:"31",BRANDED_ON_DEMAND_MID_ROLL:"32",BRANDED_ON_DEMAND_POST_ROLL:"33",BRANDED_AS_CONTENT:"34",BRANDED_DURING_LIVE:"35",OTHER:"00"};s.AdvertisementType=a,s.AdvertisementDeliveryType={NATIONAL:"national",LOCAL:"local",SYNDICATION:"syndication"},s.AdvertisementOwner=
{DISTRIBUTOR:"distributor",ORIGINATOR:"originator",MULTIPLE:"mp",NONE:"none"},n.exports=s},function(n,t,e){var i=e(0),r=e(8),o=e(15);n.exports=function(){var n,t;function e(t,e){r.Yn(n,t,e)}n={},t={},i.extend(this,{setFee:function(n){e("ns_st_fee",n)},setUniqueId:function(n){e("ns_st_ami",n)},setTitle:function(n){e("ns_st_amt",n)},setServerCampaignId:function(n){e("ns_st_amg",n)},setPlacementId:function(n){e("ns_st_amp",n)},setSiteId:function(n){e("ns_st_amw",n)},addCustomLabels:function(n){"object"!=
typeof n&&(n={}),t=o.Tt(n)},getCustomLabels:function(){return t},getStandardLabels:function(){return n},getMetadataLabels:function(){return i.extend({},n,t)}})}},function(n,t,e){var i=e(0),r=e(8),o=e(15),u=e(120);function s(){var n,t;function e(t,e){r.Yn(n,t,e)}n={},t={},i.extend(this,{setUniqueId:function(n){e("ns_st_ci",n)},setPublisherName:function(n){e("ns_st_pu",n)},setProgramTitle:function(n){e("ns_st_pr",n)},setEpisodeTitle:function(n){e("ns_st_ep",n)},setEpisodeSeasonNumber:function(n){e("ns_st_sn",
n)},setEpisodeNumber:function(n){e("ns_st_en",n)},setGenreName:function(n){e("ns_st_ge",n)},setGenreId:function(n){e("ns_st_tge",n)},setDateOfProduction:function(n,t,i){e("ns_st_dt",a(n,t,i))},setTimeOfProduction:function(n,t){e("ns_st_tm",f(n,t))},setDateOfDigitalAiring:function(n,t,i){e("ns_st_ddt",a(n,t,i))},setTimeOfDigitalAiring:function(n,t){e("ns_st_dtm",f(n,t))},setDateOfTvAiring:function(n,t,i){e("ns_st_tdt",a(n,t,i))},setTimeOfTvAiring:function(n,t){e("ns_st_ttm",f(n,t))},setStationTitle:function(n){e("ns_st_st",
n)},setStationCode:function(n){e("ns_st_stc",n)},setProgramId:function(n){e("ns_st_tpr",n)},setEpisodeId:function(n){e("ns_st_tep",n)},setFee:function(n){e("ns_st_fee",n)},setPlaylistTitle:function(n){e("ns_st_pl",n)},setNetworkAffiliate:function(n){e("ns_st_sta",n)},setDeliveryMode:function(n){e("ns_st_cde",n)},setDeliverySubscriptionType:function(n){e("ns_st_cds",n)},setDeliveryComposition:function(n){e("ns_st_cdc",n)},setDeliveryAdvertisementCapability:function(n){e("ns_st_cda",n)},setDistributionModel:function(n){e("ns_st_cdm",
n)},setMediaFormat:function(n){e("ns_st_cmt",n)},setDictionaryClassificationC3:function(n){e("c3",n)},setDictionaryClassificationC4:function(n){e("c4",n)},setDictionaryClassificationC6:function(n){e("c6",n)},addCustomLabels:function(n){"object"!=typeof n&&(n={}),t=o.Tt(n)},getStandardLabels:function(){return n},getCustomLabels:function(){return t},getMetadataLabels:function(){return i.extend({},n,t)}})}function a(n,t,e){return u.Gu(4,n)+"-"+u.Gu(2,t)+"-"+u.Gu(2,e)}function f(n,t){return u.Gu(2,n)+
":"+u.Gu(2,t)}s.ContentDeliveryMode={LINEAR:"linear",ON_DEMAND:"ondemand"},s.ContentDeliverySubscriptionType={TRADITIONAL_MVPD:"mvpd_auth",VIRTUAL_MVPD:"virtualmvpd",SUBSCRIPTION:"svod",ADVERTISING:"avod",TRANSACTIONAL:"tvod",PREMIUM:"pvod"},s.ContentDeliveryComposition={CLEAN:"clean",EMBED:"embedded"},s.ContentDeliveryAdvertisementCapability={NONE:"none",DYNAMIC_LOAD:"dai",DYNAMIC_REPLACEMENT:"dar",LINEAR_1DAY:"lai-c1",LINEAR_2DAY:"lai-c2",LINEAR_3DAY:"lai-c3",LINEAR_4DAY:"lai-c4",LINEAR_5DAY:"lai-c5",
LINEAR_6DAY:"lai-c6",LINEAR_7DAY:"lai-c7"},s.ContentDistributionModel={TV_AND_ONLINE:"to",EXCLUSIVELY_ONLINE:"eo"},s.ContentMediaFormat={FULL_CONTENT_GENERIC:"fc",FULL_CONTENT_EPISODE:"fc01",FULL_CONTENT_MOVIE:"fc02",FULL_CONTENT_PODCAST:"fc03",PARTIAL_CONTENT_GENERIC:"pc",PARTIAL_CONTENT_EPISODE:"pc01",PARTIAL_CONTENT_MOVIE:"pc02",PARTIAL_CONTENT_PODCAST:"pc03",PREVIEW_GENERIC:"pv",PREVIEW_EPISODE:"pv01",PREVIEW_MOVIE:"pv02",EXTRA_GENERIC:"ec",EXTRA_EPISODE:"ec01",EXTRA_MOVIE:"ec02"},n.exports=s},
function(n,t,e){var i=e(0),r=e(15),o=e(51).ju;function u(n,t,e){t=t||{},e=e||"";var o,u,s,a,f,c,l,d,v,_,h,p,g,m,y,b,S,w,E,I,P,A,C,L,D,N,T,O,k,R,M,U,x,W,F,V,B,q,j,G,H,K,J,Y,z,X,Q,$,Z,nn,tn,en,rn,on,un,sn,an,fn,cn,ln,dn,vn,_n,hn,pn,gn,mn,yn,bn,Sn,wn,En,In,Pn,An,Cn,Ln,Dn,Nn,Tn=this;function On(n){var t={},e=[];for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];if(i.length>=2&&"c"==i[0]&&i[1].charCodeAt(0)>="a".charCodeAt(0)&&i[1].charCodeAt(0)<="z".charCodeAt(0)&&"p"!=i[1]&&"s"!=i[1]){var o=i[1];if(i.length>
3&&"_"==i[2])(t[o]=t[o]||{})[i.substring(3,i.length)]=r,e.push(i);else if(3==i.length&&i[2]>="0"&&i[2]<="9")(t[o]=t[o]||{})["c"+i[2]]=r,e.push(i)}}for(var u=0;u<e.length;++u)delete n[e[u]];for(var s in t){var a=t[s],f=a.c2;f&&(delete a.c2,Tn.Wu(f,a))}}i.extend(Tn,{Wu:function(n,t){f[n]=f[n]||{},i.extend(f[n],t)},Lu:function(){f={}},getStacks:function(){return f},Vo:function(){return u},Hu:function(n){T=n},Ku:function(){return T},Mu:function(n,t){s[n]=t},Ju:function(n){return s[n]},Yu:function(n){return null!=
s[n]},addLabels:function(n){On(n),i.extend(a,n)},getLabels:function(){return a},setLabel:function(n,t){a[n]=t},Cu:function(){a={}},Yr:function(n){return a[n]},Jr:function(n){return null!=a[n]},su:function(){return parseInt(Tn.Ju("ns_st_cn"))},Ru:function(n){Tn.Mu("ns_st_cn",n+"")},ru:function(n){Ln=n,Dn=!0},iu:function(){return Ln},eu:function(){return Dn},zn:function(n,t,e){var u,a=n,f=parseInt(a.ns_st_po);u=e&&Cn<0&&p-f>0?P+p-f:e&&Cn>0&&f-p>0?P+f-p:P,a.ns_st_ap=u+"",a.ns_st_dap=u-A+"",a.ns_st_iap=
u-C+"",a.ns_st_pt=d+(isNaN(v)?0:t-v)+"",a.ns_st_dpt=d+(isNaN(v)?0:t-v)-_+"",a.ns_st_ipt=d+(isNaN(v)?0:t-v)-h+"",a.ns_st_et=m+(isNaN(y)?0:t-y)+"",a.ns_st_det=m+(isNaN(y)?0:t-y)-b+"",a.ns_st_iet=m+(isNaN(y)?0:t-y)-L+"",a.ns_st_bt=j+"",a.ns_st_dbt=j+(isNaN(G)?0:t-G)-H+"",a.ns_st_ibt=j+(isNaN(G)?0:t-G)-z+"";var l=O,g=k;e&&(l=r.Rt(O,Cn<0?f:R,Cn<0?R:f,T),g=r.Rt(k,Cn<0?f:R,Cn<0?R:f,T));for(var S,I=0,X=0,Q=0;Q<l.length;Q++)I+=S=Math.abs(l[Q].end-l[Q].start),S>X&&(X=S);var nn=0,tn=0;for(Q=0;Q<g.length;Q++)nn+=
S=Math.abs(g[Q].end-g[Q].start),S>tn&&(tn=S);a.ns_st_upc=I+"",a.ns_st_dupc=I-M+"",a.ns_st_iupc=I-U+"",a.ns_st_lpc=X+"",a.ns_st_dlpc=X-x+"",a.ns_st_ilpc=X-N+"",a.ns_st_upa=nn+"",a.ns_st_dupa=nn-W+"",a.ns_st_iupa=nn-F+"",a.ns_st_lpa=tn+"",a.ns_st_dlpa=tn-V+"",a.ns_st_ilpa=tn-D+"",a.ns_st_pc=un+"",a.ns_st_dpc=un-sn+"",a.ns_st_skc=an+"",a.ns_st_dskc=an-fn+"",a.ns_st_bc=K+"",a.ns_st_dbc=K-J+"",a.ns_st_ibc=K-Y+"",a.ns_st_skt=$+"",a.ns_st_dskt=$-Z+"",a.ns_st_ska=en+"",a.ns_st_dska=en-rn+"",o&&(a.ns_st_spc=
cn+"",a.ns_st_dspc=cn-B+"",a.ns_st_apc=ln+"",a.ns_st_dapc=ln-q+"",a.ns_st_sq=dn+"",a.ns_st_asq=vn+""),a.ns_st_dtpc=Sn-wn+"",a.ns_st_itpc=Sn-En+"",a.ns_st_dcpc=pn-gn+"",a.ns_st_icpc=pn-mn+"",a.ns_st_rt=Cn+"",a.ns_st_ldw=w,a.ns_st_ldo=E,a.ns_st_pn=Ln+"",a.ns_st_lda=c?"1":"0",i.extend(a,s)},Su:function(n){_=parseInt(n.ns_st_pt),A=parseInt(n.ns_st_ap),b=parseInt(n.ns_st_et),H=parseInt(n.ns_st_bt),M=parseInt(n.ns_st_upc),x=parseInt(n.ns_st_lpc),W=parseInt(n.ns_st_upa),V=parseInt(n.ns_st_lpa),sn=parseInt(n.ns_st_pc),
fn=parseInt(n.ns_st_skc),J=parseInt(n.ns_st_bc),Z=parseInt(n.ns_st_skt),rn=parseInt(n.ns_st_ska),o&&(B=parseInt(n.ns_st_spc),q=parseInt(n.ns_st_apc)),wn=Sn,gn=pn,Tn.zu(0)},Xu:function(n){h=parseInt(n.ns_st_pt),U=parseInt(n.ns_st_upc),F=parseInt(n.ns_st_upa),C=parseInt(n.ns_st_ap),L=parseInt(n.ns_st_et),D=parseInt(n.ns_st_lpa),N=parseInt(n.ns_st_lpc),z=parseInt(n.ns_st_bt),Y=parseInt(n.ns_st_bc),En=Sn,mn=pn},Qu:function(){return Tn.Ju("ns_st_vt")},$u:function(n){Tn.Mu("ns_st_vt",n+"")},Zu:function(){return Tn.Ju("ns_st_at")},
ns:function(n){Tn.Mu("ns_st_at",n+"")},ts:function(){return Tn.Ju("ns_st_tt")},es:function(n){Tn.Mu("ns_st_tt",n+"")},rs:function(){return Tn.Ju("ns_st_cdn")},os:function(n){Tn.Mu("ns_st_cdn",n+"")},So:function(){un++},us:function(){an++},bo:function(){dn++},ss:function(){return dn},jo:function(n){_n=n},Go:function(n){hn=n},xo:function(){return hn},Mo:function(){return _n},Po:function(){return j},Ao:function(n){j=n},Io:function(n){if(!isNaN(G)){var t=Tn.Po();t+=n-G,Tn.Ao(t),G=NaN}},as:function(n){R=
parseInt(n)},fs:function(){return R},cs:function(n){isNaN(R)||isNaN(n)||(O=r.Rt(O,Cn<0?n:R,Cn<0?R:n,T),k=r.Rt(k,Cn<0?n:R,Cn<0?R:n,T),R=NaN)},ls:function(n){var t=k;null!=n&&(t=r.Rt(k,Cn<0?_n:R,Cn<0?R:_n,T)),In||Pn||(t.length>1||0==t.length||t[0].start-T>0?In=!0:t[0].end-t[0].start>=3E3&&(Pn=!0,Sn++)),yn||bn||(t.length>1||0==t.length||t[0].start-T>0?yn=!0:t[0].end-t[0].start>=Nn&&(bn=!0,pn++))},ds:function(){return m},vs:function(n){m=n},_s:function(n){if(!isNaN(y)){var t=Tn.ds();t+=n-y,Tn.vs(t),y=
NaN}},hs:function(){return y},ps:function(n){y=n},wo:function(n){isNaN(v)||(d+=n-v,v=NaN)},so:function(){return d},qo:function(n){var t=p;return t+=Math.floor((n-g)*Cn/100)},Qo:function(n){return p+Math.floor((n-I)*Cn/100)},zo:function(n,t){return p+E-t+n-I},Xo:function(n){return E+Math.floor((n-I)*(1-Cn/100))},Yo:function(n){return E+n-I},Ro:function(n){p=n},Uo:function(n){g=n},gs:function(){return g},Bo:function(){return p},co:function(){return v},Do:function(n){v=n},ms:function(n){_=n},Lo:function(){return G},
Co:function(n){G=n},No:function(){return un},To:function(n){un=n},ys:function(){return an},bs:function(n){an=n},Ss:function(n){X=n},ws:function(){return X},Es:function(n){tn=n},Is:function(){return tn},Jo:function(){return l},yu:function(n){l=n},Ps:function(n){o=n},yo:function(){return o},As:function(n){Q=n},Cs:function(){return Q},Ls:function(n){if(!isNaN(Q)){var t=Tn.Ds();t+=n-Q,Tn.Ns(t),Q=NaN}},Ds:function(){return $},Ns:function(n){$=n},Ts:function(n){on=n},Os:function(){return on},ks:function(n){nn=
n},Rs:function(){return nn},Ms:function(n){en=n},Us:function(){return en},xs:function(n){var t,e=Tn.Us();e+=Math.abs(n-nn),Tn.Ms(e),nn==n?t=0:nn>n?t=-1:nn<n&&(t=1),Tn.zu(t),nn=0},Ws:function(){return parseInt(Tn.Ju("ns_st_skd"))},zu:function(n){Tn.Mu("ns_st_skd",n+"")},Fs:function(){d=0,_=0,h=0,j=0,H=0,z=0,K=0,J=0,Y=0,un=0,sn=0,dn=0,L=0,m=0,b=0,$=0,Z=0,en=0,rn=0,an=0,fn=0,Dn=!1},Vs:function(){cn++},Bs:function(){ln++},qs:function(){P=0,A=0,C=0,k=[],W=0,F=0,V=0,D=0,In=!1,Pn=!1,yn=!1,bn=!1},js:function(n){cn=
n},mu:function(n){S=n},Gs:function(){return cn},Hs:function(){return S},Ks:function(){return K},Js:function(){K++},Ys:function(){return H},au:function(n){vn=n},_u:function(){vn++},zs:function(){return vn},Xs:function(){return An},bu:function(n){An=n},Qs:function(){return Cn},$s:function(n){Cn=n},Zs:function(n){Cn<0&&p-n>0?P+=p-n:Cn>0&&n-p>0&&(P+=n-p)},setDvrWindowLength:function(n){w=n},$o:function(){return w},Zo:function(n){E=n},nu:function(n){I=n},na:function(){return I},Ko:function(){return E},
ta:function(n){c=n},ea:function(){return c},ku:function(){An=!1}}),(s={}).ns_st_cl="0",s.ns_st_tp="0",s.ns_st_cn="1",s.ns_st_skd="0",s.ns_st_ci="0",s.ns_st_cn="1",s.c3="*null",s.c4="*null",s.c6="*null",s.ns_st_st="*null",s.ns_st_pu="*null",s.ns_st_pr="*null",s.ns_st_ep="*null",s.ns_st_sn="*null",s.ns_st_en="*null",s.ns_st_ct="*null",f={},On(t),a=t,o=!1,c=!1,l=!1,d=0,v=NaN,p=0,_=0,m=0,_n=0,hn=NaN,y=NaN,S=0,b=0,h=0,w=0,E=0,I=NaN,P=0,A=0,C=0,L=0,D=0,N=0,R=NaN,O=[],k=[],M=0,U=0,x=0,W=0,F=0,V=0,B=0,q=
0,j=0,G=NaN,H=0,K=0,J=0,Y=0,z=0,X=!1,Q=NaN,tn=!1,nn=0,on=0,$=0,Z=0,en=0,rn=0,un=0,sn=0,an=0,fn=0,cn=0,ln=0,dn=0,vn=0,pn=0,gn=0,mn=0,yn=!1,bn=!1,Sn=0,wn=0,En=0,In=!1,Pn=!1,An=!1,Cn=100,Ln=1,Dn=!1,u=e,T=n.getConfiguration().ia,Nn=n.getConfiguration().ra}u.xt=function(n){return null==n.ns_st_cn?r.xt(n,o):n.ns_st_cn+""},u.mo=function(n,t,e){for(var i=n.getLabels(),r={},o=0;e&&o<e.length;++o)i.hasOwnProperty(e[o])&&(r[e[o]]=i[e[o]]);t.addLabels(r),t.Hu(n.Ku())},u.oa=500,u.ua=500,u.sa=3E3,n.exports=u},
function(n,t,e){var i=e(57);n.exports=i,n.exports.analytics=i},function(n,t,e){var i,r=e(0),o=e(33),u=e(29),s=e(9),a=e(13),f=e(3),c=e(102);i=new function(){r.extend(this,{StreamingAnalytics:c,PlatformAPIs:f.On.PlatformApis,PlatformApi:f.On,ConnectivityType:s,EventInfo:u,configuration:o.configuration.Lr,version:a.VERSION,start:function(){o.start()},notifyHiddenEvent:function(n){o.$i(n)},notifyViewEvent:function(n){o.Zi(n)},notifyDistributedContentViewEvent:function(n,t){o.notifyDistributedContentViewEvent(n,
t)},notifyUxActive:function(){o.notifyUxActive()},notifyUxInactive:function(){o.notifyUxInactive()},notifyEnterForeground:function(){o.notifyEnterForeground()},notifyExitForeground:function(){o.notifyExitForeground()},flushOfflineCache:function(){o.flushOfflineCache()},clearOfflineCache:function(){o.clearOfflineCache()},clearInternalData:function(){o.clearInternalData()}})},n.exports=i},function(n,t){n.exports={oe:function(n){return!(null==n||""==n||"0"==n)}}},function(n,t,e){var i=e(3).kn,r=e(24),
o=e(1);function u(n,t,e){var i=n.ns_ts,r="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,o="",u=!1;for(var s in n)null==t[s]&&"ns_ts"!=s&&(u&&(o+="\x26"),u=!0,o+=r(s)+"\x3d"+r(n[s]));return e.push(o),'\x3cevent t\x3d"'+i+'"\x3e'+o+"\x3c/event\x3e"}var s={Rr:function(n,t,e){var s=function(n){var t={};return t.c12=n.getPublisherConfigurations()[0].getPublisherUniqueDeviceId(),t.c1="19",t.ns_ap_pn=i.an(),t.ns_ap_an=n.tn(),t.ns_ap_device=i.un(),t}(n),a="";for(var f in a+='\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" ?\x3e\n\x3cevents ',
a+='t\x3d"'+o.N()+'" ',s)a+=f+'\x3d"'+s[f]+'" ';a+='dropped\x3d"'+e+'" ';for(var c=[],l="",d=0;d<t.length;++d)l+="    "+u(t[d],s,c)+"\n";return a+='md5\x3d"'+r(c.join(""))+'" ',a+="\x3e\n",a+=l,a+="\x3c/events\x3e"}};n.exports=s},function(n,t,e){var i=e(0);n.exports=function(n){i.extend(this,{PlatformApis:n.PlatformApis,setPlatformAPI:n.setPlatformApi,setPlatformApi:n.setPlatformApi})}},function(n,t){n.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,
nodejs:9,html5:10,JSMAF:11,Skeleton:12,WebBrowser:13,SamsungTizenTV:14}},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(4),s=e(5).Wn,a=e(63),f=e(64),c=e(65),l=e(9),d=u.Mn,v=u.Un,_=null,h=null,p=null;function g(){if(null==_){var n=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var n=sf.core.sefplugin("NNAVI");if("function"!=typeof n.Open||"function"!=typeof n.Execute)return null;n.Open("Network","1.001","Network");var t=n.Execute("GetMAC",
"0");if(!o.S(t))return t;if(t=n.Execute("GetMAC","1"),!o.S(t))return t;var e=n.Execute("GetDeviceID");return o.S(e)?null:e}();null!=n?(_=n,h="31",p=n):(_=+new Date+~~(1E3*Math.random()),h="72",p=null)}}var m=i.extend({},r,{W:"smarttv",G:s,H:null,Storage:a,K:!0,J:f,Y:c,X:6E4,nn:function(){return g(),p},en:function(){return"undefined"!=typeof sf&&o.A(sf.env)&&o.A(sf.env.getAppVersion)&&sf.env.getAppVersion()||d},"in":function(){return g(),_},rn:function(){return h},un:function(){return"undefined"!=
typeof sf&&o.A(sf.core)&&o.A(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||d},sn:function(){return"2.0.0"},fn:function(){if("undefined"!=typeof sf&&o.A(sf.env)&&o.A(sf.env.getProductType)&&o.A(sf.env.PRODUCTTYPE_TV)&&o.A(sf.env.PRODUCTTYPE_MONITOR)&&o.A(sf.env.PRODUCTTYPE_BD)){var n=[];return n[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",n[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",n[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",n[sf.env.getProductType()]}},cn:function(){return"undefined"!=
typeof sf&&o.A(sf.env)&&o.A(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},ln:function(){if("undefined"==typeof sf||!o.A(sf.env)||!o.A(sf.env.getScreenSize))return v;var n=sf.env.getScreenSize();return n.width+"x"+n.height},vn:function(){if("undefined"!=typeof sf&&o.A(sf.env)&&o.A(sf.env.getLanguageCode))return sf.env.getLanguageCode()},pn:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return l.UNKNOWN;var n=sf.core.sefplugin("NETWORK");
if("function"!=typeof n.Open||"function"!=typeof n.Execute)return l.UNKNOWN;n.Open("Network","1.001","Network");var t=n.Execute("GetActiveType");return 0===t?l.ETHERNET:1===t?l.WIFI:l.UNKNOWN}});n.exports=m},function(n,t,e){var i,r,o,u,s=e(0);n.exports=function(n){o="undefined"!=typeof FileSystem?new FileSystem:null,u="undefined"!=typeof curWidget?curWidget.id:null,"undefined"!=typeof sf?i=r=function(n,t){sf.core.localData(n,t)}:(i=function(n,t){$.sf.setData(n,t===undefined?null:t)},r=function(n){return $.sf.getData(n)}),
null==o||"undefined"==typeof o.isValidCommonPath||o.isValidCommonPath(u)||o.createCommonDir(u),s.extend(this,{storeProperties:function(n){try{i("cs_settings",n)}catch(t){}},getProperties:function(){try{return r("cs_settings")}catch(n){}},storeCache:function(n){try{!function(n,t,e){var i=u+"/"+n;o.isValidCommonPath(i)||o.createCommonDir(i);var r=o.openCommonFile(i+"/"+t,"w");r.writeLine(e),o.closeCommonFile(r)}("cs_cache_dir","cs_cache_dir_single",n)}catch(t){}},getCache:function(){try{return function(n,
t){var e=u+"/"+n;if(!o.isValidCommonPath(e))return null;var i=o.openCommonFile(e+"/"+t,"r");if(i){var r=i.aa();return o.closeCommonFile(i),r}return null}("cs_cache_dir","cs_cache_dir_single")}catch(n){}}})}},function(n,t,e){var i,r,o=e(0);"undefined"!=typeof sf?r=i=function(n,t){sf.core.localData(n,t)}:(r=function(n,t){$.sf.setData(n,t===undefined?null:t)},i=function(n){return $.sf.getData(n)});n.exports=function(){o.extend(this,{get:function(n){return i("cs_"+n)},set:function(n,t){r("cs_"+n,t)},
has:function(n){return i("cs_"+n)!==undefined},remove:function(n){r("cs_"+n,null)},clear:function(){}})}},function(n,t,e){var i,r,o=e(22),u=e(0),s=null,a=null,f={},c=!1;function l(){s="undefined"!=typeof FileSystem?new FileSystem:null,a="undefined"!=typeof curWidget?curWidget.id:null,"undefined"!=typeof sf&&(r=i=function(n,t){sf.core.localData(n,t)}),null==s||"undefined"==typeof s.isValidCommonPath||s.isValidCommonPath(a)||s.createCommonDir(a),c=!0}function d(n){return n.replace(/^\s+|\s+$/g,"")}
function v(n,t){var e=f[n];e?e.push(t):e=f[n]=[t],r("cs_dir_"+n,e.join("|"))}function _(n,t){var e=f[n],i=o.indexOf(t,e);i>=0&&(e.splice(i,1),r("cs_dir_"+n,0===e.length?null:e.join("|")))}n.exports=function(){u.extend(this,{dir:function(n){if(c||l(),s.isValidCommonPath(a+"/"+n)){var t=f[n];if(!t){if(!(t=i("cs_dir_"+n)))return null;t=f[n]=t.split("|")}for(var e=t.slice(),r=0,o=e.length;r<o;r++){var u=t[r];s.isValidCommonPath(a+"/"+n+"/"+u)||_(n,u)}return e}return null},append:function(n,t,e){c||l();
var i=a+"/"+n;s.isValidCommonPath(i)||s.createCommonDir(i),s.isValidCommonPath(i+"/"+t)||v(n,t);var r=s.openCommonFile(i+"/"+t,"a");r.writeLine(d(e)),s.closeCommonFile(r)},write:function(n,t,e){c||l();var i=a+"/"+n;s.isValidCommonPath(i)||s.createCommonDir(i),s.isValidCommonPath(i+"/"+t)||v(n,t);var r=s.openCommonFile(i+"/"+t,"w");r.writeLine(d(e)),s.closeCommonFile(r)},deleteFile:function(n,t){c||l();var e=a+"/"+n;return!!s.isValidCommonPath(e)&&(_(n,t),s.deleteCommonFile(e+"/"+t))},read:function(n,
t){c||l();var e=a+"/"+n;if(!s.isValidCommonPath(e))return null;var i=s.openCommonFile(e+"/"+t,"r");if(i){for(var r,o=[];r=i.readLine();)o.push(r);return s.closeCommonFile(i),o.join("\n")}return _(n,t),""}})}},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(4),s=e(12),a=e(5).Wn,f=e(7),c=e(10),l=e(9),d=u.Mn,v=u.Un,_=null,h=null,p=null;function g(){if(null==_){var n=function(){if("undefined"!=typeof ns_&&o.A(ns_.netcastDevice)){if(o.A(ns_.netcastDevice.net_macAddress)&&o.I(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;
if(o.A(ns_.netcastDevice.serialNumber)&&o.I(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();null!=n?(_=n,h="31",p=n):(_=+new Date+~~(1E3*Math.random()),h="72",p=null)}}var m=i.extend({},r,{W:"netcast",G:function(){return"undefined"!=typeof Image?s.apply(this,arguments):a.apply(this,arguments)},H:null,Storage:f,J:c,K:!1,X:6E4,nn:function(){return g(),p},"in":function(){return g(),_},rn:function(){return h},un:function(){return"undefined"!=typeof ns_&&o.A(ns_.netcastDevice)&&
o.A(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||d},sn:function(){return"undefined"!=typeof ns_&&o.A(ns_.netcastDevice)&&o.P(ns_.netcastDevice.version,d)||d},fn:function(){return"undefined"!=typeof ns_&&o.A(ns_.netcastDevice)?"lg-ott"+o.P(ns_.netcastDevice.platform,d):d},cn:function(){if("undefined"!=typeof ns_&&o.A(ns_.netcastDevice)){if(o.A(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(o.A(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(o.A(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return d},
ln:function(){if("undefined"!=typeof ns_&&o.A(ns_.netcastDevice)&&o.A(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return v},vn:function(){return"undefined"!=typeof ns_&&o.A(ns_.netcastDevice)&&o.P(ns_.netcastDevice.tvLanguage2,o.P(window.navigator.language))||d},pn:function(){if("undefined"!=typeof ns_.netcastDevice){if(0===ns_.netcastDevice.networkType)return l.ETHERNET;
if(1===ns_.netcastDevice.networkType)return l.WIFI}return d}});n.exports=m},function(n,t,e){var i,r,o,u=e(0),s=e(6),a=e(4),f=e(12),c=e(5).Fn,l=e(7),d=e(14),v=e(10),_=e(9),h=a.Mn,p=a.Un;var g=u.extend({},s,{W:"webos",G:f,H:c,Storage:l,J:v,Y:d,K:!0,X:6E4,Z:function(n,t){var e=3,u=function(){0==--e&&n()};!function(n,t){webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(t){t.returnValue&&
(i=t),n()},onFailure:function(){n()}})}(u),function(n,t){webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(t){t.returnValue&&(r=t),n()},onFailure:function(){n()}})}(u),function(n,t){webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(t){t.returnValue&&(o=t),n()},onFailure:function(){n()}})}(u)},nn:function(){return"undefined"!=typeof webOS&&webOS.device&&webOS.device.serialNumber&&
"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},"in":function(){return+new Date+~~(1E3*Math.random())},rn:function(){return"72"},un:function(){return i&&i.modelName?i.modelName:h},sn:function(){return i&&i.sdkVersion?i.sdkVersion:h},fn:function(){return"webOS"},cn:function(){return"undefined"!=typeof webOS&&webOS.device?webOS.device.platformVersion:h},ln:function(){var n=0;"undefined"!=typeof webOS&&webOS.device?n=webOS.device.screenWidth:"undefined"!=typeof window&&window.screen&&
(n=window.screen.availWidth);var t=0;return"undefined"!=typeof webOS&&"undefined"!=typeof webOS.device?t=webOS.device.screenHeight:"undefined"!=typeof window&&window.screen&&(t=window.screen.availHeight),n>0&&t>0?n+"x"+t:p},vn:function(){return r&&r.locales&&(r.locales.UI||r.locales.TV)||h},pn:function(){if(o&&(o.wired||o.wifi)){if("connected"===o.wired.state&&"yes"===o.wired.onInternet)return _.ETHERNET;if("connected"===o.wifi.state&&"yes"===o.wifi.onInternet)return _.WIFI}return _.UNKNOWN}});n.exports=
g},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(4),s=e(12),a=e(5).Wn,f=e(5).Fn,c=e(7),l=e(14),d=e(10),v=u.Mn,_=u.Un,h=null,p=null,g=null;function m(){if(null==h){var n="undefined"!=typeof device&&o.A(device.uuid)&&device.uuid.length>0?device.uuid:null;null!=n?(h=n,p="31",g=n):(h=+new Date+~~(1E3*Math.random()),p="72",g=null)}}var y=i.extend({},r,{W:"cordova",G:function(){return"undefined"!=typeof Image?s.apply(this,arguments):a.apply(this,arguments)},H:f,Storage:c,K:!0,J:d,Y:l,X:6E4,nn:function(){return m(),
g},"in":function(){return m(),h},rn:function(){return p},un:function(){return"undefined"!=typeof device&&o.A(device.model)||v},sn:function(){return"undefined"!=typeof device&&o.A(device.cordova)&&device.cordova||v},fn:function(){return"undefined"!=typeof device&&o.A(device.platform)&&"cordova"+device.platform||"cordova"},cn:function(){return"undefined"!=typeof device&&o.A(device.version)||v},ln:function(){var n="undefined"!=typeof window&&o.A(window.screen)&&o.A(window.screen.availWidth)&&window.screen.availWidth||
0,t="undefined"!=typeof window&&o.A(window.screen)&&o.A(window.screen.availHeight)&&window.screen.availHeight||0;return n>0&&t>0?n+"x"+t:_},vn:function(){return"undefined"!=typeof window&&o.A(window.navigator)&&o.A(window.navigator.language)&&window.navigator.language||v}});n.exports=y},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(4),s=e(70),a=e(7),f=e(10),c=u.Mn,l=u.Un,d=null,v=null,_=null;function h(){if(null==d){var n=o.I(engine.stats.device.id)?engine.stats.device.id:o.I(engine.stats.network.mac)?
engine.stats.network.mac:null;null!=n?(d=n,v="31",_=n):(d=+new Date+~~(1E3*Math.random()),v="72",_=null)}}var p=i.extend({},r,{W:"trilithium",G:s,H:null,Storage:a,J:f,K:!1,X:6E4,nn:function(){return h(),_},tn:function(){return o.I(engine.stats.application.name)?engine.stats.application.name:c},en:function(){return o.I(engine.stats.application.version)?engine.stats.application.version:c},"in":function(){return h(),d},rn:function(){return v},un:function(){return o.P(engine.stats.device.platform,c)},
fn:function(){return"trilithium"},cn:function(){return o.P(engine.stats.device.version,c)},ln:function(){return"undefined"!=typeof screen&&"undefined"!=typeof screen.height&&"undefined"!=typeof screen.width?screen.height+"x"+screen.width:l}});n.exports=p},function(n,t){n.exports=function(n,t){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",n,null).start(),t&&setTimeout(t,0)):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},function(n,t,e){var i=e(1),r=e(4),o=e(36).Vr,
u=e(36).Br,s=e(72),a=e(73),f=r.Mn,c=r.Un,l=null,d=null,v=null;function _(){null==l&&("undefined"!=typeof atv&&"undefined"!=typeof atv.device&&atv.device.idForVendor?(l=i.P(atv.device.idForVendor,""),d="62"):(l=+new Date+~~(1E3*Math.random()),d="72"),v=null)}var h={W:"atv",G:o,H:u,Storage:s,J:a,K:!1,X:6E4,nn:function(){return _(),v},tn:function(){return f},en:function(){return f},"in":function(){return _(),l},rn:function(){return d},un:function(){return"Apple TV"},sn:function(){return"undefined"!=
typeof atv&&"undefined"!=typeof atv.device&&i.P(atv.device.softwareVersion,f)},an:function(){return"js"},fn:function(){return"atv"},cn:function(){return"undefined"!=typeof atv&&"undefined"!=typeof atv.device&&i.P(atv.device.softwareVersion,f)},ln:function(){return"undefined"!=typeof atv.device&&"undefined"!=typeof atv.device.screenFrame&&"undefined"!=typeof atv.device.screenFrame.height&&"undefined"!=typeof atv.device.screenFrame.width?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:
c},vn:function(){return"undefined"!=typeof atv&&"undefined"!=typeof atv.device&&i.P(atv.device.language,"")},setTimeout:function(n,t){return"undefined"!=typeof atv&&"undefined"!=typeof atv.setTimeout&&atv.setTimeout(n,t)},setInterval:function(n,t){return"undefined"!=typeof atv&&"undefined"!=typeof atv.setInterval&&atv.setInterval(n,t)},clearTimeout:function(n){return"undefined"!=typeof atv&&"undefined"!=typeof atv.clearTimeout&&atv.clearTimeout(n)},clearInterval:function(n){return"undefined"!=typeof atv&&
"undefined"!=typeof atv.clearInterval&&atv.clearInterval(n)}};n.exports=h},function(n,t,e){var i=e(0);n.exports=function(n){var t="undefined"!=typeof atv&&"undefined"!=typeof atv.localStorage&&atv.localStorage||null;i.extend(this,{storeProperties:function(n){if(t)try{"function"==typeof t.setItem?t.setItem("cs_settings",n):t&&(t.Kn=n)}catch(e){}},getProperties:function(){if(!t)return null;try{if("function"==typeof t.getItem)return t.getItem("cs_settings");if(t)return t.Kn}catch(n){}},storeCache:function(n){if(t)try{"function"==
typeof t.setItem?t.setItem("cs_cache",n):t&&(t.Jn=n)}catch(e){}},getCache:function(){if(!t)return null;try{if("function"==typeof t.getItem)return t.getItem("cs_cache");if(t)return t.Jn}catch(n){}}})}},function(n,t,e){var i=e(0);n.exports=function(){var n="undefined"!=typeof atv&&"undefined"!=typeof atv.localStorage&&atv.localStorage||null;i.extend(this,{get:function(t){return n&&t&&n.getItem("cs_"+t)||null},set:function(t,e){n&&t&&(n["cs_"+t]=e)},remove:function(t){n&&t&&n.removeItem("cs_"+t)},clear:function(){}})}},
function(n,t,e){var i=e(0),r=e(6),o=e(4),u=e(37).qr,s=e(37).jr,a=e(7),f=e(14),c=e(10),l=e(9),d=o.Mn,v=o.Un,_=null,h=null,p=null,g=!1,m=!1,y=!1;function b(){var n=null;if("undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=
t&&!t.fa&&t.ca&&(n=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}p=n}var S=i.extend({},r,{W:"xbox",G:u,H:s,Storage:a,J:c,Y:f,K:!0,X:6E4,nn:function(){return y||("undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){m=!0}),b(),y=!0),m&&
b(),p},tn:function(){var n=d;return"undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(n=Windows.ApplicationModel.Package.current.id.name),n},en:function(){var n=d;if("undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&
Windows.ApplicationModel.Package.current.id.version){var t=Windows.ApplicationModel.Package.current.id.version;n=t.major+"."+t.minor+"."+t.build+"."+t.revision}return n},"in":function(){return g||function(){"undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?(_=Windows.Xbox.System.Console.applicationSpecificDeviceId,h="72"):(_=this.un()+ +new Date+~~(1E3*Math.random()),h="72"),g=!0}(),_},rn:function(){return h},
un:function(){return"xbox one"},sn:function(){var n=d;return"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(n){return-1!=n.indexOf("Windows NT")}).forEach(function(t){n=t.substr(t.indexOf("Windows NT")+11,t.length-1)}),n},an:function(){return"xbox"},fn:function(){return"winjs"},cn:function(){var n=d;return"undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&
Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(n){return n&&n.id&&n.id.name&&-1!=n.id.name.indexOf("WinJS")&&n.id.version}).forEach(function(t){n=t.id.version.major+"."+t.id.version.minor+"."+t.id.version.build+"."+t.id.version.revision}),n},ln:function(){var n=v;if("undefined"!=typeof Windows&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&
Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var t=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;
n=t.rawWidth+"x"+t.rawHeight}return n},dn:function(){var n=v;return"undefined"!=typeof window&&window.innerWidth&&window.innerHeight&&(n=window.innerWidth+"x"+window.innerHeight),n},vn:function(){var n=d;return"undefined"!=typeof Windows&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(n=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),n},_n:function(){var n=
d;return"undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(n=Windows.ApplicationModel.Package.current.id.name),n},setPlatformAPI:function(){},hn:function(){var n="unknown";if("undefined"!=typeof Windows&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&
Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:n="arm";break;case 11:n="neutral";break;case 9:n="x64";break;case 0:n="x86"}return n},pn:function(){var n=l.UNKNOWN;if("undefined"!=typeof Windows&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&
Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:n=l.ETHERNET;break;case 71:n=l.WIFI}return n}});n.exports=S},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(17),s=e(4),a=e(12),f=e(5).Fn,c=e(7),l=e(14),d=e(10),
v=e(38),_=s.Mn,h=s.Un,p=i.extend({},r,{W:"chromecast",G:a,H:f,Storage:c,J:d,Y:l,K:!0,X:6E4,tn:function(){return"undefined"==typeof ns_.crm?_:ns_.crm.getApplicationData().name},"in":function(){return+new Date+~~(1E3*Math.random())},rn:function(){return"72"},un:function(){return"chromecast"},sn:function(){return cast.receiver.VERSION+"-"+o.P(u.Kt()+" "+u.Jt(),_)},fn:function(){return"html"},cn:function(){return"5"},ln:function(){var n="undefined"!=typeof window&&o.A(window.screen)&&o.A(window.screen.availWidth)?
window.screen.availWidth:0,t="undefined"!=typeof window&&o.A(window.screen)&&o.A(window.screen.availHeight)?window.screen.availHeight:0;return n>0&&t>0?n+"x"+t:h},vn:function(){return"undefined"!=typeof window&&o.A(window.navigator)&&o.P(window.navigator.language,"")||_},Pn:function(n){v.Gr(n)},An:function(n){v.Hr(n)}});n.exports=p},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(4),s=e(5).Wn,a=e(5).Fn,f=e(7),c=e(14),l=e(10),d=u.Un,v=null,_=null,h=null;function p(){null==v&&(o.S(Device.vendorIdentifier)?
(v=+new Date+~~(1E3*Math.random()),_="72"):(v=Device.vendorIdentifier,_="62"),h=v)}var g=i.extend({},r,{W:"tvos",G:s,H:a,Storage:f,K:!0,J:l,Y:c,X:6E4,nn:function(){return p(),h},tn:function(){return Device.appIdentifier},en:function(){return Device.appVersion},"in":function(){return p(),v},rn:function(){return _},un:function(){return Device.productType},sn:function(){return Device.systemVersion},fn:function(){return"tvos"},cn:function(){return Device.systemVersion},ln:function(){return d},vn:function(){return Settings.language},
_n:function(){return Device.appIdentifier}});n.exports=g},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(4),s=e(5).Wn,a=e(5).Fn,f=e(7),c=e(10),l=e(14),d=e(9),v=u.Mn,_=u.Un,h=null,p=null,g=null;function m(){if(null==h)if("undefined"!=typeof jsmaf&&o.A(jsmaf.hardwareId)){var n=jsmaf.hardwareId;h=n,p="31",g=n}else h=+new Date+~~(1E3*Math.random()),p="72",g=null}var y=i.extend({},r,{W:"jsmaf",G:s,H:a,Storage:f,K:!0,J:c,Y:l,X:6E4,nn:function(){return m(),g},"in":function(){return m(),h},rn:function(){return m(),
p},un:function(){return"undefined"!=typeof jsmaf&&o.A(jsmaf.platform)?jsmaf.platform:v},fn:function(){return"jsmaf"},cn:function(){return"undefined"!=typeof jsmaf&&o.A(jsmaf.version)?jsmaf.version:v},ln:function(){return"undefined"!=typeof jsmaf&&o.A(jsmaf.screenWidth)&&o.A(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:_},vn:function(){return"undefined"!=typeof jsmaf&&o.A(jsmaf.locale)?jsmaf.locale:v},setTimeout:function(n,t){return jsmaf.setTimeout(n,t)},setInterval:function(n,t){return jsmaf.setInterval(n,
t)},clearTimeout:function(n){return jsmaf.clearTimeout(n)},clearInterval:function(n){return jsmaf.clearInterval(n)},hn:function(){if("undefined"==typeof jsmaf||!o.A(jsmaf.platform))var n=v;return"ps3"==jsmaf.platform?n="cell":"ps4"==jsmaf.platform?n="ps4":"vita"==jsmaf.platform&&(n="vita"),n},pn:function(){return"undefined"!=typeof jsmaf&&"connected"==jsmaf.networkStatus&&o.A(jsmaf.connectionType)?"wired"==jsmaf.connectionType?d.ETHERNET:"wireless"==jsmaf.connectionType?d.WIFI:"phone"==jsmaf.connectionType?
d.WWAN:d.UNKNOWN:d.UNKNOWN}});n.exports=y},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(4),s=u.Mn,a=null,f=null,c=null;function l(){null==a&&(a=+new Date+~~(1E3*Math.random()),f="72",c=null)}function d(n,t){var i=this,r=0;i.send=function(o){var u=o.match(/^https/)?e(79):e(80),s=function(n){var t=e(23);return{headers:{"User-Agent":(n.tn()||"unknown")+"/"+(n.en()||"unknown")+" ("+(t.platform()||"unknown")+"; "+(t.arch()||"unknown")+"; "+(t.type()||"unknown")+"/"+(t.release||"unknown")+") node.js/"+
process.version}}}(t);u.get(o,s,function(t){var e=t.statusCode;if((302==e||301==e)&&r<20&&t.headers&&t.headers.location)return r++,void i.send(t.headers.location);n(e)}).on("error",function(){n()})}}var v=i.extend({},r,{W:"nodejs",G:function(n,t,e){(new d(t,e)).send(n)},H:null,Storage:null,K:!1,nn:function(){return l(),c},"in":function(){return l(),a},rn:function(){return f},sn:function(){var n=e(23);return[n.type(),n.platform(),n.release()].join(";")},hn:function(){return e(23).arch()||s},fn:function(){return"nodejs"},
cn:function(){return"undefined"==typeof process||o.S(process.version)?s:process.version}});n.exports=v},function(n,t){n.exports=require("https")},function(n,t){n.exports=require("http")},function(n,t,e){var i=e(0),r=e(39),o=e(13),u=i.extend({},r,{W:"webbrowser",Storage:null,J:null,Y:null,K:!1,F:o.Dt,B:o.Vn,V:o.Nt,j:o.Bn,Nn:!0,Tn:!0,fn:function(){return"webbrowser"},mn:function(n){if("undefined"!=typeof document){var t=document;n.c7=t.URL,n.c8=t.title,n.c9=t.referrer,n.ns_c=t.characterSet||t.defaultCharset||
""}},Cn:!0});n.exports=u},function(n,t,e){var i=e(0),r=e(6),o=e(1),u=e(4),s=e(9),a=e(12),f=e(5).Wn,c=e(5).Fn,l=e(7),d=u.Mn,v=u.Un,_=null;var h=i.extend({},r,{W:"samsung-tizen-tv",G:function(){return"undefined"!=typeof Image?a.apply(this,arguments):f.apply(this,arguments)},H:c,Storage:l,K:!0,X:6E4,tn:function(){try{return tizen["package"].getPackageInfo().name}catch(n){return d}},en:function(){try{return tizen["package"].getPackageInfo().version}catch(n){return d}},nn:function(){try{if(!(webapis&&
webapis.adinfo&&webapis.adinfo.isLATEnabled()))return null;var n=webapis.adinfo.getTIFA();if(n)return n}catch(t){return d}},"in":function(){return function(){try{webapis&&webapis.appcommon&&webapis.appcommon.getUuid()&&(_=webapis.appcommon.getUuid())}catch(n){_=+new Date+~~(1E3*Math.random())}}(),_},rn:function(){return"72"},sn:function(){try{return tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version")}catch(n){return d}},hn:function(){try{return tizen.systeminfo.getCapability("http://tizen.org/feature/platform.core.cpu.arch")}catch(n){return d}},
fn:function(){return"samsung-tizen-tv"},cn:function(){try{return tizen["package"].getPackageInfo().version}catch(n){return d}},ln:function(){try{return tizen.systeminfo.getCapability("http://tizen.org/feature/screen.width")+"x"+tizen.systeminfo.getCapability("http://tizen.org/feature/screen.height")}catch(n){return v}},un:function(){return"samsung-tizen-tv"},_n:function(){try{return tizen["package"].getPackageInfo().id}catch(n){return d}},pn:function(){return navigator&&navigator.connection&&navigator.connection.type?
navigator.connection.type:s.UNKNOWN},dn:function(){var n="undefined"!=typeof window&&o.A(window.innerWidth)?window.innerWidth:0,t="undefined"!=typeof window&&o.A(window.innerHeight)?window.innerHeight:0;return n>0&&t>0?n+"x"+t:v}});n.exports=h},function(n,t,e){var i=e(0),r=e(3).kn;n.exports=function(n,t,e,o){function u(n){200==n||o.isHttpRedirectCachingEnabled()&&(302==n||301==n)?e.onSuccess():e.onFailure()}i.extend(this,{Mr:function(){r.H?r.H(n,t,u):u()}})}},function(n,t,e){var i=e(0);n.exports=
function(){i.extend(this,{storeProperties:function(){},getProperties:function(){return null},storeCache:function(){},getCache:function(){return null}})}},function(n,t,e){var i=e(0),r=e(41),o=e(44),u=e(21),s=e(25),a=e(18),f=e(27);n.exports=function(n){i.extend(this,{setLiveTransmissionMode:n.setLiveTransmissionMode,setOfflineCacheMode:n.setOfflineCacheMode,enableImplementationValidationMode:n.enableImplementationValidationMode,getPartnerConfigurations:n.getPartnerConfigurations,getPublisherConfigurations:n.getPublisherConfigurations,
setLabelOrder:n.setLabelOrder,getLabelOrder:n.getLabelOrder,setApplicationName:n.setApplicationName,setApplicationVersion:n.setApplicationVersion,addStartLabels:n.addStartLabels,setStartLabel:n.setStartLabel,removeStartLabel:n.removeStartLabel,removeAllStartLabels:n.removeAllStartLabels,isEnabled:n.isEnabled,addPersistentLabels:n.addPersistentLabels,setPersistentLabel:n.setPersistentLabel,removePersistentLabel:n.removePersistentLabel,removeAllPersistentLabels:n.removeAllPersistentLabels,getPartnerConfiguration:n.getPartnerConfiguration,
getPublisherConfiguration:n.getPublisherConfiguration,disable:n.disable,disableTcfIntegration:n.disableTcfIntegration,enableFirstPartyCookie:n.enableFirstPartyCookie,addListener:n.addListener,removeListener:n.removeListener,addClient:n.addClient,setDebugEnabled:n.setDebugEnabled,setSystemClockJumpDetectionEnabled:n.setSystemClockJumpDetectionEnabled,setSystemClockJumpDetectionInterval:n.setSystemClockJumpDetectionInterval,setSystemClockJumpDetectionAlternativeContextInterval:n.setSystemClockJumpDetectionAlternativeContextInterval,
setSystemClockJumpDetectionPrecision:n.setSystemClockJumpDetectionPrecision,setLiveEndpointUrl:n.setLiveEndpointUrl,setOfflineFlushEndpointUrl:n.setOfflineFlushEndpointUrl,setCacheMaxMeasurements:n.setCacheMaxMeasurements,setCacheMaxFlushesInARow:n.setCacheMaxFlushesInARow,setCacheMinutesToRetry:n.setCacheMinutesToRetry,setCacheMeasurementExpiry:n.setCacheMeasurementExpiry,setUsagePropertiesAutoUpdateMode:n.setUsagePropertiesAutoUpdateMode,setUsagePropertiesAutoUpdateInterval:n.setUsagePropertiesAutoUpdateInterval,
setStorageWriteInterval:n.setStorageWriteInterval,addIncludedPublisher:n.addIncludedPublisher,addCrossPublisherUniqueDeviceIdChangeListener:n.addCrossPublisherUniqueDeviceIdChangeListener,removeCrossPublisherUniqueDeviceIdChangeListener:n.removeCrossPublisherUniqueDeviceIdChangeListener,enableChildDirectedApplicationMode:n.enableChildDirectedApplicationMode,PartnerConfiguration:r,PublisherConfiguration:o,LiveTransmissionMode:u,CacheMode:s,UsagePropertiesAutoUpdateMode:f,ConfigurationType:a})}},function(n,
t,e){var i=e(4),r={};r.encrypt=function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(t,e){var i=n.indexOf(t.charAt(e));if(-1===i)throw new Error;return i},e=function(n){var e,i,r,o=(n=""+n).length;if(0===o)return n;if(o%4!=0)throw new Error;e=0,"\x3d"===n.charAt(o-1)&&(e=1,"\x3d"===n.charAt(o-2)&&(e=2),o-=4);var u=[];for(i=0;i<o;i+=4)r=t(n,i)<<18|t(n,i+1)<<12|t(n,i+2)<<6|t(n,i+3),u.push(String.fromCharCode(r>>16,r>>8&255,255&r));switch(e){case 1:r=t(n,i)<<
18|t(n,i+1)<<12|t(n,i+2)<<6,u.push(String.fromCharCode(r>>16,r>>8&255));break;case 2:r=t(n,i)<<18|t(n,i+1)<<12,u.push(String.fromCharCode(r>>16))}return u.join("")};function r(n,t,e){null!=n&&("number"==typeof n?this.la(n,t,e):null==t&&"string"!=typeof n?this.da(n,256):this.da(n,t))}function o(){return new r(null)}r.prototype.va=function(n,t,e,i,r,o){for(var u=16383&t,s=t>>14;--o>=0;){var a=16383&this[n],f=this[n++]>>14,c=s*a+f*u;r=((a=u*a+((16383&c)<<14)+e[i]+r)>>28)+(c>>14)+s*f,e[i++]=268435455&
a}return r},r.prototype._a=28,r.prototype.ha=268435455,r.prototype.pa=1<<28;r.prototype.ga=Math.pow(2,52),r.prototype.ma=24,r.prototype.ya=4;var u,s,a=[];for(u="0".charCodeAt(0),s=0;s<=9;++s)a[u++]=s;for(u="a".charCodeAt(0),s=10;s<36;++s)a[u++]=s;for(u="A".charCodeAt(0),s=10;s<36;++s)a[u++]=s;function f(n){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(n)}function c(n,t){var e=a[n.charCodeAt(t)];return null==e?-1:e}function l(n){var t=o();return t.ba(n),t}function d(n){var t,e=1;return 0!=(t=
n>>>16)&&(n=t,e+=16),0!=(t=n>>8)&&(n=t,e+=8),0!=(t=n>>4)&&(n=t,e+=4),0!=(t=n>>2)&&(n=t,e+=2),0!=(t=n>>1)&&(n=t,e+=1),e}function v(n){this.o=n}function _(n){this.o=n,this.Sa=n.wa(),this.Ea=32767&this.Sa,this.Ia=this.Sa>>15,this.Pa=(1<<n._a-15)-1,this.Aa=2*n._}function h(n,t){return n&t}function p(n,t){return n|t}function g(n,t){return n^t}function m(n,t){return n&~t}function y(n){if(0==n)return-1;var t=0;return 0==(65535&n)&&(n>>=16,t+=16),0==(255&n)&&(n>>=8,t+=8),0==(15&n)&&(n>>=4,t+=4),0==(3&n)&&
(n>>=2,t+=2),0==(1&n)&&++t,t}function b(n){for(var t=0;0!=n;)n&=n-1,++t;return t}function S(){}function w(n){return n}function E(n){this.r2=o(),this.Ca=o(),r.ONE.La(2*n._,this.r2),this.Da=this.r2.Na(n),this.o=n}v.prototype.Ta=function(n){return n.s<0||n.Oa(this.o)>=0?n.ka(this.o):n},v.prototype.Ra=function(n){return n},v.prototype.reduce=function(n){n.Ma(this.o,null,n)},v.prototype.Ua=function(n,t,e){n.xa(t,e),this.reduce(e)},v.prototype.Wa=function(n,t){n.Fa(t),this.reduce(t)},_.prototype.Ta=function(n){var t=
o();return n.abs().La(this.o._,t),t.Ma(this.o,null,t),n.s<0&&t.Oa(r.ZERO)>0&&this.o.Va(t,t),t},_.prototype.Ra=function(n){var t=o();return n.Ba(t),this.reduce(t),t},_.prototype.reduce=function(n){for(;n._<=this.Aa;)n[n._++]=0;for(var t=0;t<this.o._;++t){var e=32767&n[t],i=e*this.Ea+((e*this.Ia+(n[t]>>15)*this.Ea&this.Pa)<<15)&n.ha;for(n[e=t+this.o._]+=this.o.va(0,i,n,t,0,this.o._);n[e]>=n.pa;)n[e]-=n.pa,n[++e]++}n.qa(),n.ja(this.o._,n),n.Oa(this.o)>=0&&n.Va(this.o,n)},_.prototype.Ua=function(n,t,
e){n.xa(t,e),this.reduce(e)},_.prototype.Wa=function(n,t){n.Fa(t),this.reduce(t)},r.prototype.Ba=function(n){for(var t=this._-1;t>=0;--t)n[t]=this[t];n._=this._,n.s=this.s},r.prototype.ba=function(n){this._=1,this.s=n<0?-1:0,n>0?this[0]=n:n<-1?this[0]=n+DV:this._=0},r.prototype.da=function(n,t){var e;if(16==t)e=4;else if(8==t)e=3;else if(256==t)e=8;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return void this.Ga(n,t);e=2}this._=0,this.s=0;for(var i=n.length,o=!1,u=0;--i>=0;){var s=8==e?255&n[i]:
c(n,i);s<0?"-"==n.charAt(i)&&(o=!0):(o=!1,0==u?this[this._++]=s:u+e>this._a?(this[this._-1]|=(s&(1<<this._a-u)-1)<<u,this[this._++]=s>>this._a-u):this[this._-1]|=s<<u,(u+=e)>=this._a&&(u-=this._a))}8==e&&0!=(128&n[0])&&(this.s=-1,u>0&&(this[this._-1]|=(1<<this._a-u)-1<<u)),this.qa(),o&&r.ZERO.Va(this,this)},r.prototype.qa=function(){for(var n=this.s&this.ha;this._>0&&this[this._-1]==n;)--this._},r.prototype.La=function(n,t){var e;for(e=this._-1;e>=0;--e)t[e+n]=this[e];for(e=n-1;e>=0;--e)t[e]=0;t._=
this._+n,t.s=this.s},r.prototype.ja=function(n,t){for(var e=n;e<this._;++e)t[e-n]=this[e];t._=Math.max(this._-n,0),t.s=this.s},r.prototype.Ha=function(n,t){var e,i=n%this._a,r=this._a-i,o=(1<<r)-1,u=Math.floor(n/this._a),s=this.s<<i&this.ha;for(e=this._-1;e>=0;--e)t[e+u+1]=this[e]>>r|s,s=(this[e]&o)<<i;for(e=u-1;e>=0;--e)t[e]=0;t[u]=s,t._=this._+u+1,t.s=this.s,t.qa()},r.prototype.Ka=function(n,t){t.s=this.s;var e=Math.floor(n/this._a);if(e>=this._)t._=0;else{var i=n%this._a,r=this._a-i,o=(1<<i)-1;
t[0]=this[e]>>i;for(var u=e+1;u<this._;++u)t[u-e-1]|=(this[u]&o)<<r,t[u-e]=this[u]>>i;i>0&&(t[this._-e-1]|=(this.s&o)<<r),t._=this._-e,t.qa()}},r.prototype.Va=function(n,t){for(var e=0,i=0,r=Math.min(n._,this._);e<r;)i+=this[e]-n[e],t[e++]=i&this.ha,i>>=this._a;if(n._<this._){for(i-=n.s;e<this._;)i+=this[e],t[e++]=i&this.ha,i>>=this._a;i+=this.s}else{for(i+=this.s;e<n._;)i-=n[e],t[e++]=i&this.ha,i>>=this._a;i-=n.s}t.s=i<0?-1:0,i<-1?t[e++]=this.pa+i:i>0&&(t[e++]=i),t._=e,t.qa()},r.prototype.xa=function(n,
t){var e=this.abs(),i=n.abs(),o=e._;for(t._=o+i._;--o>=0;)t[o]=0;for(o=0;o<i._;++o)t[o+e._]=e.va(0,i[o],t,o,0,e._);t.s=0,t.qa(),this.s!=n.s&&r.ZERO.Va(t,t)},r.prototype.Fa=function(n){for(var t=this.abs(),e=n._=2*t._;--e>=0;)n[e]=0;for(e=0;e<t._-1;++e){var i=t.va(e,t[e],n,2*e,0,1);(n[e+t._]+=t.va(e+1,2*t[e],n,2*e+1,i,t._-e-1))>=t.pa&&(n[e+t._]-=t.pa,n[e+t._+1]=1)}n._>0&&(n[n._-1]+=t.va(e,t[e],n,2*e,0,1)),n.s=0,n.qa()},r.prototype.Ma=function(n,t,e){var i=n.abs();if(!(i._<=0)){var u=this.abs();if(u._<
i._)return null!=t&&t.ba(0),void(null!=e&&this.Ba(e));null==e&&(e=o());var s=o(),a=this.s,f=n.s,c=this._a-d(i[i._-1]);c>0?(i.Ha(c,s),u.Ha(c,e)):(i.Ba(s),u.Ba(e));var l=s._,v=s[l-1];if(0!=v){var _=v*(1<<this.ma)+(l>1?s[l-2]>>this.ya:0),h=this.ga/_,p=(1<<this.ma)/_,g=1<<this.ya,m=e._,y=m-l,b=null==t?o():t;for(s.La(y,b),e.Oa(b)>=0&&(e[e._++]=1,e.Va(b,e)),r.ONE.La(l,b),b.Va(s,s);s._<l;)s[s._++]=0;for(;--y>=0;){var S=e[--m]==v?this.ha:Math.floor(e[m]*h+(e[m-1]+g)*p);if((e[m]+=s.va(0,S,e,y,0,l))<S)for(s.La(y,
b),e.Va(b,e);e[m]<--S;)e.Va(b,e)}null!=t&&(e.ja(l,t),a!=f&&r.ZERO.Va(t,t)),e._=l,e.qa(),c>0&&e.Ka(c,e),a<0&&r.ZERO.Va(e,e)}}},r.prototype.wa=function(){if(this._<1)return 0;var n=this[0];if(0==(1&n))return 0;var t=3&n;return(t=(t=(t=(t=t*(2-(15&n)*t)&15)*(2-(255&n)*t)&255)*(2-((65535&n)*t&65535))&65535)*(2-n*t%this.pa)%this.pa)>0?this.pa-t:-t},r.prototype.Ja=function(){return 0==(this._>0?1&this[0]:this.s)},r.prototype.exp=function(n,t){if(n>4294967295||n<1)return r.ONE;var e=o(),i=o(),u=t.Ta(this),
s=d(n)-1;for(u.Ba(e);--s>=0;)if(t.Wa(e,i),(n&1<<s)>0)t.Ua(i,u,e);else{var a=e;e=i,i=a}return t.Ra(e)},r.prototype.toString=function(n){if(this.s<0)return"-"+this.Ya().toString(n);var t;if(16==n)t=4;else if(8==n)t=3;else if(2==n)t=1;else if(32==n)t=5;else{if(4!=n)return this.za(n);t=2}var e,i=(1<<t)-1,r=!1,o="",u=this._,s=this._a-u*this._a%t;if(u-- >0)for(s<this._a&&(e=this[u]>>s)>0&&(r=!0,o=f(e));u>=0;)s<t?(e=(this[u]&(1<<s)-1)<<t-s,e|=this[--u]>>(s+=this._a-t)):(e=this[u]>>(s-=t)&i,s<=0&&(s+=this._a,
--u)),e>0&&(r=!0),r&&(o+=f(e));return r?o:"0"},r.prototype.Ya=function(){var n=o();return r.ZERO.Va(this,n),n},r.prototype.abs=function(){return this.s<0?this.Ya():this},r.prototype.Oa=function(n){var t=this.s-n.s;if(0!=t)return t;var e=this._;if(0!=(t=e-n._))return this.s<0?-t:t;for(;--e>=0;)if(0!=(t=this[e]-n[e]))return t;return 0},r.prototype.Xa=function(){return this._<=0?0:this._a*(this._-1)+d(this[this._-1]^this.s&this.ha)},r.prototype.ka=function(n){var t=o();return this.abs().Ma(n,null,t),
this.s<0&&t.Oa(r.ZERO)>0&&n.Va(t,t),t},r.prototype.Qa=function(n,t){var e;return e=n<256||t.Ja()?new v(t):new _(t),this.exp(n,e)},r.ZERO=l(0),r.ONE=l(1),S.prototype.Ta=w,S.prototype.Ra=w,S.prototype.Ua=function(n,t,e){n.xa(t,e)},S.prototype.Wa=function(n,t){n.Fa(t)},E.prototype.Ta=function(n){if(n.s<0||n._>2*this.o._)return n.ka(this.o);if(n.Oa(this.o)<0)return n;var t=o();return n.Ba(t),this.reduce(t),t},E.prototype.Ra=function(n){return n},E.prototype.reduce=function(n){for(n.ja(this.o._-1,this.r2),
n._>this.o._+1&&(n._=this.o._+1,n.qa()),this.Da.$a(this.r2,this.o._+1,this.Ca),this.o.Za(this.Ca,this.o._+1,this.r2);n.Oa(this.r2)<0;)n.nf(1,this.o._+1);for(n.Va(this.r2,n);n.Oa(this.o)>=0;)n.Va(this.o,n)},E.prototype.Ua=function(n,t,e){n.xa(t,e),this.reduce(e)},E.prototype.Wa=function(n,t){n.Fa(t),this.reduce(t)};var I=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,
241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],P=(1<<26)/I[I.length-1];function A(){this.t=
0,this.tf=0,this.ef=[]}r.prototype["if"]=function(n){return Math.floor(Math.LN2*this._a/Math.log(n))},r.prototype.za=function(n){if(null==n&&(n=10),0==this.rf()||n<2||n>36)return"0";var t=this["if"](n),e=Math.pow(n,t),i=l(e),r=o(),u=o(),s="";for(this.Ma(i,r,u);r.rf()>0;)s=(e+u.uf()).toString(n).substr(1)+s,r.Ma(i,r,u);return u.uf().toString(n)+s},r.prototype.Ga=function(n,t){this.ba(0),null==t&&(t=10);for(var e=this["if"](t),i=Math.pow(t,e),o=!1,u=0,s=0,a=0;a<n.length;++a){var f=c(n,a);f<0?"-"==n.charAt(a)&&
0==this.rf()&&(o=!0):(s=t*s+f,++u>=e&&(this.af(i),this.nf(s,0),u=0,s=0))}u>0&&(this.af(Math.pow(t,u)),this.nf(s,0)),o&&r.ZERO.Va(this,this)},r.prototype.la=function(n,t,e){if("number"==typeof t)if(n<2)this.ba(1);else for(this.la(n,e),this.ff(n-1)||this.cf(r.ONE.shiftLeft(n-1),p,this),this.Ja()&&this.nf(1,0);!this.lf(t);)this.nf(2,0),this.Xa()>n&&this.Va(r.ONE.shiftLeft(n-1),this);else{var i=[],o=7&n;i.length=1+(n>>3),t.df(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.da(i,256)}},r.prototype.cf=function(n,t,e){var i,
r,o=Math.min(n._,this._);for(i=0;i<o;++i)e[i]=t(this[i],n[i]);if(n._<this._){for(r=n.s&this.ha,i=o;i<this._;++i)e[i]=t(this[i],r);e._=this._}else{for(r=this.s&this.ha,i=o;i<n._;++i)e[i]=t(r,n[i]);e._=n._}e.s=t(this.s,n.s),e.qa()},r.prototype.vf=function(n,t){var e=r.ONE.shiftLeft(n);return this.cf(e,t,e),e},r.prototype._f=function(n,t){for(var e=0,i=0,r=Math.min(n._,this._);e<r;)i+=this[e]+n[e],t[e++]=i&this.ha,i>>=this._a;if(n._<this._){for(i+=n.s;e<this._;)i+=this[e],t[e++]=i&this.ha,i>>=this._a;
i+=this.s}else{for(i+=this.s;e<n._;)i+=n[e],t[e++]=i&this.ha,i>>=this._a;i+=n.s}t.s=i<0?-1:0,i>0?t[e++]=i:i<-1&&(t[e++]=this.pa+i),t._=e,t.qa()},r.prototype.af=function(n){this[this._]=this.va(0,n-1,this,0,0,this._),++this._,this.qa()},r.prototype.nf=function(n,t){if(0!=n){for(;this._<=t;)this[this._++]=0;for(this[t]+=n;this[t]>=this.pa;)this[t]-=this.pa,++t>=this._&&(this[this._++]=0),++this[t]}},r.prototype.Za=function(n,t,e){var i,r=Math.min(this._+n._,t);for(e.s=0,e._=r;r>0;)e[--r]=0;for(i=e._-
this._;r<i;++r)e[r+this._]=this.va(0,n[r],e,r,0,this._);for(i=Math.min(n._,t);r<i;++r)this.va(0,n[r],e,r,0,t-r);e.qa()},r.prototype.$a=function(n,t,e){--t;var i=e._=this._+n._-t;for(e.s=0;--i>=0;)e[i]=0;for(i=Math.max(t-this._,0);i<n._;++i)e[this._+i-t]=this.va(t-i,n[i],e,0,0,this._+i-t);e.qa(),e.ja(1,e)},r.prototype.hf=function(n){if(n<=0)return 0;var t=this.pa%n,e=this.s<0?n-1:0;if(this._>0)if(0==t)e=this[0]%n;else for(var i=this._-1;i>=0;--i)e=(t*e+this[i])%n;return e},r.prototype.pf=function(n){var t=
this.gf(r.ONE),e=t.mf();if(e<=0)return!1;var i=t.yf(e);(n=n+1>>1)>I.length&&(n=I.length);for(var u=o(),s=0;s<n;++s){u.ba(I[Math.floor(Math.random()*I.length)]);var a=u.bf(i,this);if(0!=a.Oa(r.ONE)&&0!=a.Oa(t)){for(var f=1;f++<e&&0!=a.Oa(t);)if(0==(a=a.Qa(2,this)).Oa(r.ONE))return!1;if(0!=a.Oa(t))return!1}}return!0},r.prototype.clone=function(){var n=o();return this.Ba(n),n},r.prototype.uf=function(){if(this.s<0){if(1==this._)return this[0]-this.pa;if(0==this._)return-1}else{if(1==this._)return this[0];
if(0==this._)return 0}return(this[1]&(1<<32-this._a)-1)<<this._a|this[0]},r.prototype.Sf=function(){return 0==this._?this.s:this[0]<<24>>24},r.prototype.wf=function(){return 0==this._?this.s:this[0]<<16>>16},r.prototype.rf=function(){return this.s<0?-1:this._<=0||1==this._&&this[0]<=0?0:1},r.prototype.Ef=function(){var n=this._,t=[];t[0]=this.s;var e,i=this._a-n*this._a%8,r=0;if(n-- >0)for(i<this._a&&(e=this[n]>>i)!=(this.s&this.ha)>>i&&(t[r++]=e|this.s<<this._a-i);n>=0;)i<8?(e=(this[n]&(1<<i)-1)<<
8-i,e|=this[--n]>>(i+=this._a-8)):(e=this[n]>>(i-=8)&255,i<=0&&(i+=this._a,--n)),0!=(128&e)&&(e|=-256),0==r&&(128&this.s)!=(128&e)&&++r,(r>0||e!=this.s)&&(t[r++]=e);return t},r.prototype.If=function(n){return 0==this.Oa(n)},r.prototype.min=function(n){return this.Oa(n)<0?this:n},r.prototype.max=function(n){return this.Oa(n)>0?this:n},r.prototype.Pf=function(n){var t=o();return this.cf(n,h,t),t},r.prototype.Af=function(n){var t=o();return this.cf(n,p,t),t},r.prototype.Cf=function(n){var t=o();return this.cf(n,
g,t),t},r.prototype.Lf=function(n){var t=o();return this.cf(n,m,t),t},r.prototype.Df=function(){for(var n=o(),t=0;t<this._;++t)n[t]=this.ha&~this[t];return n._=this._,n.s=~this.s,n},r.prototype.shiftLeft=function(n){var t=o();return n<0?this.Ka(-n,t):this.Ha(n,t),t},r.prototype.yf=function(n){var t=o();return n<0?this.Ha(-n,t):this.Ka(n,t),t},r.prototype.mf=function(){for(var n=0;n<this._;++n)if(0!=this[n])return n*this._a+y(this[n]);return this.s<0?this._*this._a:-1},r.prototype.Nf=function(){for(var n=
0,t=this.s&this.ha,e=0;e<this._;++e)n+=b(this[e]^t);return n},r.prototype.ff=function(n){var t=Math.floor(n/this._a);return t>=this._?0!=this.s:0!=(this[t]&1<<n%this._a)},r.prototype.Tf=function(n){return this.vf(n,p)},r.prototype.Of=function(n){return this.vf(n,m)},r.prototype.kf=function(n){return this.vf(n,g)},r.prototype.add=function(n){var t=o();return this._f(n,t),t},r.prototype.gf=function(n){var t=o();return this.Va(n,t),t},r.prototype.multiply=function(n){var t=o();return this.xa(n,t),t},
r.prototype.Na=function(n){var t=o();return this.Ma(n,t,null),t},r.prototype.Rf=function(n){var t=o();return this.Ma(n,null,t),t},r.prototype.Mf=function(n){var t=o(),e=o();return this.Ma(n,t,e),[t,e]},r.prototype.bf=function(n,t){var e,i,r=n.Xa(),u=l(1);if(r<=0)return u;e=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new v(t):t.Ja()?new E(t):new _(t);var s=[],a=3,f=e-1,c=(1<<e)-1;if(s[1]=i.Ta(this),e>1){var h=o();for(i.Wa(s[1],h);a<=c;)s[a]=o(),i.Ua(h,s[a-2],s[a]),a+=2}var p,g,m=n._-1,y=!0,b=o();for(r=d(n[m])-
1;m>=0;){for(r>=f?p=n[m]>>r-f&c:(p=(n[m]&(1<<r+1)-1)<<f-r,m>0&&(p|=n[m-1]>>this._a+r-f)),a=e;0==(1&p);)p>>=1,--a;if((r-=a)<0&&(r+=this._a,--m),y)s[p].Ba(u),y=!1;else{for(;a>1;)i.Wa(u,b),i.Wa(b,u),a-=2;a>0?i.Wa(u,b):(g=u,u=b,b=g),i.Ua(b,s[p],u)}for(;m>=0&&0==(n[m]&1<<r);)i.Wa(u,b),g=u,u=b,b=g,--r<0&&(r=this._a-1,--m)}return i.Ra(u)},r.prototype.Uf=function(n){var t=n.Ja();if(this.Ja()&&t||0==n.rf())return r.ZERO;for(var e=n.clone(),i=this.clone(),o=l(1),u=l(0),s=l(0),a=l(1);0!=e.rf();){for(;e.Ja();)e.Ka(1,
e),t?(o.Ja()&&u.Ja()||(o._f(this,o),u.Va(n,u)),o.Ka(1,o)):u.Ja()||u.Va(n,u),u.Ka(1,u);for(;i.Ja();)i.Ka(1,i),t?(s.Ja()&&a.Ja()||(s._f(this,s),a.Va(n,a)),s.Ka(1,s)):a.Ja()||a.Va(n,a),a.Ka(1,a);e.Oa(i)>=0?(e.Va(i,e),t&&o.Va(s,o),u.Va(a,u)):(i.Va(e,i),t&&s.Va(o,s),a.Va(u,a))}return 0!=i.Oa(r.ONE)?r.ZERO:a.Oa(n)>=0?a.gf(n):a.rf()<0?(a._f(n,a),a.rf()<0?a.add(n):a):a},r.prototype.pow=function(n){return this.exp(n,new S)},r.prototype.xf=function(n){var t=this.s<0?this.Ya():this.clone(),e=n.s<0?n.Ya():n.clone();
if(t.Oa(e)<0){var i=t;t=e,e=i}var r=t.mf(),o=e.mf();if(o<0)return t;for(r<o&&(o=r),o>0&&(t.Ka(o,t),e.Ka(o,e));t.rf()>0;)(r=t.mf())>0&&t.Ka(r,t),(r=e.mf())>0&&e.Ka(r,e),t.Oa(e)>=0?(t.Va(e,t),t.Ka(1,t)):(e.Va(t,e),e.Ka(1,e));return o>0&&e.Ha(o,e),e},r.prototype.lf=function(n){var t,e=this.abs();if(1==e._&&e[0]<=I[I.length-1]){for(t=0;t<I.length;++t)if(e[0]==I[t])return!0;return!1}if(e.Ja())return!1;for(t=1;t<I.length;){for(var i=I[t],r=t+1;r<I.length&&i<P;)i*=I[r++];for(i=e.hf(i);t<r;)if(i%I[t++]==
0)return!1}return e.pf(n)},r.prototype.Wf=function(){var n=o();return this.Fa(n),n},A.prototype.init=function(n){var t,e,i;for(t=0;t<256;++t)this.ef[t]=t;for(e=0,t=0;t<256;++t)e=e+this.ef[t]+n[t%n.length]&255,i=this.ef[t],this.ef[t]=this.ef[e],this.ef[e]=i;this.t=0,this.tf=0},A.prototype.next=function(){var n;return this.t=this.t+1&255,this.tf=this.tf+this.ef[this.t]&255,n=this.ef[this.t],this.ef[this.t]=this.ef[this.tf],this.ef[this.tf]=n,this.ef[n+this.ef[this.t]&255]};var C,L,D;function N(){var n;
n=(new Date).getTime(),L[D++]^=255&n,L[D++]^=n>>8&255,L[D++]^=n>>16&255,L[D++]^=n>>24&255,D>=256&&(D-=256)}if(null==L){var T;for(L=[],D=0;D<256;)T=Math.floor(65536*Math.random()),L[D++]=T>>>8,L[D++]=255&T;D=0,N()}function O(){if(null==C){for(N(),(C=new A).init(L),D=0;D<L.length;++D)L[D]=0;D=0}return C.next()}function k(){}function R(n,t){return new r(n,t)}function M(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}k.prototype.df=function(n){var t;
for(t=0;t<n.length;++t)n[t]=O()},M.prototype.Ff=function(n){return n.Qa(this.e,this.n)},M.prototype.Vf=function(n,t){null!=n&&null!=t&&n.length>0&&t.length>0?(this.n=R(n,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")},M.prototype.encrypt=function(n){var t=function(n,t){if(t<n.length+11)return alert("Message too long for RSA"),null;for(var e=[],i=n.length-1;i>=0&&t>0;){var o=n.charCodeAt(i--);o<128?e[--t]=o:o>127&&o<2048?(e[--t]=63&o|128,e[--t]=o>>6|192):(e[--t]=63&o|128,e[--t]=o>>6&63|
128,e[--t]=o>>12|224)}e[--t]=0;for(var u=new k,s=[];t>2;){for(s[0]=0;0==s[0];)u.df(s);e[--t]=s[0]}return e[--t]=2,e[--t]=0,new r(e)}(n,this.n.Xa()+7>>3);if(null==t)return null;var e=this.Ff(t);if(null==e)return null;var i=e.toString(16);return 0==(1&i.length)?i:"0"+i},M.prototype.Bf=function(n){if(null==this.p||null==this.q)return n.bf(this.d,this.n);for(var t=n.ka(this.p).bf(this.dmp1,this.p),e=n.ka(this.q).bf(this.dmq1,this.q);t.Oa(e)<0;)t=t.add(this.p);return t.gf(e).multiply(this.coeff).ka(this.p).multiply(this.q).add(e)},
M.prototype.qf=function(n,t,e){null!=n&&null!=t&&n.length>0&&t.length>0?(this.n=R(n,16),this.e=parseInt(t,16),this.d=R(e,16)):alert("Invalid RSA private key")},M.prototype.jf=function(n,t,e,i,r,o,u,s){null!=n&&null!=t&&n.length>0&&t.length>0?(this.n=R(n,16),this.e=parseInt(t,16),this.d=R(e,16),this.p=R(i,16),this.q=R(r,16),this.dmp1=R(o,16),this.dmq1=R(u,16),this.coeff=R(s,16)):alert("Invalid RSA private key")},M.prototype.Gf=function(n,t){var e=new k,i=n>>1;this.e=parseInt(t,16);for(var o=new r(t,
16);;){for(;this.p=new r(n-i,1,e),0!=this.p.gf(r.ONE).xf(o).Oa(r.ONE)||!this.p.lf(10););for(;this.q=new r(i,1,e),0!=this.q.gf(r.ONE).xf(o).Oa(r.ONE)||!this.q.lf(10););if(this.p.Oa(this.q)<=0){var u=this.p;this.p=this.q,this.q=u}var s=this.p.gf(r.ONE),a=this.q.gf(r.ONE),f=s.multiply(a);if(0==f.xf(o).Oa(r.ONE)){this.n=this.p.multiply(this.q),this.d=o.Uf(f),this.dmp1=this.d.ka(s),this.dmq1=this.d.ka(a),this.coeff=this.q.Uf(this.p);break}}},M.prototype.decrypt=function(n){var t=R(n,16),e=this.Bf(t);return null==
e?null:function(n,t){for(var e=n.Ef(),i=0;i<e.length&&0==e[i];)++i;if(e.length-i!=t-1||2!=e[i])return null;for(++i;0!=e[i];)if(++i>=e.length)return null;for(var r="";++i<e.length;){var o=255&e[i];o<128?r+=String.fromCharCode(o):o>191&&o<224?(r+=String.fromCharCode((31&o)<<6|63&e[i+1]),++i):(r+=String.fromCharCode((15&o)<<12|(63&e[i+1])<<6|63&e[i+2]),i+=2)}return r}(e,this.n.Xa()+7>>3)};var U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function x(n){var t,e,i="";for(t=0;t+3<=
n.length;t+=3)e=parseInt(n.substring(t,t+3),16),i+=U.charAt(e>>6)+U.charAt(63&e);for(t+1==n.length?(e=parseInt(n.substring(t,t+1),16),i+=U.charAt(e<<2)):t+2==n.length&&(e=parseInt(n.substring(t,t+2),16),i+=U.charAt(e>>2)+U.charAt((3&e)<<4));(3&i.length)>0;)i+="\x3d";return i}function W(n){var t,e,i="",r=0;for(t=0;t<n.length&&"\x3d"!=n.charAt(t);++t){var o=U.indexOf(n.charAt(t));o<0||(0==r?(i+=f(o>>2),e=3&o,r=1):1==r?(i+=f(e<<2|o>>4),e=15&o,r=2):2==r?(i+=f(e),i+=f(o>>2),e=3&o,r=3):(i+=f(e<<2|o>>4),
i+=f(15&o),r=0))}return 1==r&&(i+=f(e<<2)),i}M.prototype.Hf=function(n){n=this.Kf(n);var t=this.Jf(),e=0,i=null,r=null,o=0;for(var u in t)t.hasOwnProperty(u)&&((i=t[u]).hasOwnProperty("offset")&&(e+=2*i.offset),o="string"==typeof i.length?this[i.length]:i.length,o*=2,r=n.substr(e,o),i.hasOwnProperty("type")&&("int"==i.type?r=parseInt(r,16):"bigint"==i.type&&(r=R(r,16))),e+=o,this[u]=r)},M.prototype.Yf=function(n){var t="";n=e(n);for(var i=0;i<n.length;++i){var r=n.charCodeAt(i).toString(16);1===r.length&&
(r="0"+r),t+=r}return t},M.prototype.Kf=function(n){var t=(n=n.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==t[0].substring(0,10)&&(t=t.slice(1,t.length-1)),n=t.join(""),this.Yf(n)},M.prototype.zf=function(){var n="",t=this.Jf(),e=null,i=null,r=0;for(var o in t)t.hasOwnProperty(o)&&(e=t[o]).Xf&&((i=this[o].toString(16)).length%2&&(i="0"+i),e.hasOwnProperty("padded")&&e.Qf&&(i="00"+i),(r=(r=i.length/2).toString(16)).length%2&&(r="0"+r),e.hasOwnProperty("extraspace")&&(n+=r),n+=r,n+=
i,n+="02");return n.slice(0,-2)},M.prototype.$f=function(n,t){if(!n)return n;var e="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return n.match(new RegExp(e,"g")).join("\n")},M.prototype.Zf=function(){var n="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.zf(),n+=this.$f(x(t))+"\n",n+="-----END RSA PRIVATE KEY-----"},M.prototype.nc=function(){var n="-----BEGIN PUBLIC KEY-----\n",t="30819f300d06092a864886f70d010101050003818d0030818902";return t+=this.zf(),n+=this.$f(x(t))+"\n",
n+="-----END PUBLIC KEY-----"};var F=function(n){M.call(this),n&&this.Hf(n)};(F.prototype=new M).constructor=F,F.prototype.Jf=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",Xf:!0,Qf:!0,tc:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",Xf:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",Xf:!0,
Qf:!0,tc:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",Xf:!0,Qf:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",Xf:!0,Qf:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",Xf:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",Xf:!0,Qf:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",Xf:!0,Qf:!0}}};var V=function(n){M.call(this),
n&&("string"==typeof n?this.Hf(n):n.hasOwnProperty("n")&&n.hasOwnProperty("e")&&(this.n=n.n,this.e=n.e))};(V.prototype=new M).constructor=V,V.prototype.Jf=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",Xf:!0,Qf:!0,tc:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",Xf:!0}}};var B=function(){this.ec=null,this.ic=null};return B.prototype.rc=function(n){this.ec=new F(n),this.ic=new V(this.ec)},B.prototype.oc=
function(n){this.ic=new V(n)},B.prototype.decrypt=function(n){return!!this.ec&&this.ec.decrypt(W(n))},B.prototype.encrypt=function(n){var t=this.ic||this.ec;return!!t&&x(t.encrypt(n))},B.prototype.Zf=function(){return this.ec||(this.ec=new F,this.ec.Gf(1024,"010001"),this.ic=new V(this.ec)),this.ec.Zf()},B.prototype.nc=function(){return this.ic||(this.ic=new V,this.ic.Gf(1024,"010001")),this.ic.nc()},function(n){var t=new B;return t.oc(i.xn),t.encrypt(n)}}(),n.exports=r.encrypt},function(n,t,e){var i=
e(0),r=e(20),o=e(46),u=e(3).kn,s=e(88),a=e(89),f=e(26),c=e(13),l=e(9),d=e(21),v=e(11),_=e(19),h=e(1);n.exports=function(n,t,e,p,g,m,y,b){var S,w,E,I,P,A,C,L,D,N;function T(){for(var n=0;n<N.length;n++){var t=N[n];O(t.event,t.timestamp,t.uc,t.configuration)}N=[]}function O(n,i,o,a){!function(n){n.setLabel("ns_ap_pn",u.an()),n.setLabel("ns_ap_pv",u.cn()),n.setLabel("ns_ap_pfm",u.fn()),n.setLabel("ns_ap_pfv",u.sn()),n.setLabel("ns_ap_device",u.un()),n.setLabel("ns_ap_lang",u.vn()),n.setLabel("ns_ap_ar",
u.hn()),n.setLabel("ns_radio",function(n){switch(n){case l.EMULATOR:return"emu";case l.WIFI:return"wlan";case l.WWAN:return"wwan";case l.ETHERNET:return"eth";case l.BLUETOOTH:return"bth";default:return"unknown"}}(u.pn())),n.setLabel("ns_ap_env",u.Dn()),n.zr()&&n.setLabel("ns_ap_jb",r.re(u.gn()))}(n),function(n,t){n.setLabel("ns_ap_an",t.tn()),n.setLabel("ns_ap_res",u.dn()),n.setLabel("ns_ap_po","0x0"),n.setLabel("ns_ap_sd",u.ln()),n.setLabel("ns_ap_ver",t.en()),n.setLabel("ns_ap_bi",t.vr())}(n,a);
y.Ai(function(i){b.sc(i,a,n),n.addLabels(i.mi),function(n){var t=m.Di();t.Oi&&n.setLabel("ns_ak",t.Oi);t.Li&&n.setLabel("ns_ap_ni","1")}(n),u.mn(n.getLabels()),w.push(n),function(n,t){!function(n,t){var i=u.pn(),r=n.hr(),o=!1;i!=l.DISCONNECTED&&r!=d.CACHE&&(r!=d.LAN||i!=l.WWAN&&i!=l.BLUETOOTH)||(o=!0);for(var a=0;a<w.length;++a){var f=w[a];if(o)e.xr(f,n);else{var c=new s(f,M,U,n,t);n.pr()&&u.yn("Comscore: "+c.ac()),c.Mr()}}e.Ur(),w=[]}(n,t)}(a,i),t.he()})}function k(n,e){return function(n,t){var e=
n.getIncludedPublishers();if(0==e.length)return!0;for(var i=0;i<e.length;++i)if(t.sr(e[i]))return!0;return!1}(n,e)&&function(){var n=h.N();n<P?(A=0,P=n,C=0,L=n,t.put(v.bt,C),t.put(v.St,L)):(n-P>1E3&&(A=0,P=n),n-L>1E3&&(C=0,L=n,t.put(v.bt,C),t.put(v.St,L)));if(A<20&&C<6E3)return A++,C++,t.put(v.bt,C),!0;return!1}()}function R(e,i,r,o){k(r,o)&&(t.put(v.Qn,h.N()),n._e(i,!0),function(e,i,r,o){0==S&&e.zr()&&(E=h.N(),t.put(v.yt,E),I++,t.put(v.wt,I),e.setLabel("ns_ap_csf","1"),e.setLabel("ns_ap_cfg",o.ur()));
S++,e.setLabel("ns_ts",i+""),e.setLabel("ns_ap_ec",S+""),e.setLabel("ns_ap_cs",I+""),e.setLabel("ns_ap_id",E+""),n.me()==f.Fe.ce?e.setLabel("name","foreground"):n.me()==f.Fe.le||n.me()==f.Fe.fe?e.setLabel("name","background"):e.setLabel("name","Application");r instanceof _&&!r.ne()||function(t,e,i){t.setLabel("ns_ap_fg",n.Ce()+""),t.setLabel("ns_ap_ft",n.Ae(t.zr())+""),t.setLabel("ns_ap_dft",n.Pe()+""),t.setLabel("ns_ap_bt",n.Le(t.zr())+""),t.setLabel("ns_ap_dbt",n.Ie()+""),t.setLabel("ns_ap_it",
n.Ee(t.zr())+""),t.setLabel("ns_ap_dit",n.we()+""),t.setLabel("ns_ap_as",n.be()+""),t.setLabel("ns_ap_das",n.Se()+""),t.setLabel("ns_ap_ut",1E3*e.xi()+""),t.setLabel("ns_ap_usage",i-n.De()+"")}(e,o,i);(function(n){n.setLabel("c1","19"),n.setLabel("ns_ap_smv","6.4"),n.setLabel("ns_ap_bv",c.VERSION),n.setLabel("ns_ap_sv",c.VERSION)})(e),function(n,t){var e=t.getPartnerConfigurations();if(0==t.getPartnerConfigurations().length)return;for(var i="",r="",o=0;o<e.length;++o){var u=e[o];i+=u.getPartnerId()+
",",r+=u.getExternalClientId()+","}i=i.substring(0,i.length-1),r=r.substring(0,r.length-1),n.setLabel("cs_partner",i),n.setLabel("cs_xcid",r)}(e,o),e.addLabels(D),e.addLabels(r.getLabels()),a.fc(e,r,e.getLabels(),o)}(e,i,r,o),D={},N.push({event:e,timestamp:i,uc:r,configuration:o}),p.cc())}function M(n,i){e.flush(i),e.nr(),t.he()}function U(n,i){e.xr(n,i),e.nr(),e.Ur(),t.he()}i.extend(this,{Yi:function(){return S},er:function(n,t,i){var r;R(((r=new o).setLabel("ns_type","hidden"),r.setLabel("ns_ap_ev",
"keep-alive"),r.setLabel("ns_ap_oc",e.Fr()+""),r),n,t,i)},ki:function(t,e,i){R(function(){var t=new o;t.setLabel("ns_type","view"),t.setLabel("ns_ap_ev","start"),t.setLabel("ns_ap_gs",g.lc()+""),t.setLabel("ns_ap_install",g.dc()+"");var e=n.Ne();return e>0&&t.setLabel("ns_ap_lastrun",e+""),g.vc()&&t.setLabel("ns_ap_updated",g._c()+""),t}(),t,e,i)},$i:function(n,t,e){R(function(){var n=new o;return n.setLabel("ns_type","hidden"),n.setLabel("ns_ap_ev","hidden"),n}(),n,t,e)},Zi:function(n,t,e){R(function(){var n=
new o;return n.setLabel("ns_type","view"),n.setLabel("ns_ap_ev","view"),n}(),n,t,e)},Bi:function(n,e){D[n]=e+"",t.put(v.Et,D)}}),S=0,w=[],I=t.get(v.wt,0),P=-1,A=0,L=-1,C=0,D=t.get(v.Et,{}),N=[],p.addListener(T)}},function(n,t,e){var i=e(0),r=e(3).kn,o=e(20),u=e(1);n.exports=function(n,t,e,s,a){var f;function c(i){200==i||s.isHttpRedirectCachingEnabled()&&(302==i||301==i)?t(n,s):e(n,s)}!function(){f=o.te(s.lr()||(s.isSecureTransmissionEnabled()?a.pi?u.D(r.V)?r.V():r.V:u.D(r.j)?r.j():r.j:a.pi?u.D(r.F)?
r.F():r.F:u.D(r.B)?r.B():r.B),n.getLabels(),s.getLabelOrder());var t="undefined"==typeof window||(window.ActiveXObject,1)?4096:2048;if(f.length>t&&f.indexOf("\x26")>0){var e=f.substring(0,t-8).lastIndexOf("\x26"),i=encodeURIComponent(f.substring(e+1));f=f.substring(0,e)+"\x26ns_cut\x3d"+i}f.length>t&&(f=f.substring(0,t))}(),i.extend(this,{Mr:function(){r.G?r.G(f,c,s):c()},ac:function(){return f}})}},function(n,t,e){var i=e(34),r=e(0),o=e(19),u=e(3).kn,s="a".charCodeAt(0);function a(n,t){if(0==t)return n;
var e=String.fromCharCode(s+t-1),i=function(n){var t=n.match(/^[cC](\d|[12]\d)$/);return t&&t[1]?t[1]:""}(n);return String(i?"c"+e+i:"c"+e+"_"+n)}function f(n,t,e){var i=[],r=n.getPersistentLabels();for(var o in r)i.push(o);if(e){var u=n.getStartLabels();for(o in u)i.push(o)}var s=t.getPublisherLabels(n.getPublisherId()),a=t.getLabels();for(o in s)o in a||i.push(o);return i}var c={fc:function(n,t,e,s){for(var c={},l=n.zr(),d=[],v=[],_=t.getIncludedPublishers(),h=s.getPublisherConfigurations(),p=0;p<
h.length;++p){var g=h[p],m=g.getPublisherId();m!=i.qi&&(0!=_.length&&-1==_.indexOf(m)||(d.push(g),v.push(m)))}if((0==_.length||-1!=_.indexOf(i.qi))&&s.getPartnerConfigurations().length>0){var y=function(n){for(var t={},e={},i=n.getPartnerConfigurations(),o=0;o<i.length;++o){var u=i[o];r.extend(t,u.getPersistentLabels()),r.extend(e,u.getStartLabels())}return n.Er().copy({persistentLabels:t,startLabels:e})}(s);d.push(y),v.push(y.getPublisherId())}for(var b=[],S=0;S<d.length;++S){var w=d[S];if(S>=26)break;
var E={};if(E.c2=w.getPublisherId(),E.c12=w.getPublisherUniqueDeviceId(),u.Cn&&(E.c12=u.Ln),r.extend(E,e),r.extend(E,s.getPersistentLabels()),r.extend(E,w.getPersistentLabels()),r.extend(E,t.getLabels()),l&&r.extend(E,s.getStartLabels()),r.extend(E,t.getPublisherLabels(w.getPublisherId())),l&&r.extend(E,w.getStartLabels()),0==S)b=f(w,t,l),r.extend(c,E);else{for(p=0;p<b.length;++p){var I=b[p];I in E||(E[I]="*null")}for(var P in E)P in c&&c[P]==E[P]||(c[a(P,S)]=E[P])}}if(t instanceof o){var A=t.$t();
for(p=0;p<A.length;++p){var C=A[p];if(S>=26)break;if(-1==v.indexOf(C)){var L=t.getPublisherLabels(C);for(P in c[a("c2",S)]=C,L)P in c&&c[P]==L[P]||(c[a(P,S)]=L[P]);S++}}}n.addLabels(c)}};n.exports=c},function(n,t,e){var i=e(0);n.exports=function(n){var t,e;!function(){var e=n.getProperties();try{(t=JSON.parse(e))&&"object"==typeof t||(t={})}catch(i){t={}}}(),e=!1,i.extend(this,{put:function(n,i){t[n]=i,e=!0},get:function(n,e){return n in t?t[n]:e},remove:function(n){delete t[n],e=!0},contains:function(n){return n in
t},clear:function(){t={}},he:function(){var i;e&&(i=JSON.stringify(t),n.storeProperties(i)),e=!1}})}},function(n,t,e){var i=e(0),r=e(3).kn;n.exports=function(n){var t,e;function o(){e&&(e=!1,function(){n();for(var e=0;e<t.length;e++)t[e]()}())}function u(){e&&(e=!1)}t=[],i.extend(this,{addListener:function(n){t.push(n)},cc:function(){e||(e=!0,r.Z(o,u))}})}},function(n,t,e){var i=e(0),r=e(11),o=e(1);n.exports=function(n,t){var e,u,s,a,f=-1;!function(){s=!1,a=!1,f=n.get(r.Zn,-1),e=n.get(r.nt,-1),u=
n.get(r.$n,null),n.put(r.$n,t.en());var i=o.N();-1==f?(f=i,e=i,n.put(r.Zn,f),n.put(r.nt,e),s=!0):u&&u!=t.en()&&(e=i,n.put(r.nt,e),n.put(r.wt,0),a=!0)}(),i.extend(this,{_c:function(){return u},lc:function(){return f},dc:function(){return e},vc:function(){return a},hc:function(){return s}})}},function(n,t,e){var i=e(0),r=e(11),o=e(3).kn,u=["previousVersion","AppName","AppVersion","vid","exitCode","q_dcc","q_dcf","runs","accumulatedActiveUserSessionTime","accumulatedUserSessionTime","activeUserSessionCount",
"userSessionCount","userInteractionCount","lastActiveUserSessionTimestamp","lastUserInteractionTimestamp","lastUserSessionTimestamp"],s={CACHE_DROPPED_MEASUREMENTS:r.Xn,lastApplicationAccumulationTimestamp:r.rt,lastSessionAccumulationTimestamp:r.ot,lastApplicationSessionTimestamp:r.ut,foregroundTransitionsCount:r.st,accumulatedForegroundTime:r.ft,accumulatedBackgroundTime:r.ct,accumulatedInactiveTime:r.lt,totalForegroundTime:r.dt,totalBackgroundTime:r.vt,totalInactiveTime:r._t,accumulatedApplicationSessionTime:r.ht,
applicationSessionCountKey:r.pt,genesis:r.gt,previousGenesis:r.yt,installId:r.nt,firstInstallId:r.Zn,currentVersion:r.$n,coldStartCount:r.wt,crossPublisherIdHashed:r.tt,crossPublisherId:r.et},a={pg:r.yt};n.exports=function(){var n="function"==typeof o.J?new o.J:null;i.extend(this,{Gi:function(t){if(n)for(var e in s){var i=n.get(e);null!=i&&t.put(s[e],i)}for(var r in a){var o=t.get(r);null!=o&&t.put(a[r],o)}},Hi:function(t){if(n){for(var e in s)n.remove(e);for(var i=0;i<u.length;++i)n.remove(u[i]);
n.clear()}for(var r in a)t.remove(r)}})}},function(n,t,e){var i=e(0),r=e(46),o=e(3).kn,u="cache_dir",s="undefined"!=typeof encodeURIComponent?decodeURIComponent:unescape;n.exports=function(n,t,e){var a="function"==typeof o.J?new o.J:null,f="function"==typeof o.Y?new o.Y:null,c=function(){return f&&f.dir(u)||[]},l=function(n){f&&(f.deleteFile(u,n),a&&a.remove(n))},d=function(n){if(!f)return[];var t=f.read(u,n);return t?t.split("\n"):[]};function v(n){for(var t=n.split("\x26"),e=new r,i=0;i<t.length;++i){var o=
t[i].split("\x3d"),u=s(o[0]),a=s(o[1]);e.setLabel(u,a)}return e}i.extend(this,{Ki:function(){var n=function(n){for(var t=[],e=0;e<n.length;++e){var i=v(n[e]);t.push(i)}return t}(function(){for(var n=c(),t=[],e=0;e<n.length;++e){var i=d(n[e]);t=t.concat(i)}return t}());e.Wr(n)},Ji:function(){for(var n=c(),t=0;t<n.length;++t)l(n[t])}})}},function(n,t,e){var i=e(0),r=e(96),o=e(11),u=e(3).kn;n.exports=function(){var n,t=new r.pc,e=!1,s=[],a=!1;function f(){if(n){var e=t.gc();if(e.oi&&!a){a=!0;for(var i=
0;i<s.length;++i)s[i](e);s=[],a=!1}}}i.extend(this,{disableTcfIntegration:function(){n=!1,s=[]},Xi:function(n){n.remove(o.it),n.remove(o.tt),n.remove(o.et)},zi:function(){n&&u.Nn&&(e||(e=!0,t.mc(f)))},Ai:function(i){var r=function(n){i(n)};if(n&&u.Nn){var o=t.gc();o.oi?r(o):s.push(r),e||(e=!0,t.mc(f))}else r({oi:!0,pi:!0,gi:!1,mi:{}})}}),n=!0}},function(n,t,e){var i=this&&this.yc||(Object.create?function(n,t,e,i){i===undefined&&(i=e);var r=Object.getOwnPropertyDescriptor(t,e);r&&!("get"in r?!t.v:
r.bc||r.Sc)||(r={l:!0,get:function(){return t[e]}}),Object.defineProperty(n,i,r)}:function(n,t,e,i){i===undefined&&(i=e),n[i]=t[e]}),r=this&&this.wc||function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||i(t,n,e)};Object.defineProperty(t,"v",{value:!0}),t.pc=void 0;var o=e(30),u=e(97),s=e(98);r(e(99),t);var a={oi:!0,pi:!0,gi:!1,mi:{}},f=function(){function n(){}return n.prototype.gc=function(){return this.Ec(),this.Ic?this.Ic.fi():a},n.prototype.mc=function(n){this.Ec(),
this.Ic&&this.Ic.li(n)},n.prototype.Pc=function(){return null!=this.Ic},n.prototype.Ec=function(){null==this.Ic&&((0,u.Ac)()?this.Ic=new u.Cc((0,u.Lc)(),(0,o.ei)()?(0,o.ti)():null):(0,s.Dc)()?this.Ic=new s.Nc((0,s.Tc)(),(0,o.ei)()?(0,o.ti)():null):(0,o.ei)()&&(this.Ic=new o.ii((0,o.ti)())))},n}();t.pc=f},function(n,t,e){Object.defineProperty(t,"v",{value:!0}),t.Lc=t.Ac=t.Cc=void 0;var i=e(31),r=e(30),o=function(){function n(n,t){void 0===t&&(t=null),this.ri={oi:!1},this.ui=[],this.si=!1,this.Oc=-1,
this.kc=null,this.Rc=!1,this.Mc=!1,this.Uc=n,this.ai=t}return n.prototype.fi=function(){return this.ci(),this.ri},n.prototype.li=function(n){this.ui.indexOf(n)>-1||(this.ui.push(n),this.ci())},n.prototype.ci=function(){var n=this;if(!this.si){this.si=!0;var t=+new Date,e=-1,r=function(r){if(!n.kc){n.Oc=r.xc,n.ri={oi:!1},-1==e&&(e=+new Date-t);try{if("sectionChange"==r.eventName||"loaded"==r.pingData.cmpStatus&&"visible"!=r.pingData.cmpDisplayStatus){var o=n.Uc("getGPPData"),u=n.Uc("getSection",null,
"tcfeuv2");if(!o||!u||-1==r.pingData.supportedAPIs.indexOf("tcfeuv2")||-1==o.applicableSections||0==o.applicableSections||o.applicableSections instanceof Array&&-1!=o.applicableSections.indexOf(-1))return void(n.ai?(n.Mc=!0,n.Wc(n.ai)):n.ri=(0,i.yi)({cs_cmp_id:r.pingData.cmpId,cs_cmp_rt:e,cs_cmp_av:r.pingData.gppVersion,gpp_sid:2}));n.ri=(0,i.di)(u,{cs_cmp_id:r.pingData.cmpId,cs_cmp_sv:u.cmpVersion,cs_cmp_rt:e,cs_cmp_av:r.pingData.gppVersion,gpp_sid:2}),n.ri.oi&&n.vi()}}catch(s){n.Rc=!0,n.Fc()}}};
try{r(this.Uc("addEventListener",r))}catch(o){this.Rc=!0,this.Fc()}}},n.prototype.vi=function(){for(var n=0,t=this.ui;n<t.length;n++)(0,t[n])()},n.prototype.removeEventListener=function(){try{this.Uc("removeEventListener",null,this.Oc)}catch(n){}},n.prototype.Fc=function(){this.removeEventListener(),this.ai?this.Wc(this.ai):(this.ri={oi:!0,pi:!0,gi:!1,mi:{cs_cmp_ie:3}},this.vi())},n.prototype.Wc=function(n){var t=this;if(!this.kc){this.removeEventListener();var e=this.kc=new r.ii(n);e.li(function(){t.ri=
e.fi(),t.ri.oi&&(t.Rc?t.ri.mi.cs_cmp_ie=1:t.Mc&&(t.ri.mi.cs_cmp_ie=2),t.vi())})}},n}();t.Cc=o,t.Ac=function(){if("function"!=typeof __gpp)return!1;var n=__gpp("ping");return n&&"1.0"==n.gppVersion},t.Lc=function(){return __gpp}},function(n,t,e){Object.defineProperty(t,"v",{value:!0}),t.Tc=t.Dc=t.Nc=void 0;var i=e(31),r=e(30),o=function(){function n(n,t){void 0===t&&(t=null),this.ri={oi:!1},this.ui=[],this.si=!1,this.Oc=-1,this.kc=null,this.Rc=!1,this.Mc=!1,this.Uc=n,this.ai=t}return n.prototype.fi=
function(){return this.ci(),this.ri},n.prototype.li=function(n){this.ui.indexOf(n)>-1||(this.ui.push(n),this.ci())},n.prototype.ci=function(){var n=this;if(!this.si){this.si=!0;var t=+new Date,e=-1;try{this.Uc("addEventListener",function(r){if(!n.kc){n.Oc=r.xc,n.ri={oi:!1},-1==e&&(e=+new Date-t);try{if("signalStatus"!=r.eventName||"ready"!=r.data)return;if(!r.pingData.parsedSections.tcfeuv2||-1==r.pingData.applicableSections||0==r.pingData.applicableSections||r.pingData.applicableSections instanceof
Array&&-1!=r.pingData.applicableSections.indexOf(-1))return void(n.ai?(n.Mc=!0,n.Wc(n.ai)):n.ri=(0,i.yi)({cs_cmp_id:r.pingData.cmpId,cs_cmp_rt:e,gpp_sid:2,cs_cmp_av:r.pingData.gppVersion}));n.ri=(0,i.di)(r.pingData.parsedSections.tcfeuv2,{cs_cmp_id:r.pingData.cmpId,cs_cmp_sv:r.pingData.parsedSections.tcfeuv2.cmpVersion,cs_cmp_rt:e,cs_cmp_av:r.pingData.gppVersion,gpp_sid:2}),n.ri.oi&&n.vi()}catch(o){n.Rc=!0,n.Fc()}}})}catch(r){this.Rc=!0,this.Fc()}}},n.prototype.vi=function(){for(var n=0,t=this.ui;n<
t.length;n++)(0,t[n])()},n.prototype.Fc=function(){this.removeEventListener(),this.ai?this.Wc(this.ai):(this.ri={oi:!0,pi:!0,gi:!1,mi:{cs_cmp_ie:3}},this.vi())},n.prototype.removeEventListener=function(){try{this.Uc("removeEventListener",function(){},this.Oc)}catch(n){}},n.prototype.Wc=function(n){var t=this;if(!this.kc){this.removeEventListener();var e=this.kc=new r.ii(n);e.li(function(){t.ri=e.fi(),t.ri.oi&&(t.Rc?t.ri.mi.cs_cmp_ie=1:t.Mc&&(t.ri.mi.cs_cmp_ie=2)),t.vi()})}},n}();t.Nc=o,t.Dc=function(){return"function"==
typeof __gpp},t.Tc=function(){return __gpp}},function(n,t,e){Object.defineProperty(t,"v",{value:!0})},function(n,t,e){var i=e(0),r=e(1),o=e(101);n.exports=function(){var n=!1,t=!0,e=!1,u=!1;function s(n){try{if("undefined"==typeof document||"undefined"==typeof document.cookie)return;var t=o.Vc(document.cookie,"_scor_uid");t||(t=r.uuid());var e=new Date((new Date).getTime()+33696E6);o.Bc(document,"_scor_uid",t,e),n.setLabel("cs_fpcu",t)}catch(i){}}i.extend(this,{enableFirstPartyCookie:function(){n=
!0},disableTcfIntegration:function(){t=!1},sc:function(i,r,a){t&&!i.gi||!t?n&&function(n){for(var t=n.getPublisherConfigurations(),e=n.getPartnerConfigurations(),i=t.concat(e),r=0;r<i.length;++r){var o=i[r].getPersistentLabels();if("1"==o.cs_ucfr||1==o.cs_ucfr)return!0}return!1}(r)?e||s(a):e=!0:n&&i.pi?e||s(a):(!function(n){try{if("undefined"==typeof document||"undefined"==typeof document.cookie)return;o.Vc(document.cookie,"_scor_uid")&&(o.qc(document,"_scor_uid"),u=!0)}catch(t){}}(),e=!0),u&&a.setLabel("cs_fpcd",
"1")}})}},function(n,t){function e(n,t,e,i){n.cookie=t+"\x3d"+e+"; expires\x3d"+i.toUTCString()+"; path\x3d/"}t.Vc=function(n,t){for(var e=0,i=n.split("; ");e<i.length;++e){var r=i[e];if(r&&0==r.indexOf(t))return r.substring(t.length+1)}},t.Bc=e,t.qc=function(n,t){e(n,t,"",new Date(0))}},function(n,t,e){var i=e(0),r=e(15),o=e(103),u=e(2).R,s=e(2).M,a=e(16),f=e(127),c=e(32),l=e(128),d=e(52),v=e(129),_=e(130);function h(n){var t,e=this;i.extend(e,{configuration:null,extendedAnalytics:null,createPlaybackSession:function(){t.jc().Iu().Eu("createPlaybackSession");
var n=t.jc().Tu().Nu();n!=s.IDLE&&(t.jc().Iu().Pu("Ending the current Clip. It was in state:",r.Mt(n)),e.notifyEnd()),t.jc().fo().Oo()&&t.Fu()},addListener:function(n){t.addListener(n)},removeListener:function(n){t.removeListener(n)},addMeasurementListener:function(n){t.addMeasurementListener(n)},removeMeasurementListener:function(n){t.removeMeasurementListener(n)},setDvrWindowLength:function(n){t.jc().fo().ao().setDvrWindowLength(n),t.jc().fo().ao().ta(!0)},startFromDvrWindowOffset:function(n){t.jc().fo().startFromDvrWindowOffset(n),
t.jc().fo().ao().ta(!0)},setMediaPlayerName:function(n){t.jc().fo().setMediaPlayerName(n)},setMediaPlayerVersion:function(n){t.jc().fo().setMediaPlayerVersion(n)},setImplementationId:function(n){t.jc().fo().setImplementationId(n)},setProjectId:function(n){t.setProjectId(n+"")},startFromSegment:function(n){t.jc().Iu().Eu("startFromSegment",n),t.jc().fo().startFromSegment(n)},startFromPosition:function(n){t.jc().Iu().Eu("startFromPosition",n),t.jc().fo().startFromPosition(n)},loopPlaybackSession:function(){t.jc().Iu().Eu("loopPlaybackSession"),
t.jc().fo().loopPlaybackSession()},setMetadata:function(n){t.jc().fo().wu(n)},getPlaybackSessionId:function(){return t.jc().fo().hu()},notifyPlay:function(){t.jc().Iu().Eu("notifyPlay");var n=new a(u.PLAY);t.Ou(n)},notifyPause:function(){t.jc().Iu().Eu("notifyPause");var n=new a(u.PAUSE);t.Ou(n)},notifyEnd:function(){t.jc().Iu().Eu("notifyEnd");var n=new a(u.END);t.Ou(n)},notifyBufferStart:function(){t.jc().Iu().Eu("notifyBufferStart");var n=new a(u.BUFFER);t.Ou(n)},notifyBufferStop:function(){t.jc().Iu().Eu("notifyBufferStop");
var n=new a(u.BUFFER_STOP);t.Ou(n)},notifySeekStart:function(){t.jc().Iu().Eu("notifySeekStart");var n=new a(u.SEEK_START);t.Ou(n)},notifyChangePlaybackRate:function(n){t.jc().Iu().Eu("notifyChangePlaybackRate");var e=Math.floor(100*n),i=new a(u.PLAYBACK_RATE);i.Vt.ns_st_rt=e+"",t.Xr(i)}}),t=new o(n),e.configuration=t.Gc,e.extendedAnalytics=new f(t.jc()),t.jc().Iu().log("New StreamingAnalytics instance with configuration",n)}h.PlayerEvents=u,h.InternalStates=s,h.WindowState=_,h.ContentMetadata=c,
h.StackedContentMetadata=l,h.AdvertisementMetadata=d,h.StackedAdvertisementMetadata=v,n.exports=h},function(n,t,e){var i=e(104),r=e(105),o=e(106),u=e(107),s=e(108),a=e(109),f=e(110),c=e(111),l=e(112),d=e(113),v=e(114),_=e(115),h=e(116),p=e(15),g=e(117),m=e(0),y=e(22),b=e(28),S=e(1),w=e(118),E=e(119),I=e(16),P=e(49),A=e(2).M,C=e(2).R,L=e(2).U,D=e(47),N=e(48),T=e(123),O=e(124),k=e(125),R=e(4),M=e(33),U=e(3).kn,x=e(19),W=e(126);function F(n){var t,e,F,V,B,q,j,G,H,K,J,Y,z,X,Q,$,Z,nn,tn,en,rn,on,un,sn,
an,fn,cn,ln,dn,vn,_n=this;function hn(n){var e=t.Tu().Nu();if(e==A.IDLE||e==A.PLAYBACK_NOT_STARTED||e==A.BUFFERING_BEFORE_PLAYBACK||e==A.SEEKING_BEFORE_PLAYBACK){if(n==C.PLAY)return!0}else if(e==A.PLAYING){if(n==C.END||n==C.AD_SKIP||n==C.SEEK_START||n==C.PAUSE)return!0}else if(e==A.PAUSED||e==A.BUFFERING_DURING_PAUSE||e==A.SEEKING_DURING_PLAYBACK||e==A.SEEKING_DURING_BUFFERING||e==A.SEEKING_DURING_PAUSE){if(n==C.END||n==C.AD_SKIP||n==C.PLAY)return!0}else if(e==A.BUFFERING_DURING_PLAYBACK){if(n==C.PAUSE_ON_BUFFERING||
n==C.END||n==C.AD_SKIP||n==C.SEEK_START||n==C.PAUSE||n==C.PLAY)return!0}else if(e==A.BUFFERING_DURING_SEEKING){if(n==C.END||n==C.AD_SKIP||n==C.PAUSE||n==C.PLAY)return!0}else if(e==A.PAUSED_DURING_BUFFERING&&(n==C.END||n==C.AD_SKIP||n==C.BUFFER_STOP||n==C.PLAY))return!0;return!1}function pn(n){(vn=n)==b.Ze.Be?(_n.Hc("1"),t.Iu().Pu("System clock jump detected","to the far past")):vn==b.Ze.qe?(_n.Hc("3"),t.Iu().Pu("System clock jump detected","to the future")):(_n.Hc("2"),t.Iu().Pu("System clock jump detected",
"to the near past"))}function gn(){_n.Ou(new I(C.END))}function mn(){F=M.configuration.cr()}function yn(){F=M.configuration.cr()}m.extend(_n,{Gc:null,Hc:function(n){-1==ln.indexOf(n)&&ln.push(n)},io:function(){var n=new I(C.HEARTBEAT);n.setLabel("ns_st_hc",t.Kc().ro());var e=t.fo(),i=e.ao(),r=isNaN(en)?tn:en;en=n.Bt,b.ni().Qe(n.Bt);var o=!1;vn&&(vn=null,o=!0,n.Bt=r);var u=i.Bo(),s=i.gs(),a=i.Mo(),f=i.xo(),c=i.Ko(),l=i.na();i.ea()?e.Ho(A.PLAYING,null,n.Bt):e.ko(A.PLAYING,null,n.Bt);var d=i.Mo();i.ls(n);
var v=_n.zn(C.HEARTBEAT,n);t.fo().ao().Xu(v.Jc),t.Yc().dispatchEvent(v),i.Ro(u),i.Uo(s),i.jo(a),i.Go(f),i.Zo(c),i.nu(l),o&&(i.Ro(d),i.Uo(en),e.Do(en-parseInt(v.Jc.ns_st_dpt)),i.Do(en-parseInt(v.Jc.ns_st_dpt)),i.ps(en-parseInt(v.Jc.ns_st_det)))},zn:function(n,i){var r=i.Bt,o=t.fo(),u={};u.ns_ts=r+"",u.ns_st_ev=C.toString(n),u.ns_st_mp="js_api",u.ns_st_mv="7.8.0+2310050509",u.ns_st_ub="0",u.ns_st_br="0",u.ns_st_pn="1",u.ns_st_tp="0",u.ns_st_it=L.toString(L.T),u.ns_st_sv="7.8.0+2310050509",u.ns_st_smv=
"6.4",u.ns_type="hidden",u.ns_st_ec=t.Yc().Yi()+"",u.ns_st_cfg=e.zc(),u.ns_st_hd=t.Kc().lo(r),u.ns_st_po=o.ao().Mo()+"",ln.length>0&&(u.ns_ap_ie=ln.join(";")),o.zn(u,r),o.ao().zn(u,r,n==C.HEARTBEAT),m.extend(u,i.Vt),m.extend(u,cn),function(){for(var n=m.h(fn),t=0;t<n.length;++t)n[t](u)}();var s={};m.extend(s,u),m.extend(s,e.getLabels());var a=new x;a.Zt(!1);var f=e.Xc(),c=e.Qc,l=o.ao(),d=l.getStacks();if(c.length>0)for(var v=0;v<c.length;++v){var _=c[v];-1!=F.indexOf(_)&&a.addIncludedPublisher(_)}else for(v=
0;v<F.length;++v){var h=F[v];a.addIncludedPublisher(h)}var p=[];for(var g in f){var y=f[g];if(!(c.length>0&&-1==c.indexOf(g))){var b={};m.extend(b,s),m.extend(b,y.getLabels()),m.extend(b,l.getLabels()),d[g]&&m.extend(b,d[g]),m.extend(b,i.Ft),a.addPublisherLabels(g,b),p.push(g)}}var S=[];for(var w in d){var E=d[w];if(-1==p.indexOf(w)){var I={};m.extend(I,E),m.extend(I,i.Ft),a.addPublisherLabels(w,I),S.push(w)}}return a.Qt(S),m.extend(s,l.getLabels()),m.extend(s,i.Ft),a.addLabels(s),new W(n,a,u)},Ou:function(n){var i=
t.Tu().Nu();if(e.Uu){if(sn&&i==A.BUFFERING_BEFORE_PLAYBACK&&n.Wt==C.BUFFER_STOP){t.Iu().Pu("Resume to PLAY from state:",p.Mt(i));var r=new I(C.PLAY);return r.Bt=n.Bt,r.Vt.ns_st_ae="1",_n.Ou(r),void(sn=!1)}sn&&(sn=!1)}var o=t.Tu().$c(n.Wt);if(null!=o&&o!=i){dn&&p.Ut(i)&&!p.Ut(o)?U.Pn(gn):dn&&!p.Ut(i)&&p.Ut(o)&&U.An(gn);var u=t.fo(),s=u.ao(),a=isNaN(en)?tn:en;en=n.Bt,b.ni().Qe(n.Bt);var f=!1;vn&&(vn=null,f=!0,n.Bt=a),i==A.IDLE&&s.Jr("ns_st_pn")&&u.startFromSegment(parseInt(s.Yr("ns_st_pn"))),s.ea()?
u.Ho(i,o,n.Bt):u.ko(i,o,n.Bt),i==A.IDLE&&u.tu(),function(n){var e=t.Tu().Nu();n.Wt==C.AD_SKIP&&!n.Vt.hasOwnProperty("ns_st_ui")&&hn(n.Wt)?n.Vt.ns_st_ui="skip":n.Wt==C.SEEK_START&&!n.Vt.hasOwnProperty("ns_st_ui")&&hn(n.Wt)&&(n.Vt.ns_st_ui="seek");var i=n.Wt;e==A.IDLE?i==C.BUFFER?V.Zc(n):i==C.SEEK_START?V.nl(n):i==C.PLAY&&V.tl(n):e==A.PLAYBACK_NOT_STARTED?i==C.END||i==C.AD_SKIP?q.el(n):i==C.SEEK_START?q.nl(n):i==C.PLAY?q.tl(n):i==C.BUFFER&&q.Zc(n):e==A.PLAYING?i==C.END||i==C.AD_SKIP?j.el(n):i==C.BUFFER?
j.Zc(n):i==C.SEEK_START?j.nl(n):i==C.PAUSE&&j.il(n):e==A.PAUSED?i==C.END||i==C.AD_SKIP?B.el(n):i==C.PLAY?B.tl(n):i==C.BUFFER?$.rl(n):i==C.SEEK_START&&$.ol(n):e==A.BUFFERING_BEFORE_PLAYBACK?i==C.END||i==C.AD_SKIP?G.el(n):i==C.BUFFER_STOP?G.ul(n):i==C.SEEK_START?G.nl(n):i==C.PAUSE?G.il(n):i==C.PLAY&&G.tl(n):e==A.BUFFERING_DURING_PLAYBACK?i==C.PAUSE_ON_BUFFERING?H.sl(n):i==C.BUFFER_STOP?$.al(n):i==C.END||i==C.AD_SKIP?H.el(n):i==C.SEEK_START?H.nl(n):i==C.PAUSE?H.il(n):i==C.PLAY&&$.al(n):e==A.BUFFERING_DURING_SEEKING?
i==C.END||i==C.AD_SKIP?K.el(n):i==C.PAUSE?K.il(n):i==C.PLAY?K.tl(n):i==C.BUFFER_STOP&&$.fl(n):e==A.BUFFERING_DURING_PAUSE?i==C.END||i==C.AD_SKIP?J.cl(n):i==C.PAUSE?J.il(n):i==C.PLAY?J.tl(n):i==C.SEEK_START?$.ol(n):i==C.BUFFER_STOP&&$.fl(n):e==A.SEEKING_BEFORE_PLAYBACK?i==C.END||i==C.AD_SKIP?z.el(n):i==C.PAUSE?z.il(n):i==C.PLAY?z.tl(n):i==C.BUFFER&&$.rl(n):e==A.SEEKING_DURING_PLAYBACK?i==C.END||i==C.AD_SKIP?Q.el(n):i==C.PLAY?Q.tl(n):i==C.BUFFER?$.rl(n):i==C.PAUSE&&$.ll(n):e==A.SEEKING_DURING_BUFFERING?
i==C.PAUSE?X.il(n):i==C.BUFFER?$.rl(n):i==C.PLAY?$.dl(n):i==C.END||i==C.AD_SKIP?$.vl(n):i==C.BUFFER_STOP&&$._l(n):e==A.PAUSED_DURING_BUFFERING?i==C.END||i==C.AD_SKIP?Y.el(n):i==C.BUFFER_STOP?Y.hl(n):i==C.SEEK_START?Y.nl(n):i==C.PAUSE?Y.il(n):i==C.PLAY&&Y.hl(n):e==A.SEEKING_DURING_PAUSE&&(i==C.BUFFER?$.rl(n):i==C.PLAY?$.dl(n):i==C.PAUSE?$.ll(n):i==C.END||i==C.AD_SKIP?$.vl(n):i==C.BUFFER_STOP&&$._l(n)),hn(i)&&t.fo().vu(!0)}(n),t.Tu().Ou(n.Wt,n.Bt),o==A.IDLE?b.ni().Xe(pn):i==A.IDLE&&b.ni().ze(pn),f&&
(s.Ro(s.Mo()),s.Uo(en),o!=A.IDLE&&o!=A.PLAYBACK_NOT_STARTED&&o!=A.SEEKING_BEFORE_PLAYBACK&&o!=A.BUFFERING_BEFORE_PLAYBACK&&s.ps(en),o!=A.BUFFERING_BEFORE_PLAYBACK&&o!=A.BUFFERING_DURING_PAUSE&&o!=A.BUFFERING_DURING_PLAYBACK&&o!=A.BUFFERING_DURING_SEEKING&&o!=A.PAUSED_DURING_BUFFERING||(u.Co(en),s.Co(en)),o==A.PLAYING&&(u.Do(en),s.Do(en)),o!=A.SEEKING_BEFORE_PLAYBACK&&o!=A.SEEKING_DURING_BUFFERING&&o!=A.SEEKING_DURING_PAUSE&&o!=A.SEEKING_DURING_PLAYBACK&&o!=A.BUFFERING_DURING_SEEKING||s.As(en)),t.Iu().log("Transition from",
p.Mt(i),"to",p.Mt(o),"due to event:",C.toString(n.Wt));for(var c=0,l=an.length;c<l;c++)an[c](i,o,n.Vt)}else t.Iu().Pu("Ignored event:",C.toString(n.Wt),"during state",p.Mt(i),n.Vt)},Xr:function(n){var e=n.Wt,i=n.Vt,r=t.Tu().Nu();if(e!=C.LOAD&&e!=C.ENGAGE||r==A.IDLE){var o,u,s,a,f=!0,c=!1,l=!0;if(e==C.ERROR&&null==i.ns_st_er&&(i.ns_st_er=R.Mn),e==C.TRANSFER&&null==i.ns_st_rp&&(i.ns_st_rp=R.Mn),e==C.PLAYBACK_RATE){var d=parseInt(i.ns_st_rt);(0==d||isNaN(d))&&(l=!1,_n.Hc("6"),i.ns_st_rt=t.fo().ao().Qs()+
"")}if(e==C.VOLUME){var v=parseInt(i.ns_st_vo);(v<0||isNaN(v))&&(l=!1,_n.Hc("7"),i.ns_st_vo=cn.ns_st_vo)}switch(e){case C.BIT_RATE:o="ns_st_br",u="ns_st_pbr";break;case C.PLAYBACK_RATE:o="ns_st_rt",u="ns_st_prt";break;case C.VOLUME:o="ns_st_vo",u="ns_st_pvo";break;case C.WINDOW_STATE:o="ns_st_ws",u="ns_st_pws";break;case C.AUDIO:o="ns_st_at",u="ns_st_pat";break;case C.VIDEO:o="ns_st_vt",u="ns_st_pvt";break;case C.SUBS:o="ns_st_tt",u="ns_st_ptt";break;case C.CDN:o="ns_st_cdn",u="ns_st_pcdn";break;
default:f=!1}var _=t.fo(),h=_.ao();if(f&&o in i)switch(a=i[o],e){case C.BIT_RATE:case C.VOLUME:case C.WINDOW_STATE:o in cn&&(s=cn[o],i[u]=s,c=a==s+""),cn[o]=i[o];break;case C.AUDIO:case C.VIDEO:case C.SUBS:case C.CDN:h.Yu(o)&&(s=h.Ju(o),i[u]=s,c=a==s+""),h.Mu(o,i[o]);break;case C.PLAYBACK_RATE:s=h.Qs(),i[u]=s+""}if(f&&r!=A.PLAYING&&r!=A.BUFFERING_DURING_PLAYBACK||f&&c&&l)return e==C.PLAYBACK_RATE&&h.$s(parseInt(i.ns_st_rt)),void t.Iu().Pu("No measurement send for the pseudo-event:",C.toString(e),
"during state",p.Mt(r),i);var g=isNaN(en)?tn:en;en=n.Bt,b.ni().Qe(n.Bt);var m=!1;vn&&(vn=null,m=!0,n.Bt=g),h.ea()?_.Ho(r,null,n.Bt):_.ko(r,null,n.Bt),r==A.IDLE&&_.tu();var y=h.Mo();_.ou(),r!=A.IDLE&&r!=A.PLAYBACK_NOT_STARTED&&r!=A.SEEKING_BEFORE_PLAYBACK&&r!=A.BUFFERING_BEFORE_PLAYBACK&&(h._s(n.Bt),h.ps(n.Bt)),r==A.PLAYING&&(_.wo(n.Bt),_.Do(n.Bt),h.wo(n.Bt),h.Do(n.Bt),h.Zs(y),h.cs(y),h.ls(),h.as(y),t.Kc().pause(),t.Kc().resume()),r!=A.BUFFERING_BEFORE_PLAYBACK&&r!=A.BUFFERING_DURING_PAUSE&&r!=A.BUFFERING_DURING_PLAYBACK&&
r!=A.BUFFERING_DURING_SEEKING||(_.Io(n.Bt),_.Co(n.Bt),h.Io(n.Bt),h.Co(n.Bt));var S=_n.zn(e,n);h.Su(S.Jc),h.Xu(S.Jc),_.Su(S.Jc),t.Yc().dispatchEvent(S),e==C.PLAYBACK_RATE&&h.$s(parseInt(i.ns_st_rt)),m&&(h.Ro(y),h.Uo(en),r==A.PLAYING&&(_.Do(en),h.Do(en)),r!=A.IDLE&&r!=A.PLAYBACK_NOT_STARTED&&r!=A.SEEKING_BEFORE_PLAYBACK&&r!=A.BUFFERING_BEFORE_PLAYBACK&&h.ps(en),r!=A.BUFFERING_BEFORE_PLAYBACK&&r!=A.BUFFERING_DURING_PAUSE&&r!=A.BUFFERING_DURING_PLAYBACK&&r!=A.BUFFERING_DURING_SEEKING&&r!=A.PAUSED_DURING_BUFFERING||
(_.Co(en),h.Co(en)),r!=A.SEEKING_BEFORE_PLAYBACK&&r!=A.SEEKING_DURING_BUFFERING&&r!=A.SEEKING_DURING_PAUSE&&r!=A.SEEKING_DURING_PLAYBACK&&r!=A.BUFFERING_DURING_SEEKING||h.As(en))}else t.Iu().Pu("Ignored pseudo-event:",C.toString(e),"during state",p.Mt(r),i)},addListener:function(n){an.push(n)},removeListener:function(n){an.splice(y.indexOf(n,an),1)},addMeasurementListener:function(n){S.D(n)&&fn.push(n)},removeMeasurementListener:function(n){var t=fn.indexOf(n);-1!=t&&fn.splice(t,1)},$r:function(){return U},
pl:function(){return Z},gl:function(n){Z=n},ml:function(){return nn},setLoadTimeOffset:function(n){nn=n},yl:function(){return tn},bl:function(){return on},Sl:function(){return dn},wl:function(n){_n.El(),un=_n.$r().setTimeout(function(){var n=new I(C.PAUSE_ON_BUFFERING);_n.Ou(n)},rn)},El:function(){null!=un&&(_n.$r().clearTimeout(un),un=null)},xu:function(){sn=!0},jc:function(){return t},Fu:function(n){var e=t.fo();t.Il(new P(t)),t.fo().cu(mn),P.Fu(t,e,n),ln=[]},Pl:function(){t.Kc().reset()},setProjectId:function(n){cn.cs_proid=
n}}),t=new g(_n),e=new E(n||{}),_n.Gc=new w(e),t.Al(e),t.Cl(M),t.Ll(new D(t)),t.Dl(new N(t)),t.Nl(new T(e,M)),t.Yc().Tl(yn),t.Ol(new k),t.kl(new O("STA",t.Rl().configuration.Ir())),t.Il(new P(t)),t.fo().cu(mn),F=[],V=new i(t),B=new r(t),q=new o(t),j=new u(t),G=new s(t),H=new a(t),K=new f(t),J=new c(t),Y=new l(t),z=new d(t),X=new v(t),Q=new _(t),$=new h(t),Z=!1,nn=0,tn=S.N(),on=!0,ln=[],an=[],fn=[],(cn={}).ns_st_vo="100",vn=null,function(n){on=n.Ml,rn=n.Ul,dn=n.xl}(e)}F.Wl=500,F.Fl=!0,F.Vl=!0,n.exports=
F},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{Zc:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.ou(),e.fu(),i.ws()&&i.Ns(i.Os()),e.Co(r),i.Co(r),i.ps(r)},nl:function(t){var e=n.fo(),i=e.ao(),r=i.Mo(),o=t.Bt;e.ou(),e.fu(),i.ws()&&i.Ns(i.Os()),i.us(),i.Ss(!0),i.Es(!0),i.ks(r),i.As(o),i.ps(o)},tl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;e.ou(),e.fu(),(i.Xs()||0==e.lu())&&(e.du(),i.bu(!1)),i.ws()&&(i.Ns(i.Os()),i.xs(o),i.Ss(!1)),e._u(),i.Ps(!0),i.yu(!0),i.Vs(),(0==i.Hs()||
i.iu()<=i.Hs())&&(i.mu(i.iu()),i.Bs(),i.au(0),i.qs()),i._u(),i.bo(),e.Do(u),i.Do(u),i.ps(u),i.as(o),n.Qr().pl()||(t.Vt.ns_st_lt=n.Qr().ml()+u-n.Qr().yl()+"",n.Qr().gl(!0)),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{el:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().Pl(),n.Bl().stop(),i._s(o);var u=n.Qr().zn(r.END,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u),
i.ws()&&i.Is()&&(i.Ts(o-i.Cs()),i.Ss(!1)),i.Fs(),i.Ps(!1)},tl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;e._u(),i.ws()&&(i.Is()&&(i.Ls(u),i.Es(!1)),i.xs(o),i.Ss(!1)),i.bo(),i._u(),e.Do(u),i.Do(u),i._s(u),i.ps(u),i.as(o),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{el:function(t){var e=n.fo().ao(),i=t.Bt;e.ws()&&e.Is()&&(e.Ts(i-e.Cs()),e.Es(!1)),
e._s(i),e.Fs(),e.Ps(!1)},nl:function(t){var e=n.fo().ao(),i=e.Mo(),r=t.Bt;e.ws()?e.As(r):e.us(),e.ws()||(e.Ss(!0),e.Es(!0),e.ks(i),e.As(r))},tl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;i.ws()&&(i.xs(o),i.Ss(!1)),(i.Xs()||0==e.lu())&&(e.du(),i.bu(!1)),e._u(),i.Ps(!0),i.yu(!0),i.Vs(),(0==i.Hs()||i.iu()<=i.Hs())&&(i.mu(i.iu()),i.Bs(),i.au(0),i.qs()),i._u(),i.bo(),e.Do(u),i.Do(u),i._s(u),i.ps(u),i.as(o),n.Qr().pl()||(t.Vt.ns_st_lt=n.Qr().ml()+u-n.Qr().yl()+"",n.Qr().gl(!0)),n.Kc().resume(),n.Bl().start();
var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)},Zc:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.Co(r),i.Co(r)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{el:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;n.Qr().Pl(),n.Bl().stop(),e.wo(u),i.wo(u),i.Zs(o),i._s(u),i.cs(o),i.ls();var s=n.Qr().zn(r.END,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s),i.Fs(),i.Ps(!1)},Zc:function(t){var e=n.fo(),i=e.ao(),r=i.Mo(),o=t.Bt;n.Kc().pause(),
n.Bl().stop(),e.wo(o),i.wo(o),i.Zs(r),i.cs(r),i.ls(),n.Qr().bl()&&n.Qr().wl(t),i.Js(),e.Co(o),i.Co(o),i._s(o),i.ps(o)},nl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;n.Kc().pause(),n.Bl().stop(),e.wo(u),i.wo(u),i.Zs(o),i.cs(o),i.ls(),i.us(),i.Ss(!0),i.Es(!0),i.ks(o),i.As(u),i._s(u),i.ps(u),e.So(),i.So();var s=n.Qr().zn(r.PAUSE,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)},il:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;n.Kc().pause(),n.Bl().stop(),e.wo(u),i.wo(u),i.Zs(o),
i.cs(o),i.ls(),i._s(u),i.ps(u),e.So(),i.So();var s=n.Qr().zn(r.PAUSE,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{el:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.Io(r),i.Io(r),i.ws()&&i.Is()&&i.Ts(r-i.Cs()),i._s(r),i.Fs(),i.Ps(!1)},ul:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.Io(r),i.Io(r),i.ws()&&i.Is()&&(i.Ls(r),i.Es(!1))},nl:function(t){var e=n.fo(),i=e.ao(),r=i.Mo(),o=t.Bt;e.Io(o),i.Io(o),i.ws()?i.Is()||
(i.As(o),i.Es(!0)):i.us(),i.ws()||(i.Ss(!0),i.Es(!0),i.ks(r),i.As(o))},il:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.Io(r),i.Io(r),i.ws()&&i.Is()&&(i.Ls(r),i.Es(!1))},tl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;e.Io(u),i.Io(u),i.ws()&&(i.Is()&&(i.Ls(u),i.Es(!1)),i.xs(o),i.Ss(!1)),i.Ps(!0),i.yu(!0),(i.Xs()||0==e.lu())&&(e.du(),i.bu(!1)),e._u(),i.Ps(!0),i.Vs(),i.bo(),e.Do(u),i.Do(u),i._s(u),i.ps(u),i.as(o),(0==i.Hs()||i.iu()<=i.Hs())&&(i.mu(i.iu()),i.Bs(),i.au(0),i.qs()),i._u(),n.Qr().pl()||
(t.Vt.ns_st_lt=n.Qr().ml()+u-n.Qr().yl()+"",n.Qr().gl(!0)),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{sl:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().El(),i._s(o),i.ps(o),e.Io(o),i.Io(o),e.So(),i.So();var u=n.Qr().zn(r.PAUSE,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u),e.Co(o),i.Co(o)},el:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().El(),
n.Qr().Pl(),n.Bl().stop(),e.Io(o),i.Io(o),i._s(o);var u=n.Qr().zn(r.END,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u),i.Fs(),i.Ps(!1)},nl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;n.Qr().El(),n.Kc().pause(),n.Bl().stop(),i._s(u),i.ps(u),e.Io(u),i.Io(u),i.us(),i.Ss(!0),i.Es(!0),i.ks(o),i.As(u),e.So(),i.So();var s=n.Qr().zn(r.PAUSE,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)},il:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().El(),i._s(o),i.ps(o),e.Io(o),i.Io(o),
e.So(),i.So();var u=n.Qr().zn(r.PAUSE,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{el:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().Pl(),n.Bl().stop(),n.Qr().El(),e.Io(o),i.Io(o),i._s(o);var u=n.Qr().zn(r.END,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u),i.ws()&&i.Is()&&(i.Ts(o-i.Cs()),i.Es(!1)),i.Fs(),i.Ps(!1)},il:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.Io(r),i.Io(r),e.So(),i.So(),i.ws()&&
i.Is()&&(i.Ls(r),i.Es(!1)),i._s(r),i.ps(r)},tl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;e._u(),i._u(),i.bo(),e.Io(u),i.Io(u),i.ws()&&(i.Is()&&(i.Ls(u),i.Es(!1)),i.xs(o),i.Ss(!1)),i._s(u),i.ps(u),e.Do(u),i.Do(u),i.as(o),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{cl:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().Pl(),n.Bl().stop(),e.Io(o),i.Io(o),
i._s(o);var u=n.Qr().zn(r.END,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u),i.ws()&&i.Is()&&(i.Ts(o-i.Cs()),i.Es(!1)),i.Fs(),i.Ps(!1)},il:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.Io(r),i.Io(r),i._s(r),i.ps(r)},tl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;e._u(),i._u(),i.bo(),e.Io(u),i.Io(u),i.ws()&&(i.Is()&&(i.Ls(u),i.Es(!1)),i.xs(o),i.Ss(!1)),i._s(u),i.ps(u),e.Do(u),i.Do(u),i.as(o),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)}})}},
function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{el:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().Pl(),n.Bl().stop(),e.Io(o),i.Io(o),i._s(o),i.ws()&&i.Is()&&(i.Ts(o-i.Cs()),i.Es(!1));var u=n.Qr().zn(r.END,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u),i.Fs(),i.Ps(!1)},nl:function(t){var e=n.fo(),i=e.ao(),r=i.Mo(),o=t.Bt;e.Io(o),i.Io(o),i.ws()?i.Is()||(i.As(o),i.Es(!0)):i.us(),i.ws()||(i.Ss(!0),i.Es(!0),i.ks(r),i.As(o)),i._s(o),i.ps(o)},il:function(t){var e=n.fo(),
i=e.ao(),r=t.Bt;e.Io(r),i.Io(r),i._s(r),i.ps(r)},hl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;e._u(),i._u(),e.Io(u),i.Io(u),i.bo(),e.Do(u),i.Do(u),i._s(u),i.ps(u),i.as(o),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{el:function(t){var e=n.fo().ao(),i=t.Bt;e.ws()&&e.Is()&&(e.Ts(i-e.Cs()),e.Es(!1)),e._s(i),e.Fs(),e.Ps(!1)},il:function(t){var e=n.fo().ao(),
i=t.Bt;e.ws()&&e.Is()&&(e.Ls(i),e.Es(!1))},tl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;i.ws()&&(i.Is()&&(i.Ls(u),i.Es(!1)),i.xs(o),i.Ss(!1)),(i.Xs()||0==e.lu())&&(e.du(),i.bu(!1)),e._u(),i.Ps(!0),i.yu(!0),i.Vs(),(0==i.Hs()||i.iu()<=i.Hs())&&(i.mu(i.iu()),i.Bs(),i.au(0),i.qs()),i._u(),i.bo(),e.Do(u),i.Do(u),i._s(u),i.ps(u),i.as(o),n.Qr().pl()||(t.Vt.ns_st_lt=n.Qr().ml()+u-n.Qr().yl()+"",n.Qr().gl(!0)),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),
n.Yc().dispatchEvent(s)}})}},function(n,t,e){var i=e(0);n.exports=function(n){i.extend(this,{il:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.So(),i.So(),i.ws()&&i.Is()&&(i.Ls(r),i.Es(!1)),i._s(r),i.ps(r)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{el:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().Pl(),n.Bl().stop(),i._s(o);var u=n.Qr().zn(r.END,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u),i.ws()&&i.Is()&&(i.Ts(o-i.Cs()),i.Es(!1)),i.Fs(),i.Ps(!1)},tl:function(t){var e=
n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;e._u(),i._u(),i.bo(),i.ws()&&(i.Is()&&(i.Ls(u),i.Es(!1)),i.xs(o),i.Ss(!1)),i._s(u),i.ps(u),e.Do(u),i.Do(u),i.as(o),n.Qr().pl()||(t.Vt.ns_st_lt=n.Qr().ml()+u-n.Qr().yl()+"",n.Qr().gl(!0)),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)}})}},function(n,t,e){var i=e(0),r=e(2).R;n.exports=function(n){i.extend(this,{ol:function(t){var e=n.fo().ao(),i=e.Mo(),r=t.Bt;e.ws()?e.Is()||(e.As(r),e.Es(!0)):e.us(),
e.ws()||(e.Ss(!0),e.Es(!0),e.ks(i),e.As(r)),e._s(r),e.ps(r)},rl:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.Co(r),i.Co(r),i._s(r),i.ps(r)},dl:function(t){var e=n.fo(),i=e.ao(),o=i.Mo(),u=t.Bt;e._u(),i._u(),i.ws()&&(i.Is()&&(i.Ls(u),i.Es(!1)),i.xs(o),i.Ss(!1)),i.bo(),e.Do(u),i.Do(u),i._s(u),i.ps(u),i.as(o),n.Kc().resume(),n.Bl().start();var s=n.Qr().zn(r.PLAY,t);i.Su(s.Jc),i.Xu(s.Jc),e.Su(s.Jc),n.Yc().dispatchEvent(s)},fl:function(t){var e=n.fo(),i=e.ao(),r=t.Bt;e.Io(r),i.Io(r),i._s(r),i.ps(r)},ll:function(t){var e=
n.fo().ao(),i=t.Bt;e.ws()&&e.Is()&&(e.Ls(i),e.Es(!1)),e._s(i),e.ps(i)},vl:function(t){var e=n.fo(),i=e.ao(),o=t.Bt;n.Qr().Pl(),n.Bl().stop(),i._s(o);var u=n.Qr().zn(r.END,t);i.Su(u.Jc),i.Xu(u.Jc),e.Su(u.Jc),n.Yc().dispatchEvent(u),i.ws()&&i.Is()&&(i.Ts(o-i.Cs()),i.Es(!1)),i.Fs(),i.Ps(!1)},_l:function(t){var e=n.fo().ao(),i=t.Bt;e.ws()&&e.Is()&&(e.Ls(i),e.Es(!1)),e._s(i),e.ps(i)},al:function(t){var e=n.fo(),i=e.ao(),r=i.Mo(),o=t.Bt;n.Qr().El(),e.Io(o),i.Io(o),e.Do(o),i.Do(o),i.as(r),i._s(o),i.ps(o),
n.Kc().resume(),n.Bl().start()}})}},function(n,t,e){var i=e(0);n.exports=function(n){var t,e,r,o,u,s,a,f;i.extend(this,{Rl:function(){return e},Qr:function(){return n},getConfiguration:function(){return t},Yc:function(){return r},Tu:function(){return o},Kc:function(){return u},Bl:function(){return s},fo:function(){return a},Iu:function(){return f},Al:function(n){t=n},Cl:function(n){e=n},Ll:function(n){s=n},Dl:function(n){u=n},Nl:function(n){r=n},Ol:function(n){o=n},Il:function(n){a=n},kl:function(n){f=
n}})}},function(n,t,e){var i=e(0);n.exports=function(n){i.extend(this,{addLabels:n.addLabels,setLabel:n.setLabel,removeLabel:n.removeLabel,removeAllLabels:n.removeAllLabels,getStreamingPublisherConfiguration:n.getStreamingPublisherConfiguration})}},function(n,t,e){var i=e(0),r=e(8),o=e(47),u=e(48),s=e(49),a=e(55),f=e(122),c={Ml:"pauseOnBuffering",Ul:"pauseOnBufferingInterval",xl:"exitEndEvent",Zr:"keepAliveMeasurement",no:"keepAliveInterval","do":"heartbeatMeasurement",vo:"heartbeatIntervals",Qc:"includedPublishers",
Uu:"autoResumeStateOnAssetChange",ia:"playbackIntervalMergeTolerance",labels:"labels",ra:"customStartMinimumPlayback"};n.exports=function(n){var t=this,e="",l={};for(var d in t.Ml=!0,t.Ul=500,t.xl=!0,t.Zr=o.ENABLED,t.no=o.to,t["do"]=u.ENABLED,t.vo=u._o,t.Qc=[],t.Uu=s.Vu,t.ia=a.oa,t.labels={},t.ra=a.sa,c){var v=n[c[d]];null!=v&&(t[d]=v)}t.no=t.no<o.eo?o.eo:t.no,t.Ul=t.Ul<300?300:t.Ul,t.ia=t.ia<a.ua?a.ua:t.ia,t.no=1E3*Math.floor(t.no/1E3),t.Ul=100*Math.floor(t.Ul/100),t.ia=100*Math.floor(t.ia/100),
t.ra=1E3*Math.floor(t.ra/1E3),e+=t.Ml?"1":"0",e+=t.Zr?"1":"0",e+=t["do"]?"1":"0",e+=t.Uu?"1":"0",e+=t.xl?"1":"0",e+=u.ho(t.vo,u._o)?"0":"1",e+=t.Qc.length>0?"1":"0",e+=t.ia!=a.oa?"1":"0",e+=t.ra!=a.ql?"1":"0",e+="-"+(t.Ul/100).toString(16),e+="-"+(t.no/1E3).toString(16),e+="-"+(t.ra/1E3).toString(16),e+="-"+(t.ia/100).toString(16),t.zc=function(){return e},i.extend(t,{getLabels:function(){return t.labels},addLabels:function(n){r.zn(t.labels,n)},setLabel:function(n,e){r.Yn(t.labels,n,e)},removeLabel:function(n){delete t.labels[n]},
removeAllLabels:function(){t.labels={}},getStreamingPublisherConfiguration:function(n){return l[n]=l[n]||new f,l[n]},Xc:function(){return l}})}},function(n,t){var e=e||{};e.jl=function(n){return n.replace(/&#x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],16))})},e.Gu=function(n,t){var e=t+"";return Array(n).join("0").substring(0,Math.max(n-e.length,0))+e},n.exports=e},function(n,t,e){var i=e(0),r=e(50);n.exports=function(){var n=null,t={};i.extend(this,{uu:function(e){var i=
e.Vo();t[i]=e,r.Fo(e.Yr("ns_st_ad"))||(n=e)},Au:function(n){return!!t[n]},ao:function(n){return t[n]},Wo:function(){return n}})}},function(n,t,e){var i=e(0),r=e(8);n.exports=function(){var n;i.extend(this,{setLabel:function(t,e){r.Yn(n,t,e)},removeLabel:function(t){delete n[t]},addLabels:function(t){r.zn(n,t)},removeAllLabels:function(){n={}},getLabels:function(){return n}}),n={}}},function(n,t,e){var i=e(0),r=e(2).R,o=e(18);n.exports=function(n,t){var e,u,s,a,f=this;function c(){for(var n=0;n<u.length;++n){var e=
u[n];t.$i(e)}u=[]}function l(n){switch(n){case o.TIME_WINDOW_ELAPSED:a=!0,v()&&d();break;case o.PUBLISHER:a&&v()&&d()}}function d(){for(var e=0;e<s.length;++e)s[e]();t.configuration.removeListener(l);var i=t.configuration.cr();for(e=0;e<u.length;++e)for(var r=u[e],o=0;o<i.length;o++){var a=i[o];n.Qc.length>0&&-1==n.Qc.indexOf(a)||r.addIncludedPublisher(a)}c()}function v(){var e=t.configuration.cr();if(0==n.Qc.length)return!0;for(var i=0;i<e.length;++i)if(-1!=n.Qc.indexOf(e[i]))return!0;return!1}i.extend(this,
{dispatchEvent:function(n){n.Gl!=r.HEARTBEAT&&f.Hl(),u.push(n.uc),a&&v()&&c()},Tl:function(n){s.push(n)},Yi:function(){return e},Hl:function(){e++}}),e=1,u=[],s=[],(a=t.configuration.wr())&&v()||t.configuration.addListener(l)}},function(n,t){n.exports=function(n,t){function e(t){t=t||[];var e=["comScore",+new Date];return n&&e.push(n),t=Array.prototype.slice.call(t),e=e.concat(t)}function i(n){var e,i,r;if("boolean"==typeof t||!t)return!!t;if(r=n.join(" "),t instanceof Array&&t.length>0){for(e=0;e<
t.length;++e)if((i=t[e])instanceof RegExp&&i.test(r))return!0;return!1}if("object"==typeof t){var o=!1;if(t.hide instanceof Array)for(e=0;e<t.hide.length;++e)if((i=t.hide[e])instanceof RegExp&&i.test(r)){o=!0;break}if(t.show instanceof Array)for(e=0;e<t.show.length;++e)if((i=t.show[e])instanceof RegExp&&i.test(r))return!0;return!o&&!t.show}return!0}this.log=function(){var n=e(arguments);"undefined"!=typeof console&&"function"==typeof console.log&&i(n)&&console.log.apply(console,n)},this.warn=function(){var n=
e(arguments);"undefined"!=typeof console&&"function"==typeof console.warn&&i(n)&&console.warn.apply(console,n)},this.error=function(){var n=e(arguments);"undefined"!=typeof console&&"function"==typeof console.error&&i(n)&&console.error.apply(console,n)},this.Eu=function(n){for(var t=["API call to:",n],e=1;e<arguments.length;++e)t.push("arg"+e+":",arguments[e]);this.log.apply(this,t)},this.Pu=function(){var n=["Trace log:"];n.push.apply(n,Array.prototype.slice.call(arguments)),this.log.apply(this,
n)},this.Kl=function(n,t){var e=["Deprecated API:",n,"is deprecated and will be eventually removed."];t&&e.push("Use",t,"instead."),this.warn.apply(this,e)}}},function(n,t,e){var i=e(2).M,r=e(0),o=e(2).R;n.exports=function(n){var t,e,u,s=this;r.extend(s,{$c:function(n){if(u==i.IDLE){if(n==o.PLAY)return i.PLAYING;if(n==o.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK;if(n==o.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK}else if(u==i.PLAYBACK_NOT_STARTED){if(n==o.PLAY)return i.PLAYING;if(n==o.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK;
if(n==o.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK;if(n==o.END||n==o.AD_SKIP)return i.IDLE}else if(u==i.PLAYING){if(n==o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.BUFFER)return i.BUFFERING_DURING_PLAYBACK;if(n==o.PAUSE)return i.PAUSED;if(n==o.SEEK_START)return i.SEEKING_DURING_PLAYBACK}else if(u==i.PAUSED){if(n==o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.BUFFER)return i.BUFFERING_DURING_PAUSE;if(n==o.PLAY)return i.PLAYING;if(n==o.SEEK_START)return i.SEEKING_DURING_PAUSE}else if(u==i.BUFFERING_BEFORE_PLAYBACK){if(n==
o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.PAUSE||n==o.BUFFER_STOP)return i.PLAYBACK_NOT_STARTED;if(n==o.PLAY)return i.PLAYING;if(n==o.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK}else if(u==i.BUFFERING_DURING_PLAYBACK){if(n==o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.PLAY||n==o.BUFFER_STOP)return i.PLAYING;if(n==o.PAUSE_ON_BUFFERING)return i.PAUSED_DURING_BUFFERING;if(n==o.SEEK_START)return i.SEEKING_DURING_BUFFERING;if(n==o.PAUSE)return i.PAUSED}else if(u==i.BUFFERING_DURING_SEEKING){if(n==o.END||
n==o.AD_SKIP)return i.IDLE;if(n==o.PLAY)return i.PLAYING;if(n==o.BUFFER_STOP)return i.SEEKING_DURING_PLAYBACK;if(n==o.PAUSE)return i.PAUSED}else if(u==i.BUFFERING_DURING_PAUSE){if(n==o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.PLAY)return i.PLAYING;if(n==o.SEEK_START)return i.SEEKING_DURING_PAUSE;if(n==o.BUFFER_STOP||n==o.PAUSE)return i.PAUSED}else if(u==i.SEEKING_BEFORE_PLAYBACK){if(n==o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.PAUSE)return i.PLAYBACK_NOT_STARTED;if(n==o.PLAY)return i.PLAYING;if(n==
o.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK}else if(u==i.SEEKING_DURING_PLAYBACK){if(n==o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.PLAY)return i.PLAYING;if(n==o.PAUSE)return i.PAUSED;if(n==o.BUFFER)return i.BUFFERING_DURING_SEEKING}else if(u==i.SEEKING_DURING_BUFFERING){if(n==o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.PLAY)return i.PLAYING;if(n==o.PAUSE||n==o.BUFFER_STOP)return i.PAUSED;if(n==o.BUFFER)return i.BUFFERING_DURING_SEEKING}else if(u==i.SEEKING_DURING_PAUSE){if(n==o.END||n==o.AD_SKIP)return i.IDLE;
if(n==o.PLAY)return i.PLAYING;if(n==o.PAUSE||n==o.BUFFER_STOP)return i.PAUSED;if(n==o.BUFFER)return i.BUFFERING_DURING_PAUSE}else if(u==i.PAUSED_DURING_BUFFERING){if(n==o.END||n==o.AD_SKIP)return i.IDLE;if(n==o.SEEK_START)return i.SEEKING_DURING_BUFFERING;if(n==o.PAUSE)return i.PAUSED;if(n==o.PLAY||n==o.BUFFER_STOP)return i.PLAYING}return null},Nu:function(){return u},Ou:function(n,i){var r=s.$c(n);u!=r&&(e=u,u=r,t=i)},Jl:function(){return e},Yl:function(){return t}}),u=i.IDLE,e=null,t=NaN}},function(n,
t){n.exports=function(n,t,e){this.Gl=n,this.uc=t,this.Jc=e}},function(n,t,e){var i=e(0),r=e(8),o=e(2).R,u=e(16);n.exports=function(n){var t=n.Qr();function e(n,t){var e=new u(n);return r.zn(e.Ft,t||{}),e}function s(n,t,i,r){var o=e(n,r);return null!=i&&o.setLabel(t,i+""),o}i.extend(this,{setLoadTimeOffset:function(e){n.Iu().Eu("setLoadTimeOffset",e),t.setLoadTimeOffset(e)},setPlaybackSessionExpectedLength:function(e){n.Iu().Eu("setPlaybackSessionExpectedLength",e),t.jc().fo().pu(e)},setPlaybackSessionExpectedNumberOfItems:function(e){n.Iu().Eu("setPlaybackSessionExpectedNumberOfItems",
e),t.jc().fo().gu(e)},notifySkipAd:function(i){n.Iu().Eu("notifySkipAd",i);var r=e(o.AD_SKIP,i);t.Ou(r)},notifyLoad:function(i){n.Iu().Eu("notifyLoad",i);var r=e(o.LOAD,i);t.Xr(r)},notifyEngage:function(i){n.Iu().Eu("notifyEngage",i);var r=e(o.ENGAGE,i);t.Xr(r)},notifyCallToAction:function(i){n.Iu().Eu("notifyCallToAction",i);var r=e(o.CTA,i);t.Xr(r)},notifyDrmFail:function(i){n.Iu().Eu("notifyDrmFail",i);var r=e(o.DRM_FAILED,i);t.Xr(r)},notifyDrmApprove:function(i){n.Iu().Eu("notifyDrmApprove",i);
var r=e(o.DRM_APPROVED,i);t.Xr(r)},notifyDrmDeny:function(i){n.Iu().Eu("notifyDrmDeny",i);var r=e(o.DRM_DENIED,i);t.Xr(r)},notifyCustomEvent:function(i,r){n.Iu().Eu("notifyCustomEvent",i,r);var u=e(o.CUSTOM,r);u.setLabel("ns_st_cev",i+""),t.Xr(u)},notifyChangeBitrate:function(e,i){n.Iu().Eu("notifyChangeBitrate",e,i);var r=s(o.BIT_RATE,"ns_st_br",e,i);t.Xr(r)},notifyChangeVolume:function(e,i){n.Iu().Eu("notifyChangeVolume",e,i);var r=Math.floor(100*e),u=s(o.VOLUME,"ns_st_vo",r,i);t.Xr(u)},notifyChangeWindowState:function(e,
i){n.Iu().Eu("notifyChangeWindowState",e,i);var r=s(o.WINDOW_STATE,"ns_st_ws",e,i);t.Xr(r)},notifyChangeAudioTrack:function(e,i){n.Iu().Eu("notifyChangeAudioTrack",e,i);var r=s(o.AUDIO,"ns_st_at",e,i);t.Xr(r)},notifyChangeVideoTrack:function(e,i){n.Iu().Eu("notifyChangeVideoTrack",e,i);var r=s(o.VIDEO,"ns_st_vt",e,i);t.Xr(r)},notifyChangeSubtitleTrack:function(e,i){n.Iu().Eu("notifyChangeSubtitleTrack",e,i);var r=s(o.SUBS,"ns_st_tt",e,i);t.Xr(r)},notifyChangeCdn:function(e,i){n.Iu().Eu("notifyChangeCdn",
e,i);var r=s(o.CDN,"ns_st_cdn",e,i);t.Xr(r)},notifyError:function(n,e){t.jc().Iu().Eu("notifyError",n,e);var i=s(o.ERROR,"ns_st_er",n,e);t.Xr(i)},notifyTransferPlayback:function(n,e){t.jc().Iu().Eu("notifyTransferPlayback",n,e);var i=s(o.TRANSFER,"ns_st_rp",n,e);t.Xr(i)}})}},function(n,t,e){var i=e(0),r=e(54);function o(){var n=new r;i.extend(this,n)}i.extend(o,r),n.exports=o},function(n,t,e){var i=e(0),r=e(53);function o(){var n=this,t=new r;i.extend(n,t),i.extend(n,{getMetadataLabels:function(t){var e=
{};return t&&i.extend(e,t.getStandardLabels()),i.extend(e,n.getStandardLabels()),t&&i.extend(e,t.getCustomLabels()),i.extend(e,n.getCustomLabels()),e}})}i.extend(o,r),n.exports=o},function(n,t){n.exports={NORMAL:"norm",FULL_SCREEN:"full",MINIMIZED:"min",MAXIMIZED:"max"}}])})},4093635,[4010591,4044017,4053064,4062932],673764,[645040,671423,683385,763742],-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.ADBhelper={};Bootstrapper.nielsenHelper={};Bootstrapper.comscoreHelper={};Bootstrapper.adobeTrackerMap={};Bootstrapper.nielsenTrackerMap={};Bootstrapper.comscoreTrackerMap={};var isTVE=/(abc|fftv|freeform|fxtv|fxnetworks|watchdisney)(fe(sb|qa)?)?\.com/.test(location.hostname)||/natgeo|ngtv|nationalgeographic/.test(location.hostname)&&location.pathname.startsWith("/tv/");
var currentAdPod=0;Bootstrapper.ADBhelper.createMediaObject=function(){var capitalize=function(string){return string[0].toUpperCase()+string.substring(1)};var _dl=window.__dataLayer||{},media=_dl.media||{},isLive=media.format==="live"||media.contentType==="live";var dfltMType="video",mType=__dataLayer.media.type||dfltMType,upMtype=capitalize(mType),mKeyType=ADB.Media.MediaType[upMtype]||dfltMType;var dfltSType="vod",customType=__dataLayer.media.contentType,sKeyType;if(customType)sKeyType=customType;
else var sType=customType||dfltSType,aod=mType=="audio"&&sType!="podcast",vod=mType=="video"&&!isLive,upSType=isLive?"Live":aod?"AOD":vod?"VOD":capitalize(sType),sKeyType=ADB.Media.StreamType[upSType]||dfltSType;var mediaObject=ADB.Media.createMediaObject(__dataLayer.media.media_name,__dataLayer.media.media_id,__dataLayer.media.length,sKeyType,mKeyType);return mediaObject};Bootstrapper.ADBhelper.sessionSetupStart=function(currentPlayer){var isESPN=__dataLayer.space==="espn",dlMedia=__dataLayer.media||
{},channel=dlMedia.contentType==="vod"?"vod":(dlMedia.network||"").toLowerCase();currentAdPod=0;if(typeof window.ADB==="undefined"||ADB.Media.getInstance()===null){Bootstrapper.Logging.logMsg("Failed to setup Adobe Media Object, window.ADB was undefined");return}var newAdobeTracker=isESPN?ADB.Media.getInstance({"media.channel":channel}):ADB.Media.getInstance();adobeTrackers.push(newAdobeTracker);if(currentPlayer&&currentPlayer.guid)Bootstrapper.adobeTrackerMap[currentPlayer.guid]=newAdobeTracker;
if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.adobe===true)return;var mediaObject=Bootstrapper.ADBhelper.createMediaObject();mediaObject["media.resumed"]=__dataLayer.media.seekInSeconds!=="N/A"&&__dataLayer.media.seekInSeconds!==0?true:false;Bootstrapper.hbConfig.computeContextData();var contextData=Bootstrapper.hbConfig.contextData||{};newAdobeTracker.trackSessionStart(mediaObject,contextData)};Bootstrapper.ADBhelper.adPodStart=
function(curAdobeTracker,playhead,eventData){if(curAdobeTracker===null)return;if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.adobe===true)return;var tempMediaObject=Bootstrapper.ADBhelper.createMediaObject();Bootstrapper.hbConfig.computeContextData();tempContextData=Bootstrapper.hbConfig.contextData||{};curAdobeTracker.trackSessionStart(tempMediaObject,tempContextData);var adType=eventData.type.replace("roll","-roll");
window.adPosition=1;currentAdPod++;var adBreakObject=ADB.Media.createAdBreakObject(adType,currentAdPod,playhead);curAdobeTracker.trackEvent(ADB.Media.Event.AdBreakStart,adBreakObject)};Bootstrapper.ADBhelper.adStart=function(curAdobeTracker){if(curAdobeTracker===null)return;var adObject=ADB.Media.createAdObject(__dataLayer.media.ad_name,__dataLayer.media.ad_id,adPosition,__dataLayer.media.ad_length),adMetaData={};adMetaData["media.ad.playerName"]=__dataLayer.media.ad_player;adMetaData[ADB.Media.AdMetadataKeys.CreativeId]=
__dataLayer.media.ad_creativeId;adMetaData[ADB.Media.AdMetadataKeys.CreativeUrl]=__dataLayer.media.ad_creativeUrl;window.adPosition+=1;curAdobeTracker.trackEvent(ADB.Media.Event.AdStart,adObject,adMetaData)};Bootstrapper.ADBhelper.playheadUpdate=function(curAdobeTracker,playhead){if(curAdobeTracker===null)return;curAdobeTracker.updatePlayhead(playhead)};Bootstrapper.ADBhelper.simpleTrackEvent=function(curAdobeTracker,eventName){if(curAdobeTracker===null)return;curAdobeTracker.trackEvent(eventName)};
Bootstrapper.ADBhelper.play=function(curAdobeTracker,playerDLname,eventName,eventData,currentPlayer){if(curAdobeTracker===null)return;if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.adobe===true)return;__dataLayer.updateMedia(playerDLname,eventName,eventData,currentPlayer);var tempMediaObject=Bootstrapper.ADBhelper.createMediaObject();Bootstrapper.hbConfig.computeContextData();var tempContextData=Bootstrapper.hbConfig.contextData||
{};curAdobeTracker.trackSessionStart(tempMediaObject,tempContextData);curAdobeTracker.trackPlay()};Bootstrapper.ADBhelper.pause=function(curAdobeTracker){if(curAdobeTracker===null)return;curAdobeTracker.trackPause()};Bootstrapper.ADBhelper.end=function(curAdobeTracker,endType){if(curAdobeTracker===null)return;if(endType&&endType=="complete")curAdobeTracker.trackComplete();curAdobeTracker.trackSessionEnd()};Bootstrapper.ADBhelper.error=function(curAdobeTracker,eventData){if(curAdobeTracker===null)return;
var errorString="unknown error";if(eventData){if(eventData.code)errorString=eventData.code;if(eventData.message)errorString+=": "+eventData.message}errorString=errorString.replace(/,/ig,"");curAdobeTracker.trackError(errorString);curAdobeTracker.trackSessionEnd()};var nielsenInstance=1,nielsenChannels={"abc":{"id":"us-300437","brand":"c02"},"abcn":{"id":"us-300437","brand":"c12"},"ff":{"id":"us-900873","brand":"c02"},"fx":{"id":"us-501166","brand":"c01"},"fxx":{"id":"us-501166","brand":"c02"},"fxm":{"id":"us-501166",
"brand":"c03"},"ngc":{"id":"us-308071","brand":"c01"},"ngw":{"id":"us-308071","brand":"c02"},"sec":{"id":"us-600140","brand":"c06"},"fivethirtyeight":{"id":"us-600140","brand":"c10"},"WPVI":{"id":"us-300437","brand":"c06"},"WTVD":{"id":"us-300437","brand":"c09"},"KTRK":{"id":"us-300437","brand":"c08"},"KFSN":{"id":"us-300437","brand":"c07"},"WLS":{"id":"us-300437","brand":"c15"},"WABC":{"id":"us-300437","brand":"c16"},"KGO":{"id":"us-300437","brand":"c14"},"KABC":{"id":"us-300437","brand":"c13"}};
Bootstrapper.nielsenHelper.getSubBrand=function(channel,type){return nielsenChannels[channel]&&nielsenChannels[channel][type]||""};Bootstrapper.nielsenHelper.getContentMetadata=function(){Bootstrapper.Logging.logMsg("Nielsen: Setting Nielsen Metadata for Content");var contentMetadataObject={},_dl=window.__dataLayer||{},site=_dl.site||{},siteDes=site.site||"",shouldSetExtendedMetadata=__dataLayer.media.format!=="live";if(siteDes==="espn"||siteDes=="watchespn"){shouldSetExtendedMetadata=true;if((__dataLayer.media.format||
"").toLowerCase()==="vod")contentMetadataObject.segA=__dataLayer.media.asset_title;contentMetadataObject.segB=__dataLayer.media.league;contentMetadataObject.segC=__dataLayer.media.contentType;contentMetadataObject.crossId2=__dataLayer.media.network}else if(siteDes==="abcn"){contentMetadataObject.progen="N";contentMetadataObject.crossId1=__dataLayer.media.media_id||"n/a";contentMetadataObject.crossId2="abcnews";if(__dataLayer.media.contentType==="live"){contentMetadataObject.segB="ABC News Live";contentMetadataObject.segC=
"Live Stream"}else contentMetadataObject.program="ABC News"}else if(isTVE){contentMetadataObject.program=__dataLayer.media.title||"";contentMetadataObject.title=__dataLayer.media.media_name||"";contentMetadataObject.crossId2=__dataLayer.media.network||"";contentMetadataObject.clientid=Bootstrapper.nielsenHelper.getSubBrand(__dataLayer.media.network,"id");contentMetadataObject.subbrand=Bootstrapper.nielsenHelper.getSubBrand(__dataLayer.media.network,"brand");if(__dataLayer.media.network==="abc")contentMetadataObject.affiliate=
__dataLayer.pzn.affiliate_id||""}else if(siteDes==="sec")contentMetadataObject.crossId2="ESPN";if(shouldSetExtendedMetadata){contentMetadataObject.type="content";contentMetadataObject.assetid=__dataLayer.media.media_id||"";contentMetadataObject.program=__dataLayer.media.media_name||"";contentMetadataObject.title=__dataLayer.media.title&&__dataLayer.media.title!="N/A"?__dataLayer.media.title:__dataLayer.media.media_name||"";contentMetadataObject.length=__dataLayer.media.duration&&__dataLayer.media.duration!==
"N/A"?__dataLayer.media.duration:0;contentMetadataObject.airdate=__dataLayer.media.air_date&&__dataLayer.media.air_date!=="N/A"?(new Date(__dataLayer.media.air_date)).toISOString().split(".")[0]:"";contentMetadataObject.isfullepisode=__dataLayer.media.contentType==="live"?"y":__dataLayer.media.full_episode||"";contentMetadataObject.adloadtype=__dataLayer.media.adLoadType||""}else{contentMetadataObject.type="content";contentMetadataObject.adModel="1"}Bootstrapper.Logging.logMsg("Nielsen: Nielsen Metadata: ",
contentMetadataObject);return contentMetadataObject};Bootstrapper.nielsenHelper.sessionSetupStart=function(currentPlayer){if(typeof window.NOLBUNDLE==="undefined"){Bootstrapper.Logging.logMsg("Nielsen: Failed to setup Nielsen Instance, window.NOLBUNDLE was undefined");return}if(typeof window.nielsenConfig==="undefined"){Bootstrapper.Logging.logMsg("Nielsen: no nielsen config found");return}Bootstrapper.nielsenHelper.newSessionFlag=false;Bootstrapper.Logging.logMsg("Nielsen: Starting Nielsen Session on playback");
var tempInstance,nielsenConfigId;var nielsenKey=(!!window.__dataLayer&&!!window.__dataLayer.site&&!!window.__dataLayer.site.portal?__dataLayer.site.portal:"")||__dataLayer.site.site.split("-")[0];if(/news|tve|sports/i.test(nielsenKey))nielsenKey=__dataLayer.site.site;var _config=nielsenConfig[nielsenKey]||nielsenConfig[nielsenKey.toUpperCase()]||{};if(__dataLayer.media.format.indexOf("live")>-1||__dataLayer.media.contentType&&__dataLayer.media.contentType.indexOf("live")>-1)nielsenConfigId=_config.dtvr;
else nielsenConfigId=_config.dcr;if(nielsenConfigId===undefined)return;tempInstance=NOLBUNDLE.nlsQ(nielsenConfigId,"nlsnInstance"+nielsenInstance);nielsenInstance++;nielsenInstances.push(tempInstance);if(currentPlayer&&currentPlayer.guid)Bootstrapper.nielsenTrackerMap[currentPlayer.guid]=tempInstance;if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.nielsen===true)return;var contentMetadataObject=Bootstrapper.nielsenHelper.getContentMetadata();
tempInstance.ggPM("loadMetadata",contentMetadataObject)};Bootstrapper.nielsenHelper.playheadUpdate=function(curNielsenTracker,playhead){if(curNielsenTracker===null||typeof playhead!=="number")return;var playheadSeconds=typeof playhead==="number"?Math.floor(playhead):1;if(playheadSeconds<0)return;if(curNielsenTracker.lastPlayhead==playheadSeconds)return;curNielsenTracker.lastPlayhead=playheadSeconds;if(__dataLayer.media.contentType==="live")playheadSeconds=Math.floor(Date.now()/1E3);curNielsenTracker.ggPM("setPlayheadPosition",
playheadSeconds);Bootstrapper.Logging.logMsg("Nielsen: Updating Nielsen Playhead: ",playheadSeconds)};Bootstrapper.nielsenHelper.adStart=function(curNielsenTracker,adType){if(curNielsenTracker===null)return;else if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.nielsen===true)return;var adMetadataObject={type:adType,assetid:__dataLayer.media.ad_id};Bootstrapper.Logging.logMsg("Nielsen: Nielsen Ads Started with metadata: ",
adMetadataObject);curNielsenTracker.ggPM("loadMetadata",adMetadataObject)};Bootstrapper.nielsenHelper.play=function(curNielsenTracker){if(curNielsenTracker===null)return;else if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.nielsen===true)return;var contentMetadataObject=Bootstrapper.nielsenHelper.getContentMetadata();Bootstrapper.Logging.logMsg("Nielsen: Sending Play Event for Nielsen Tracking");curNielsenTracker.ggPM("loadMetadata",
contentMetadataObject)};Bootstrapper.nielsenHelper.pause=function(curNielsenTracker,playhead){if(curNielsenTracker===null)return;Bootstrapper.Logging.logMsg("Nielsen: Sending Pause Event for Nielsen Tracking");var playheadSeconds=typeof playhead==="number"?Math.floor(playhead):1;curNielsenTracker.ggPM("stop",playheadSeconds)};Bootstrapper.nielsenHelper.end=function(curNielsenTracker,playhead){if(curNielsenTracker===null)return;Bootstrapper.Logging.logMsg("Nielsen: Sending End Event for Nielsen Tracking");
Bootstrapper.nielsenHelper.newSessionFlag=true;var playheadSeconds=typeof playhead==="number"?Math.floor(playhead):1;curNielsenTracker.ggPM("stop",playheadSeconds);curNielsenTracker.ggPM("end",playheadSeconds)};Bootstrapper.getC3=function(_callLetters){var callLetters=_callLetters||"",map={"kabc":"kabc","kgo":"kgo","kfsn":"kfsn","ktrk":"ktrk","wtvd":"wtvd","wabc":"wabc","wls":"wls","wpvi":"wpvi","andscape":"andscape","theundefeated":"andscape","abcn":"abcnews.com","video.disney.com":"DISNEYVIDEOS",
"music.disney.com":"DISNEYMUSIC","liveshows.disney.com":"DLIVE","movies.disney.com":"DISNEYMOVIES","nature.disney.com":"DISNEYNATURE","princess.disney.com":"PRI","pirates.disney.com":"PIR","shows.disney.com":"DISNEYSHOWS","toystory.disney.com":"TOY","muppets.disney.com":"DISNEYMUPPETS","films.nationalgeographic.com":"DISNEYNATGEO","fairies.disney.com":"FAI","cars.disney.com":"CARS","gma":"GMA","abc":"abc.com","ff":"freeform.com","fxn":"fxnetworks.com","ngtv":"nationalgeographic.com/tv","natgeo":"nationalgeographic.com",
"fivethirtyeight":"Fivethirtyeight"};if(_callLetters==="sec"){var type="";if(__dataLayer.media.format==="live"||__dataLayer.media.contentType==="live")type="live";else if(__dataLayer.media.format==="replay")type="replay";else type="vod";return type}if(!!window.__dataLayer&&!!window.__dataLayer.site&&!!window.__dataLayer.site.portal&&__dataLayer.site.portal==="matterhorn"&&!map[callLetters])return"matterhorn";return map[callLetters]||callLetters};Bootstrapper.getC4=function(_callLetters,type){var callLetters=
_callLetters||"",map={vod:{"abcn":"abcnewsdigital","sec":"SECSPORTS","fivethirtyeight":"abcnewsdigital"},live:{"abcn":"abcnewslive","sec":"SECSPORTS","fivethirtyeight":"abcnewslive"}};if(/espn|fantasy/i.test(__dataLayer.site.site)){if(__dataLayer.site.site==="fantasy")return"fantasy - nonplus";else if(__dataLayer.site.editionKey==="espn-es-us")return"espndeportescom - nonplus";return"espncom - nonplus"}return map[type][callLetters]||"*null"};var userConsentValue=!!window.gateway&&!gateway.environment&&
Bootstrapper.Cookies.get("usprivacy")!=="1YYY"?"1":"0",siteKey,publisherId,cGenre="*null",setC4Val,publisherName,c6Val;if(/(^|\.)(6abc|abc11|abc13|abc30|abc7|abc7chicago|abc7news|abc7ny|abcotvs(sb|qa)?)\.com(:\d+)?$/i.test(location.hostname)){if(/\/video\/embed/i.test(location.pathname)&&/partner=google/i.test(location.search)&&/source=google/i.test(location.search))publisherId="3000032";else publisherId="15382676";siteKey="ABC Local";cGenre="News"}else if(/fftv|freeform/i.test(location.hostname)){siteKey=
"freeform";publisherId="15382774"}else if(/fxtv|fxnetworks/i.test(location.hostname)){siteKey=__dataLayer.pzn.affiliate_id||__dataLayer.pzn.mvpdName;publisherId="31864640"}else if(/natgeo|ngtv|nationalgeographic/i.test(location.hostname)){siteKey=__dataLayer.pzn.affiliate_id||__dataLayer.pzn.mvpdName;publisherId="31864641"}else if(/fivethirtyeight|538/i.test(location.hostname)){siteKey="FiveThirtyEight";publisherId="15382676";cGenre="News"}else if(/espn|andscape|undefeated/i.test(location.hostname)){siteKey=
"ESPN";publisherId="3000005";cGenre="Sports";if(location.hostname.indexOf("espn")>-1)setC4Val=true}else if(/abcnews|goodmorningamerica/i.test(location.hostname)){siteKey="ABCNews";publisherId="15382676";cGenre="News";setC4Val=true}else if(location.hostname.toLowerCase().indexOf("abc")>-1){siteKey=__dataLayer.pzn.affiliate_id||__dataLayer.pzn.mvpdName||"ABC";publisherId="15382676";setC4Val=true}else if(!!window.__dataLayer&&!!window.__dataLayer.site&&!!window.__dataLayer.site.portal&&__dataLayer.site.portal===
"matterhorn"){siteKey="Matterhorn";publisherId="15354235"}else if(/secsports\.com/i.test(location.hostname)){siteKey="sec";publisherId="3000005";setC4Val=true;publisherName="ESPN";cGenre="Sports";if(__dataLayer.page.sport||__dataLayer.page.league)c6Val=__dataLayer.page.sport||__dataLayer.page.league}if(publisherId!==undefined)window.waitForComscore=setInterval(function(){if(!!window.ns_&&!!window.ns_.analytics){clearInterval(waitForComscore);Bootstrapper.comscoreAnalytics=window.ns_.analytics;Bootstrapper.comscoreAnalytics.PlatformApi.setPlatformAPI(Bootstrapper.comscoreAnalytics.PlatformApi.PlatformApis.WebBrowser);
Bootstrapper.comscoreAnalytics.configuration.addClient(new Bootstrapper.comscoreAnalytics.configuration.PublisherConfiguration({"publisherId":publisherId,"persistentLabels":{"cs_ucfr":userConsentValue}}));Bootstrapper.comscoreAnalytics.configuration.setApplicationName("Unified Player");Bootstrapper.comscoreAnalytics.configuration.enableFirstPartyCookie()}},500);Bootstrapper.comscoreHelper.validate=function(val){if(val=="N/A"||val=="none")return"*null";return val};Bootstrapper.comscoreHelper.splitDateParts=
function(dateString){var dateFormat=/(\d{4})-?(\d{2})-?(\d{2})/;if(typeof dateString!=="string"||!dateFormat.test(dateString))return"*null";var matches=dateFormat.exec(dateString);return matches?[matches[1],matches[2],matches[3]].map(function(match){return parseInt(match)}):"*null"};Bootstrapper.comscoreHelper.formatISO=function(dateString){try{return(new Date(dateString)).toISOString()}catch(e){return dateString}};Bootstrapper.comscoreHelper.secondsToMilliseconds=function(seconds){try{return isNaN(parseInt(seconds))?
0:parseInt(seconds)*1E3}catch(e){return 0}};Bootstrapper.comscoreHelper.sessionSetupStart=function(currentPlayer){if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.comscore===true)return;if(typeof Bootstrapper.comscoreAnalytics==="undefined"){Bootstrapper.Logging.logMsg("comscoreAnalytics not configured, no publisherId");return}if(!Bootstrapper.comscoreHelper.hasInit){Bootstrapper.comscoreAnalytics.start();Bootstrapper.comscoreAnalytics.players=
[];Bootstrapper.comscoreAnalytics.sa_array=[];Bootstrapper.comscoreAnalytics.cm_array=[];Bootstrapper.comscoreAnalytics.cm_map={};Bootstrapper.comscoreHelper.hasInit=true}Bootstrapper.comscoreAnalytics.lastEvent="";Bootstrapper.comscoreHelper.newSessionFlag=false;Bootstrapper.comscoreAnalytics.players.push(currentPlayer);var curPlayerIndex=Bootstrapper.comscoreAnalytics.players.indexOf(currentPlayer)===-1?Bootstrapper.comscoreAnalytics.sa_array.length-1:Bootstrapper.comscoreAnalytics.players.indexOf(currentPlayer);
Bootstrapper.comscoreAnalytics.sa_array.push(new Bootstrapper.comscoreAnalytics.StreamingAnalytics);Bootstrapper.comscoreAnalytics.sa_array[curPlayerIndex].createPlaybackSession();var cm=new Bootstrapper.comscoreAnalytics.StreamingAnalytics.ContentMetadata,mediaItem=currentPlayer.mediaItem||currentPlayer.bundle_.player_.mediaItem,mediaType=__dataLayer.media.format==="live"||__dataLayer.media.contentType==="live"?Bootstrapper.comscoreAnalytics.StreamingAnalytics.ContentMetadata.ContentType.LIVE:__dataLayer.media.duration<
600?Bootstrapper.comscoreAnalytics.StreamingAnalytics.ContentMetadata.ContentType.SHORT_FORM_ON_DEMAND:Bootstrapper.comscoreAnalytics.StreamingAnalytics.ContentMetadata.ContentType.LONG_FORM_ON_DEMAND,siteKey=Bootstrapper.getC3(__dataLayer.site.site)||__dataLayer.site.site,stationTitle=__dataLayer.media.stationTitle||"",programTitle=Bootstrapper.comscoreHelper.validate(__dataLayer.media.program),seasonNumber=Bootstrapper.comscoreHelper.validate(__dataLayer.media.season),episodeNumber=Bootstrapper.comscoreHelper.validate(__dataLayer.media.episodeNumber),
episodeTitle=Bootstrapper.comscoreHelper.validate(__dataLayer.media.title),networkAffiliate=Bootstrapper.comscoreHelper.validate(__dataLayer.media.network),fDuration=__dataLayer.media.duration||mediaItem.duration||0,isLive=__dataLayer.media.format==="live"||__dataLayer.media.contentType==="live";fDuration=mediaItem&&mediaItem.streamType==="live"?0:fDuration;cm.setMediaType(mediaType);cm.setUniqueId(mediaItem.id);cm.setLength(Bootstrapper.comscoreHelper.secondsToMilliseconds(fDuration));cm.setStationTitle(stationTitle||
__dataLayer.site.site);if(mediaItem.c3||mediaItem.tracking&&mediaItem.tracking.comscore&&mediaItem.tracking.comscore.c3||siteKey)cm.setDictionaryClassificationC3(mediaItem.c3||(mediaItem.tracking&&mediaItem.tracking.comscore&&mediaItem.tracking.comscore.c3?mediaItem.tracking.comscore.c3:null)||siteKey);if(setC4Val)if(mediaItem.c4||mediaItem.tracking&&mediaItem.tracking.comscore&&mediaItem.tracking.comscore.c4)cm.setDictionaryClassificationC4(mediaItem.c4||mediaItem.tracking.comscore.c4);else cm.setDictionaryClassificationC4(Bootstrapper.getC4(__dataLayer.site.site,
isLive?"live":"vod"));if(siteKey==="andscape"||siteKey==="the undefeated")cm.setDictionaryClassificationC6(siteKey);if(currentPlayer.bundle_.player_.mediaItem.show&&currentPlayer.bundle_.player_.mediaItem.show.showPrefix&&currentPlayer.bundle_.player_.mediaItem.show.showPrefix.length>0)cm.setDictionaryClassificationC6(currentPlayer.bundle_.player_.mediaItem.show.showPrefix);if(c6Val||mediaItem.c6||mediaItem.tracking&&mediaItem.tracking.comscore&&mediaItem.tracking.comscore.c6)cm.setDictionaryClassificationC6(c6Val||
mediaItem.c6||mediaItem.tracking.comscore.c6);cm.setPublisherName(publisherName||stationTitle||siteKey);cm.setProgramTitle(programTitle);cm.setEpisodeTitle(episodeTitle);cm.setEpisodeSeasonNumber(seasonNumber);cm.setEpisodeNumber(episodeNumber);if(__dataLayer.media.format.indexOf("live")>-1)if(currentPlayer.bundle_.player_.mediaItem.location&&currentPlayer.bundle_.player_.mediaItem.location.indexOf("WEST")>-1)cm.setFeedType(Bootstrapper.comscoreAnalytics.StreamingAnalytics.ContentMetadata.ContentFeedType.WEST_HD);
else cm.setFeedType(Bootstrapper.comscoreAnalytics.StreamingAnalytics.ContentMetadata.ContentFeedType.EAST_HD);cm.setNetworkAffiliate(networkAffiliate);if(isTVE)cGenre=__dataLayer.media.genre||mediaItem.videoShowGenre||"*null";cm.setGenreName(cGenre);var tvAirDateString=Bootstrapper.comscoreHelper.formatISO(__dataLayer.media.air_date),checkTVAirDate=Bootstrapper.comscoreHelper.validate(tvAirDateString),tvAirDate=checkTVAirDate==="*null"?checkTVAirDate:Bootstrapper.comscoreHelper.splitDateParts(checkTVAirDate);
var digitalDateString=Bootstrapper.comscoreHelper.formatISO(__dataLayer.media.digital_date),checkDigitalDate=Bootstrapper.comscoreHelper.validate(digitalDateString),digitalDate=checkTVAirDate==="*null"?checkDigitalDate:Bootstrapper.comscoreHelper.splitDateParts(checkDigitalDate);if(Array.isArray(tvAirDate))cm.setDateOfTvAiring(tvAirDate[0],tvAirDate[1],tvAirDate[2]);if(Array.isArray(digitalDate))cm.setDateOfTvAiring(digitalDate[0],digitalDate[1],digitalDate[2]);var completeEpisode=__dataLayer.media.full_episode&&
__dataLayer.media.full_episode==="y"?true:false;cm.classifyAsCompleteEpisode(completeEpisode);Bootstrapper.comscoreAnalytics.cm_array.push(cm);Bootstrapper.comscoreAnalytics.sa_array[curPlayerIndex].setMetadata(cm);if(currentPlayer&&currentPlayer.guid){Bootstrapper.comscoreAnalytics.cm_map[currentPlayer.guid]=cm;Bootstrapper.comscoreTrackerMap[currentPlayer.guid]=Bootstrapper.comscoreAnalytics.sa_array[curPlayerIndex]}};Bootstrapper.comscoreHelper.getContentMeta=function(currentPlayer){var currentMetadata;
if(currentPlayer&&currentPlayer.guid){currentMetadata=Bootstrapper.comscoreAnalytics.cm_map[currentPlayer.guid];if(currentMetadata)return currentMetadata}currentMetadata=Bootstrapper.comscoreAnalytics.cm_array[Bootstrapper.comscoreAnalytics.players.indexOf(currentPlayer)];return currentMetadata};Bootstrapper.comscoreHelper.play=function(curTracker,currentPlayer){if(curTracker===null)return;else if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.comscore===
true)return;var cm=Bootstrapper.comscoreHelper.getContentMeta(currentPlayer);curTracker.setMetadata(cm);if(Bootstrapper.comscoreHelper.seeked===1){var lpHead=__dataLayer.media.lastPlayhead,lpHeadMillis=Bootstrapper.comscoreHelper.secondsToMilliseconds(lpHead);if(lpHeadMillis){curTracker.startFromPosition(lpHeadMillis);Bootstrapper.comscoreHelper.seeked=0}}curTracker.notifyPlay()};Bootstrapper.comscoreHelper.end=function(curTracker){if(curTracker===null)return;curTracker.notifyEnd();Bootstrapper.comscoreHelper.newSessionFlag=
true};Bootstrapper.comscoreHelper.pause=function(curTracker){if(curTracker===null)return;curTracker.notifyPause()};Bootstrapper.comscoreHelper.seeking=function(curTracker){var ignoreEvents=["dtci.loaded","dtci.contentEnded","dtci.play","dtci.playing"];if(curTracker===null||ignoreEvents.indexOf(Bootstrapper.last_hb_event)>-1)return;curTracker.notifySeekStart();Bootstrapper.comscoreHelper.seeked=1};Bootstrapper.comscoreHelper.adStart=function(curTracker,playerInfo,currentPlayer,eventData){if(curTracker===
null)return;else if(__dataLayer.media&&__dataLayer.media.dcfConfigs&&__dataLayer.media.dcfConfigs.disableDCF&&__dataLayer.media.dcfConfigs.disableDCF.comscore===true)return;var am=new Bootstrapper.comscoreAnalytics.StreamingAnalytics.AdvertisementMetadata;var adType=eventData.type==="preroll"?Bootstrapper.comscoreAnalytics.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.ON_DEMAND_PRE_ROLL:eventData.type==="midroll"?Bootstrapper.comscoreAnalytics.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.ON_DEMAND_MID_ROLL:
eventData.type==="postroll"?Bootstrapper.comscoreAnalytics.StreamingAnalytics.AdvertisementMetadata.AdvertisementType.ON_DEMAND_POST_ROLL:"";am.setMediaType(adType);am.setLength(__dataLayer.media.ad_length?Bootstrapper.comscoreHelper.secondsToMilliseconds(__dataLayer.media.ad_length):0);var cm=Bootstrapper.comscoreHelper.getContentMeta(currentPlayer);am.setRelatedContentMetadata(cm);curTracker.setMetadata(am);curTracker.notifyPlay()};Bootstrapper.comscoreHelper.adPlay=function(curTracker){if(curTracker===
null)return;curTracker.notifyPlay()};Bootstrapper.comscoreHelper.adPause=function(curTracker){if(curTracker===null)return;curTracker.notifyPause()};Bootstrapper.comscoreHelper.adEnd=function(curTracker){if(curTracker===null)return;curTracker.notifyEnd()};Bootstrapper.Conviva=Bootstrapper.Conviva||{};Bootstrapper.Conviva.isLive=function(index,curTrackerBundle){var dlMedia=__dataLayer.media||{},meta=dlMedia.qoe||[],metaBundle=meta[index]||{},qoe=metaBundle.playback||{};var isLive=qoe.isLive&&qoe.isLive===
"live"||dlMedia.format==="live"||dlMedia.contentType==="live"?true:false;if(!curTrackerBundle.curLive||curTrackerBundle.curLive!=isLive)curTrackerBundle.curLive=isLive;return isLive};Bootstrapper.Conviva.getContentAssetName=function(index,curTrackerBundle){var media=__dataLayer.media||{},meta=media.qoe||[],metaBundle=meta[index]||{},qoe=metaBundle.playback||{},name=media.media_name,title=media.title,assetName=media.asset_title;var trackName=qoe.assetName||name||title||assetName;if(!curTrackerBundle.curTitle||
curTrackerBundle!=trackName)curTrackerBundle=trackName;return trackName};Bootstrapper.Conviva.resetDefaultValue=function(str){var check=/N\/A|none|unknown/i;return check.test(str)?str.replace(/N\/A|none|unknown/i,"NA"):str};Bootstrapper.Conviva.setInitialContentInfo=function(curPlayer,index,curTrackerBundle){var dl=__dataLayer,visitor=dl.visitor||{},media=dl.media||{},meta=media.qoe||[],metaBundle=meta[index]||{},qoe=metaBundle.playback||{},bundle=curPlayer.bundle_||{},player=bundle.player_||{},mediaItem=
player.mediaItem||{},playerTech=player.tech_||{},hostname=location.hostname,href=location.href,pathName=location.pathname;var requiredMetadata={};var swid=qoe.viewerId||visitor.swid,playerName=qoe.playerName||media.player_name||"Unified_TMS",playerLocation=qoe.playerLocation||"",platformVersion=qoe.platformVersion||qoe.applicationVersion||media.player_name||curPlayer.platformVersion||"NA",duration=media.duration||mediaItem.duration||0,currentSrc=qoe.streamUrl?qoe.streamUrl:typeof playerTech.currentSrc===
"function"?playerTech.currentSrc():"",utmUrl=qoe["c3.cm.utmTrackingUrl"]||location.search||"NA";requiredMetadata[Conviva.Constants.PLAYER_NAME]=playerName;requiredMetadata[Conviva.Constants.APPLICATION_VERSION]=platformVersion;requiredMetadata[Conviva.Constants.STREAM_URL]=currentSrc;requiredMetadata[Conviva.Constants.VIEWER_ID]=swid;requiredMetadata[Conviva.Constants.ASSET_NAME]=curTrackerBundle.curTitle||Bootstrapper.Conviva.getContentAssetName(index,curTrackerBundle);requiredMetadata[Conviva.Constants.IS_LIVE]=
curTrackerBundle.curLive||Bootstrapper.Conviva.isLive(index,curTrackerBundle)?Conviva.Constants.StreamType.LIVE:Conviva.Constants.StreamType.VOD;requiredMetadata[Conviva.Constants.DURATION]=duration;requiredMetadata["c3.cm.utmTrackingUrl"]=utmUrl;if(qoe.dcType)Conviva.Analytics.reportDeviceMetric(Conviva.Constants.Network.CONNECTION_TYPE,qoe.dcType);var brandMetadata={},videoResolution,startType=qoe.startType||media.start_type,mediaType=qoe.mediaType||media.contentType,site=location.href||qoe.site||
hostname,page=qoe.page||href,path=qoe.path||pathName;if(qoe.videoResolution)videoResolution=qoe.videoResolution;else if(typeof playerTech.currentDimensions==="function")var dimensions=playerTech.currentDimensions(),width=dimensions.width,height=dimensions.height,videoResolution=height&&width?Math.round(width)+"x"+Math.round(height):null;else videoResolution="x";if(Bootstrapper.Conviva.config.metaAccount==="dmed"){brandMetadata.adBlockerDetected=qoe.adBlockerDetected||mediaItem.adBlockerDetected||
"NA";brandMetadata.applicationName=qoe?qoe.appBrand+"WEB":undefined;brandMetadata["c3.cm.brand"]=qoe?qoe.appBrand:undefined;brandMetadata.contentLengthSec=typeof duration=="number"?""+duration:duration;brandMetadata.mediaType=mediaType;brandMetadata.page=page;brandMetadata.playerLocation=playerLocation;brandMetadata.site=site;brandMetadata.startType=startType;brandMetadata.videoResolution=videoResolution}else if(Bootstrapper.Conviva.config.metaAccount==="sec"){brandMetadata.page=page;brandMetadata.mediaType=
mediaType;brandMetadata.path=path;brandMetadata.startType=startType;brandMetadata.videoResolution=videoResolution}var playerInfo=Object.assign(requiredMetadata,brandMetadata);for(var key in playerInfo)if(Object.hasOwnProperty.call(playerInfo,key))playerInfo[key]=Bootstrapper.Conviva.resetDefaultValue(playerInfo[key]);return playerInfo};Bootstrapper.Conviva.setContentInfo=function(curPlayer,index,curTrackerBundle){var dl=__dataLayer,visitor=dl.visitor||{},media=dl.media||{},meta=media.qoe||[],metaBundle=
meta[index]||{},qoe=metaBundle.playback||{},pzn=dl.pzn||{},bundle=curPlayer.bundle_||{},player=bundle.player_||{},mediaItem=player.mediaItem||{},tracking=mediaItem.tracking||{},heartbeats=tracking.heartbeats||{},playerTech=player.tech_||{},hostname=location.hostname,page=dl.page.page_name||qoe.page||location.href,pathName=location.pathname;var requiredMetadata={};var adBlockerDetected=qoe.adBlockerDetected||mediaItem.adBlockerDetected||"NA",affiliate=qoe["c3.cm.affiliate"]||media.affiliate_name||
mediaItem.network&&mediaItem.network.affiliateOutput||"NA";brand=Bootstrapper.Conviva.appBrand||qoe.appBrand||"NA",assetType=qoe["c3.cm.contentType"]||media.type||media.contentType,audioLanguage=qoe.audioLanguage||"NA",browser=qoe.browser||"NA",browserVersion=qoe.browserVersion||"NA",captionLanguage=qoe.captionLanguage||"NA",categoryType=qoe["contentCategory"]||qoe["c3.cm.categoryType"]||"NA",channel=qoe["c3.cm.channel"]||heartbeats.Channel||media.network||"NA",cmsName=qoe.name||qoe["c3.cm.name"]||
"NA",cmsId=qoe["c3.cm.id"]||player.mediaItem.id||"NA";cmBrand=qoe["c3.cm.brand"]||qoe.appBrand||"NA",createdDate=qoe.createdDate||"NA",currentSrc=qoe.streamUrl?qoe.streamUrl:typeof playerTech.currentSrc==="function"?playerTech.currentSrc():"",dcType=qoe.dcType!="unknown"?qoe.dcType:"NA",description=qoe.description||"NA",deviceMarketingName=qoe.deviceMarketingName||"NA",deviceName=qoe.deviceName||"NA",deviceOs=qoe.deviceOs||"NA",display=qoe.display||"NA",duration=qoe.contentLengthSec||media.duration||
mediaItem.duration||0,episodeNumber=qoe["episodeNumber"]||qoe["c3.cm.episodeNumber"]||media.episodeNumber||"NA",fps=qoe["fps"]||"NA",frameworkName=qoe.frameworkName||"NA",frameworkVersion=qoe.frameworkVersion||"NA",genre=qoe["genre"]||qoe["c3.cm.genre"]||media.genre||"NA",genreList=qoe["c3.cm.genreList"]||"NA",network=qoe.network||"NA",playerName=qoe.playerName||media.player_name||"Unified_TMS",platformVersion=qoe.appVersion||qoe.platformVersion||qoe.applicationVersion||media.player_name||curPlayer.platformVersion||
"NA",provider=qoe.provider||"NA",rayOrder=qoe.rayOrder||"NA",resolution=qoe.resolution||"NA",resolutionType=qoe.resolutionType||"NA",resource=qoe.resource||"NA",Resource=qoe.Resource||"NA",row=qoe.row||"NA",seriesName=qoe["seriesName"]||qoe["c3.cm.seriesName"]||"NA",seasonNumber=qoe["seasonNumber"]||qoe["c3.cm.seasonNumber"]||media.season||"NA",showcode=qoe.showcode||"NA",showTitle=qoe["c3.cm.showTitle"]||media.media_name||"NA",startType=qoe.startType||"NA",streamProtocol=qoe.streamProtocol||"NA",
streamType=media.format,subtitleLanguage=qoe.subtitleLanguage||"NA",swid=qoe.viewerId||visitor.swid,title=qoe.title||"NA",tvRating=qoe.tvRating||"NA",type=qoe.type||"NA",updatedDate=qoe.updatedDate||"NA",url=qoe.url||"NA",utmUrl=qoe["c3.cm.utmTrackingUrl"]||location.search||"NA",vod=qoe.vod||"NA";requiredMetadata[Conviva.Constants.PLAYER_NAME]=playerName;requiredMetadata[Conviva.Constants.APPLICATION_VERSION]=platformVersion;requiredMetadata[Conviva.Constants.STREAM_URL]=currentSrc;requiredMetadata[Conviva.Constants.ASSET_NAME]=
curTrackerBundle.curTitle||Bootstrapper.Conviva.getContentAssetName(index,curTrackerBundle);requiredMetadata[Conviva.Constants.IS_LIVE]=curTrackerBundle.curLive||Bootstrapper.Conviva.isLive(index,curTrackerBundle)?Conviva.Constants.StreamType.LIVE:Conviva.Constants.StreamType.VOD;requiredMetadata[Conviva.Constants.VIEWER_ID]=swid||"NA";requiredMetadata[Conviva.Constants.FRAMEWORK_NAME]=frameworkName;requiredMetadata[Conviva.Constants.FRAMEWORK_VERSION]=frameworkVersion;requiredMetadata[Conviva.Constants.DURATION]=
duration;requiredMetadata.streamProtocol=streamProtocol;requiredMetadata.appBrand=brand;requiredMetadata.resource=resource;requiredMetadata.dcType=dcType;requiredMetadata.contentLengthSec=typeof duration=="number"?""+duration:duration;requiredMetadata.adBlockerDetected=adBlockerDetected;requiredMetadata.applicationName=cmBrand+" WEB";requiredMetadata["c3.cm.brand"]=cmBrand;requiredMetadata["c3.cm.affiliate"]=affiliate;requiredMetadata["c3.cm.categoryType"]=categoryType;requiredMetadata["c3.cm.channel"]=
channel;requiredMetadata["c3.cm.contentType"]=assetType||streamType;requiredMetadata["c3.cm.name"]=cmsName;requiredMetadata["c3.cm.id"]=cmsId;requiredMetadata.partner="DEET";requiredMetadata["c3.cm.seriesName"]=seriesName;requiredMetadata["c3.cm.seasonNumber"]=seasonNumber;requiredMetadata["c3.cm.showTitle"]=showTitle;requiredMetadata["c3.cm.episodeNumber"]=episodeNumber;requiredMetadata["c3.cm.genre"]=genre;requiredMetadata["c3.cm.genreList"]=genreList;requiredMetadata["c3.cm.utmTrackingUrl"]=utmUrl;
if(!!window.__dataLayer&&__dataLayer.site&&/news|tve/i.test(__dataLayer.site.portal)){delete requiredMetadata["c3.cm.seriesName"];requiredMetadata["c3.cm.showTitle"]=qoe["seriesName"]!==undefined&&qoe["seriesName"]!=="NA"?qoe["seriesName"]:qoe["c3.cm.seriesName"]!==undefined&&qoe["c3.cm.seriesName"]!=="NA"?qoe["c3.cm.seriesName"]:qoe["c3.cm.showTitle"]!==undefined&&qoe["c3.cm.showTitle"]!=="NA"?qoe["c3.cm.showTitle"]:media.title||media.media_name||"NA"}if(!!window.__dataLayer&&__dataLayer.site&&__dataLayer.site.site&&
__dataLayer.site.site==="fxnetworks"){requiredMetadata.AdstreamTag=qoe.AdstreamTag;requiredMetadata.playerName=qoe.playerName;requiredMetadata.createdDate=createdDate;requiredMetadata.deviceCategory=qoe.deviceCategory;requiredMetadata.display=display;requiredMetadata[Conviva.Constants.DURATION]=duration;requiredMetadata[Conviva.Constants.ENCODED_FRAMERATE]=Number(fps);requiredMetadata.network=network;requiredMetadata[Conviva.Constants.PLAYER_NAME]=qoe.playerName||"Akamai Media Player";requiredMetadata.Rating=
qoe.Rating;requiredMetadata.resolution=resolution;requiredMetadata[Conviva.Constants.DEFAULT_RESOURCE]=Resource;requiredMetadata.showCode=qoe.showCode;requiredMetadata.startType=startType;requiredMetadata.streamProtocol="";requiredMetadata.videoType=qoe.videoType;requiredMetadata.updatedDate=updatedDate;requiredMetadata.videoPage=qoe.videoPage;requiredMetadata.videoTitle=qoe.videoTitle}var brandMetadata={},type=qoe.mediaType||media.contentType,drmProtectionType=qoe.drmProtectionType||"NA",startType=
qoe.startType||media.start_type,sport=qoe.sport||"NA",league=qoe.league||"NA",accessType=qoe.accessType||"NA",spoId=qoe.spoId||"NA",mvpd=qoe.mvpd||pzn.mvpdName||"NA",network=qoe.network||"NA",audioLanguage=qoe.audioLanguage||"NA",locationName=qoe.locationName||"NA",plt=qoe.plt||"NA",eventName=qoe.eventName||"NA",eventType=qoe.eventType||"NA",partnerSDK=qoe.partnerSDK||"NA",pccId=qoe.pccId||"NA",airingId=qoe.airingId||"NA",cdnName=qoe.cdnName||"NA",prt=qoe.prt||"NA",appVersion=qoe.appVersion||qoe["c3.app.version"]||
"NA",eventId=qoe.eventId||"NA",drmProtocol=qoe.drmProtocol||"NA",disneyPlayerVersion=qoe.disneyPlayerVersion||qoe.frameworkVersion||"NA",bundleVersion=qoe.frameworkVersion||qoe.bundleVersion||"NA",videoResolution;if(qoe.videoResolution)videoResolution=qoe.videoResolution;else if(typeof playerTech.currentDimensions==="function")var dimensions=playerTech.currentDimensions(),width=dimensions.width,height=dimensions.height,videoResolution=height&&width?Math.round(width)+"x"+Math.round(height):null;else videoResolution=
"x";if(Bootstrapper.Conviva.config.metaAccount==="dmed"){brandMetadata.startType=startType;brandMetadata.drmProtectionType=drmProtectionType;brandMetadata.videoResolution=videoResolution;brandMetadata.sport=sport;brandMetadata.league=league;brandMetadata.spoId=spoId;brandMetadata.site=qoe.site||hostname;brandMetadata.page=page;brandMetadata.mediaType=qoe.mediaType;brandMetadata.accessType=accessType;brandMetadata.network=network;brandMetadata.audioLanguage=audioLanguage;brandMetadata.locationName=
locationName;brandMetadata.plt=plt;brandMetadata.airingId=airingId;brandMetadata.mvpd=mvpd;brandMetadata.eventName=eventName;brandMetadata.eventType=eventType;brandMetadata.partnerSDK=partnerSDK;brandMetadata.pccId=pccId;brandMetadata.cdnName=cdnName;brandMetadata.prt=prt;brandMetadata.playerVersion=disneyPlayerVersion;brandMetadata.resolutionType=resolutionType;brandMetadata.rayOrder=rayOrder}else if(Bootstrapper.Conviva.config.metaAccount==="sec"){brandMetadata.affiliate=affiliate;brandMetadata.airingId=
airingId;brandMetadata.assetType=assetType;brandMetadata.eventId=eventId;brandMetadata.league=league;brandMetadata.mediaType=type;brandMetadata.network=network;brandMetadata.site=qoe.site||hostname;brandMetadata.sport=sport;brandMetadata.userId=swid;brandMetadata.page=page;brandMetadata.path=pathName;brandMetadata.startType=startType;brandMetadata.prt=brand;brandMetadata.videoResolution=videoResolution;brandMetadata.spoId=spoId;brandMetadata.accessType=accessType;brandMetadata.audioLanguage=audioLanguage;
brandMetadata.locationName=locationName;brandMetadata.plt=plt;brandMetadata.cdnName=cdnName;brandMetadata.mvpd=mvpd;brandMetadata.eventName=eventName;brandMetadata.eventType=eventType;brandMetadata.partnerSDK=partnerSDK;brandMetadata.pccId=pccId;brandMetadata.drmProtocol=drmProtocol;brandMetadata.playerVersion=disneyPlayerVersion;brandMetadata.bundleVersion=bundleVersion}var contentInfo=Object.assign(requiredMetadata,brandMetadata);for(var key in contentInfo)if(Object.hasOwnProperty.call(contentInfo,
key))contentInfo[key]=Bootstrapper.Conviva.resetDefaultValue(contentInfo[key]);return contentInfo};Bootstrapper.Conviva.setAdInfo=function(curPlayer,index,curTrackerBundle){var dl=__dataLayer,visitor=dl.visitor||{},media=dl.media||{},meta=media.qoe||[],metaBundle=meta[index]||{},qoe=metaBundle.ads||{},bundle=curPlayer.bundle_||{},player=bundle.player_||{},playerTech=player.tech_||{},currentSrc;var adTitle=qoe.assetName||media.ad_name||media.ad_id||"NA",swid=visitor.swid||"NA",currentSrc=qoe.streamUrl?
qoe.streamUrl:typeof playerTech.currentSrc==="function"?playerTech.currentSrc():"",duration=qoe.duration||media.ad_length||0,encodedFramerate=qoe.encodedFramerate||0,brand=Bootstrapper.Conviva.appBrand||qoe.appBrand||"NA";var adTechnology=qoe["c3.ad.technology"]==="Client Side"||qoe["c3.ad.technology"]==="Server Side"?qoe["c3.ad.technology"]:"NA",adId=qoe["c3.ad.id"]||media.ad_id||"NA",adSystem=qoe["c3.ad.system"]||"NA",adPosition=qoe["c3.ad.position"]||"NA",adIsSlate=typeof qoe["c3.ad.isSlate"]==
"boolean"?""+qoe["c3.ad.isSlate"]:"false",mediaFileApiFramework=qoe["c3.ad.mediaFileApiFramework"]||"NA",adStitcher=qoe["c3.ad.adStitcher"]||"NA",firstAdSystem=qoe["c3.ad.firstAdSystem"]||"NA",firstAdId=qoe["c3.ad.firstAdId"]||media.ad_id||"NA",firstCreativeId=qoe["c3.ad.firstCreativeId"]||"NA",creativeId=qoe["c3.ad.creativeId"]||"NA",contentAssetName=curTrackerBundle.curTitle||Bootstrapper.Conviva.getContentAssetName(index,curTrackerBundle);var adInfo={"c3.ad.technology":adTechnology,"c3.ad.id":adId,
"c3.ad.system":adSystem,"c3.ad.position":adPosition,"c3.ad.isSlate":adIsSlate,"adDuration":duration.toString(),"c3.ad.mediaFileApiFramework":mediaFileApiFramework,"c3.ad.adStitcher":adStitcher,"c3.ad.firstAdSystem":firstAdSystem,"c3.ad.firstAdId":firstAdId,"c3.ad.firstCreativeId":firstCreativeId,"c3.ad.creativeId":creativeId,appBrand:brand,"contentAssetName":contentAssetName};adInfo[Conviva.Constants.VIEWER_ID]=swid;adInfo[Conviva.Constants.ASSET_NAME]=adTitle;adInfo[Conviva.Constants.IS_LIVE]=curTrackerBundle.curLive||
Bootstrapper.Conviva.isLive(index,curTrackerBundle)?Conviva.Constants.StreamType.LIVE:Conviva.Constants.StreamType.VOD;adInfo[Conviva.Constants.STREAM_URL]=currentSrc;adInfo[Conviva.Constants.DURATION]=duration;adInfo[Conviva.Constants.ENCODED_FRAMERATE]=encodedFramerate;for(var key in adInfo)if(Object.hasOwnProperty.call(adInfo,key))adInfo[key]=Bootstrapper.Conviva.resetDefaultValue(adInfo[key]);return adInfo};Bootstrapper.Conviva.setPlayerInfo=function(index){var playerInfo={},dl=__dataLayer,media=
dl.media||{},meta=media.qoe||[],metaBundle=meta[index]||{},qoe=metaBundle.playback||{};playerInfo[Conviva.Constants.FRAMEWORK_NAME]=qoe.frameworkName||"";playerInfo[Conviva.Constants.FRAMEWORK_VERSION]=qoe.frameworkVersion||"";return playerInfo};Bootstrapper.Conviva.setAdPlayerInfo=function(index){var adPlayerInfo={},dl=__dataLayer,media=dl.media||{},meta=media.qoe||[],metaBundle=meta[index]||{},qoe=metaBundle.ads||{};adPlayerInfo[Conviva.Constants.FRAMEWORK_NAME]=qoe.frameworkName||"";adPlayerInfo[Conviva.Constants.FRAMEWORK_VERSION]=
qoe.frameworkVersion||"";return adPlayerInfo};Bootstrapper.Conviva.sessionStartUp=function(index){if(!Bootstrapper.Conviva.ready)Bootstrapper.Conviva.configureConviva(Bootstrapper.Conviva.initOptions);var trackerBundle={videoPlaying:true,error:false,tracker:Conviva.Analytics.buildVideoAnalytics()};Bootstrapper.Conviva.analyticsTrackers[index]=trackerBundle;if(!Bootstrapper.Conviva.setULEvent){window.addEventListener("beforeunload",Bootstrapper.Conviva.cleanSessionsUnload,{capture:true});Bootstrapper.Conviva.setULEvent=
true}};Bootstrapper.Conviva.adsStartUp=function(curTracker,index){var adsTrackerBundle={tracker:Conviva.Analytics.buildAdAnalytics(curTracker),adsPlaying:true,startedSession:false};Bootstrapper.Conviva.adsTrackers[index]=adsTrackerBundle;if(!Bootstrapper.Conviva.setULEvent){window.addEventListener("beforeunload",Bootstrapper.Conviva.cleanSessionsUnload,{capture:true});Bootstrapper.Conviva.setULEvent=true}}},4087592,[4010591,4044017,4053064,4062932],686725,[645040,671423,683385,763742],-1);